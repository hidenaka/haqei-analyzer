<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜“çµŒã‚¦ãƒ«ãƒˆãƒ©ã‚·ãƒ³ã‚¯ãƒ»ãƒ­ã‚¸ãƒƒã‚¯20 ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .test-title { font-size: 18px; font-weight: bold; color: #333; margin-bottom: 10px; }
        .test-result { background: #f9f9f9; padding: 10px; border-radius: 3px; margin: 10px 0; }
        .success { border-left: 5px solid #4CAF50; }
        .error { border-left: 5px solid #f44336; }
        .info { border-left: 5px solid #2196F3; }
        .warning { border-left: 5px solid #ff9800; }
        button { padding: 10px 20px; margin: 5px; background: #007cba; color: white; border: none; border-radius: 3px; cursor: pointer; }
        button:hover { background: #005a8b; }
        pre { background: #f5f5f5; padding: 10px; border-radius: 3px; overflow-x: auto; }
        .status { display: inline-block; padding: 3px 8px; border-radius: 3px; font-size: 12px; font-weight: bold; }
        .status.pass { background: #4CAF50; color: white; }
        .status.fail { background: #f44336; color: white; }
        .status.pending { background: #ff9800; color: white; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”¯ æ˜“çµŒã‚¦ãƒ«ãƒˆãƒ©ã‚·ãƒ³ã‚¯ãƒ»ãƒ­ã‚¸ãƒƒã‚¯20 ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ</h1>
        
        <div class="test-section">
            <div class="test-title">1. ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ãƒ†ã‚¹ãƒˆ</div>
            <button onclick="testSystemInitialization()">åˆæœŸåŒ–ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <div id="init-result" class="test-result"></div>
        </div>

        <div class="test-section">
            <div class="test-title">2. åŸºç¤ãƒ­ã‚¸ãƒƒã‚¯5ã¤ã®ãƒ†ã‚¹ãƒˆ</div>
            <button onclick="testBasicLogics()">åŸºç¤ãƒ­ã‚¸ãƒƒã‚¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <div id="basic-result" class="test-result"></div>
        </div>

        <div class="test-section">
            <div class="test-title">3. TripleOSçµ±åˆãƒ†ã‚¹ãƒˆ</div>
            <button onclick="testTripleOSIntegration()">çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <div id="integration-result" class="test-result"></div>
        </div>

        <div class="test-section">
            <div class="test-title">4. å®Ÿãƒ‡ãƒ¼ã‚¿è¨ºæ–­ãƒ†ã‚¹ãƒˆ</div>
            <button onclick="testRealDiagnosis()">å®Ÿè¨ºæ–­ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <div id="diagnosis-result" class="test-result"></div>
        </div>

        <div class="test-section">
            <div class="test-title">5. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ</div>
            <button onclick="testPerformance()">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <div id="performance-result" class="test-result"></div>
        </div>

        <div class="test-section">
            <div class="test-title">6. å…¨ä½“ãƒ†ã‚¹ãƒˆçµæœ</div>
            <button onclick="runAllTests()">å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <div id="overall-result" class="test-result"></div>
        </div>
    </div>

    <!-- å¿…è¦ãªJSãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ -->
    <script src="public/js/shared/core/DataManager.js"></script>
    <script src="public/js/os-analyzer/core/Calculator.js"></script>
    <script src="public/js/os-analyzer/core/IChingUltraSyncLogic.js"></script>
    <script src="public/js/os-analyzer/core/TripleOSEngine.js"></script>

    <script>
        let testResults = {
            init: null,
            basic: null,
            integration: null,
            diagnosis: null,
            performance: null
        };

        // 1. ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ãƒ†ã‚¹ãƒˆ
        async function testSystemInitialization() {
            const resultDiv = document.getElementById('init-result');
            resultDiv.innerHTML = '<div class="info">åˆæœŸåŒ–ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</div>';
            
            try {
                // DataManagerã®åˆæœŸåŒ–
                console.log('Testing DataManager initialization...');
                const dataManager = new DataManager();
                
                // IChingUltraSyncLogicã®åˆæœŸåŒ–
                console.log('Testing IChingUltraSyncLogic initialization...');
                const ichingLogic = new IChingUltraSyncLogic(dataManager);
                
                // TripleOSEngineã®åˆæœŸåŒ–
                console.log('Testing TripleOSEngine initialization...');
                const tripleOSEngine = new TripleOSEngine(dataManager);
                
                // åˆæœŸåŒ–æˆåŠŸã®ç¢ºèª
                const checks = [
                    { name: 'DataManager', result: dataManager !== null },
                    { name: 'IChingUltraSyncLogic', result: ichingLogic !== null && ichingLogic.trigramData !== null },
                    { name: 'TripleOSEngine', result: tripleOSEngine !== null && tripleOSEngine.ichingLogic !== null },
                    { name: 'DataManager-Logicé€£æº', result: tripleOSEngine.ichingLogic.dataManager === dataManager }
                ];
                
                let html = '<div class="success">âœ… ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ãƒ†ã‚¹ãƒˆæˆåŠŸ</div>';
                html += '<h4>åˆæœŸåŒ–ãƒã‚§ãƒƒã‚¯çµæœ:</h4>';
                
                checks.forEach(check => {
                    const status = check.result ? 'pass' : 'fail';
                    html += `<div>â€¢ ${check.name}: <span class="status ${status}">${check.result ? 'PASS' : 'FAIL'}</span></div>`;
                });
                
                resultDiv.innerHTML = html;
                testResults.init = checks.every(c => c.result);
                
            } catch (error) {
                console.error('Initialization test failed:', error);
                resultDiv.innerHTML = `<div class="error">âŒ åˆæœŸåŒ–ãƒ†ã‚¹ãƒˆå¤±æ•—: ${error.message}</div>`;
                testResults.init = false;
            }
        }

        // 2. åŸºç¤ãƒ­ã‚¸ãƒƒã‚¯5ã¤ã®ãƒ†ã‚¹ãƒˆ
        async function testBasicLogics() {
            const resultDiv = document.getElementById('basic-result');
            resultDiv.innerHTML = '<div class="info">åŸºç¤ãƒ­ã‚¸ãƒƒã‚¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</div>';
            
            try {
                const dataManager = new DataManager();
                const ichingLogic = new IChingUltraSyncLogic(dataManager);
                
                // ãƒ†ã‚¹ãƒˆç”¨ã®ãƒ€ãƒŸãƒ¼OSãƒ‡ãƒ¼ã‚¿
                const testEngineOS = { osId: 1, osName: "ä¹¾ç‚ºå¤©", hexagramId: 1 };
                const testInterfaceOS = { hexagramId: 11, hexagramInfo: { name_jp: "åœ°å¤©æ³°" } };
                const testSafeModeOS = { hexagramId: 2, hexagramInfo: { name_jp: "å¤ç‚ºåœ°" } };
                
                const logicTests = [
                    {
                        name: 'å¤§ãƒ†ãƒ¼ãƒã®è«–ç†',
                        test: () => ichingLogic.analyzeGreatTheme(testEngineOS, testInterfaceOS, testSafeModeOS)
                    },
                    {
                        name: 'å†…å¤–ã®åè»¢è«–ç†',
                        test: () => ichingLogic.analyzeInternalExternalInversion(testEngineOS, testInterfaceOS, testSafeModeOS)
                    },
                    {
                        name: 'å…«å¦ã®å…±é³´è«–ç†',
                        test: () => ichingLogic.analyzeTrigramResonance(testEngineOS, testInterfaceOS, testSafeModeOS)
                    },
                    {
                        name: 'çˆ»ä½å¯¾å¿œã®è«–ç†',
                        test: () => ichingLogic.analyzeLineCorrespondence(testEngineOS, testInterfaceOS, testSafeModeOS)
                    },
                    {
                        name: 'äº”è¡Œã®ç›¸ç”Ÿãƒ»ç›¸å‰‹è«–ç†',
                        test: () => ichingLogic.analyzeFiveElementCycles(testEngineOS, testInterfaceOS, testSafeModeOS)
                    }
                ];
                
                let html = '<div class="success">âœ… åŸºç¤ãƒ­ã‚¸ãƒƒã‚¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå®Œäº†</div>';
                html += '<h4>ãƒ­ã‚¸ãƒƒã‚¯åˆ¥ãƒ†ã‚¹ãƒˆçµæœ:</h4>';
                
                let allPassed = true;
                
                for (const logicTest of logicTests) {
                    try {
                        const result = logicTest.test();
                        const passed = result && result.type && result.diagnosis;
                        html += `<div>â€¢ ${logicTest.name}: <span class="status ${passed ? 'pass' : 'fail'}">${passed ? 'PASS' : 'FAIL'}</span></div>`;
                        if (passed && result.diagnosis) {
                            html += `<div style="margin-left: 20px; font-size: 12px; color: #666;">è¨ºæ–­: ${result.diagnosis.substring(0, 100)}...</div>`;
                        }
                        allPassed = allPassed && passed;
                    } catch (error) {
                        html += `<div>â€¢ ${logicTest.name}: <span class="status fail">ERROR</span> - ${error.message}</div>`;
                        allPassed = false;
                    }
                }
                
                resultDiv.innerHTML = html;
                testResults.basic = allPassed;
                
            } catch (error) {
                console.error('Basic logic test failed:', error);
                resultDiv.innerHTML = `<div class="error">âŒ åŸºç¤ãƒ­ã‚¸ãƒƒã‚¯ãƒ†ã‚¹ãƒˆå¤±æ•—: ${error.message}</div>`;
                testResults.basic = false;
            }
        }

        // 3. TripleOSçµ±åˆãƒ†ã‚¹ãƒˆ
        async function testTripleOSIntegration() {
            const resultDiv = document.getElementById('integration-result');
            resultDiv.innerHTML = '<div class="info">çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</div>';
            
            try {
                const dataManager = new DataManager();
                const tripleOSEngine = new TripleOSEngine(dataManager);
                
                // ãƒ†ã‚¹ãƒˆç”¨ã®ãƒ€ãƒŸãƒ¼OSãƒ‡ãƒ¼ã‚¿
                const testEngineOS = { osId: 1, osName: "ä¹¾ç‚ºå¤©", hexagramId: 1 };
                const testInterfaceOS = { hexagramId: 11, hexagramInfo: { name_jp: "åœ°å¤©æ³°" } };
                const testSafeModeOS = { hexagramId: 2, hexagramInfo: { name_jp: "å¤ç‚ºåœ°" } };
                const testConsistencyScore = { overall: 0.8 };
                const testDimensions = [
                    { displayName: "å‰µé€ æ€§", value: 0.9 },
                    { displayName: "å®‰å®šæ€§", value: 0.8 },
                    { displayName: "èª¿å’Œæ€§", value: 0.7 }
                ];
                
                // çµ±åˆåˆ†æã®å®Ÿè¡Œ
                const integrationResult = tripleOSEngine.generateIntegrationInsights(
                    testEngineOS,
                    testInterfaceOS,
                    testSafeModeOS,
                    testConsistencyScore,
                    testDimensions
                );
                
                const checks = [
                    { name: 'TripleOSEngineåˆæœŸåŒ–', result: tripleOSEngine.ichingLogic !== null },
                    { name: 'çµ±åˆåˆ†æå®Ÿè¡Œ', result: integrationResult !== null },
                    { name: 'ã‚¦ãƒ«ãƒˆãƒ©ã‚·ãƒ³ã‚¯åˆ†æçµæœ', result: integrationResult.ultraSyncAnalysis !== null },
                    { name: 'ãƒ­ã‚¸ãƒƒã‚¯çµæœå­˜åœ¨', result: integrationResult.ultraSyncAnalysis?.logicResults !== null },
                    { name: 'çµ±åˆæ´å¯Ÿå­˜åœ¨', result: integrationResult.ultraSyncAnalysis?.integratedInsights !== null }
                ];
                
                let html = '<div class="success">âœ… TripleOSçµ±åˆãƒ†ã‚¹ãƒˆå®Œäº†</div>';
                html += '<h4>çµ±åˆãƒã‚§ãƒƒã‚¯çµæœ:</h4>';
                
                let allPassed = true;
                checks.forEach(check => {
                    const status = check.result ? 'pass' : 'fail';
                    html += `<div>â€¢ ${check.name}: <span class="status ${status}">${check.result ? 'PASS' : 'FAIL'}</span></div>`;
                    allPassed = allPassed && check.result;
                });
                
                if (integrationResult.ultraSyncAnalysis) {
                    html += '<h4>åˆ†æçµæœã‚µãƒ³ãƒ—ãƒ«:</h4>';
                    html += `<pre>${JSON.stringify(integrationResult.ultraSyncAnalysis.overallAssessment, null, 2)}</pre>`;
                }
                
                resultDiv.innerHTML = html;
                testResults.integration = allPassed;
                
            } catch (error) {
                console.error('Integration test failed:', error);
                resultDiv.innerHTML = `<div class="error">âŒ çµ±åˆãƒ†ã‚¹ãƒˆå¤±æ•—: ${error.message}</div>`;
                testResults.integration = false;
            }
        }

        // 4. å®Ÿãƒ‡ãƒ¼ã‚¿è¨ºæ–­ãƒ†ã‚¹ãƒˆ
        async function testRealDiagnosis() {
            const resultDiv = document.getElementById('diagnosis-result');
            resultDiv.innerHTML = '<div class="info">å®Ÿè¨ºæ–­ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</div>';
            
            try {
                // å®Ÿéš›ã®è¨ºæ–­ãƒ—ãƒ­ã‚»ã‚¹ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
                const dataManager = new DataManager();
                const tripleOSEngine = new TripleOSEngine(dataManager);
                
                // å®Ÿãƒ‡ãƒ¼ã‚¿ã«è¿‘ã„ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
                const realEngineOS = { 
                    osId: 13, 
                    osName: "å¤©ç«åŒäºº", 
                    hexagramId: 13,
                    hexagramInfo: { name_jp: "å¤©ç«åŒäºº", catchphrase: "å¤§åŒå›£çµ" }
                };
                const realInterfaceOS = { 
                    hexagramId: 37, 
                    hexagramInfo: { name_jp: "é¢¨ç«å®¶äºº", catchphrase: "å®¶æ—å’Œåˆ" }
                };
                const realSafeModeOS = { 
                    hexagramId: 52, 
                    hexagramInfo: { name_jp: "è‰®ç‚ºå±±", catchphrase: "é™æ­¢å®‰å®š" }
                };
                
                // ã‚¦ãƒ«ãƒˆãƒ©ã‚·ãƒ³ã‚¯åˆ†æå®Ÿè¡Œ
                const analysisResult = tripleOSEngine.ichingLogic.analyzeTripleOSWithUltraSync(
                    realEngineOS,
                    realInterfaceOS,
                    realSafeModeOS
                );
                
                let html = '<div class="success">âœ… å®Ÿè¨ºæ–­ãƒ†ã‚¹ãƒˆå®Œäº†</div>';
                html += '<h4>è¨ºæ–­çµæœæ¦‚è¦:</h4>';
                
                // å„ãƒ­ã‚¸ãƒƒã‚¯ã®çµæœã‚’ãƒã‚§ãƒƒã‚¯
                const logicResults = analysisResult.logicResults;
                const logicNames = [
                    'greatTheme', 'internalExternalInversion', 'trigramResonance', 
                    'lineCorrespondence', 'fiveElementCycles'
                ];
                
                let diagnosticCount = 0;
                logicNames.forEach(logicName => {
                    if (logicResults[logicName] && logicResults[logicName].diagnosis) {
                        diagnosticCount++;
                        html += `<div><strong>${logicResults[logicName].type}</strong>: ${logicResults[logicName].diagnosis}</div>`;
                    }
                });
                
                html += `<h4>ç·åˆè©•ä¾¡:</h4>`;
                html += `<div>èª¿å’Œãƒ¬ãƒ™ãƒ«: ${Math.round(analysisResult.overallAssessment.harmonyLevel * 100)}%</div>`;
                html += `<div>è¤‡é›‘æ€§: ${Math.round(analysisResult.overallAssessment.complexityLevel * 100)}%</div>`;
                html += `<div>ãƒãƒ†ãƒ³ã‚·ãƒ£ãƒ«: ${Math.round(analysisResult.overallAssessment.potentialLevel * 100)}%</div>`;
                html += `<div>ãƒªã‚¹ã‚¯: ${Math.round(analysisResult.overallAssessment.riskLevel * 100)}%</div>`;
                
                const success = diagnosticCount >= 3; // æœ€ä½3ã¤ã®ãƒ­ã‚¸ãƒƒã‚¯ãŒæ©Ÿèƒ½ã—ã¦ã„ã‚Œã°æˆåŠŸ
                resultDiv.innerHTML = html;
                testResults.diagnosis = success;
                
            } catch (error) {
                console.error('Real diagnosis test failed:', error);
                resultDiv.innerHTML = `<div class="error">âŒ å®Ÿè¨ºæ–­ãƒ†ã‚¹ãƒˆå¤±æ•—: ${error.message}</div>`;
                testResults.diagnosis = false;
            }
        }

        // 5. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
        async function testPerformance() {
            const resultDiv = document.getElementById('performance-result');
            resultDiv.innerHTML = '<div class="info">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</div>';
            
            try {
                const dataManager = new DataManager();
                const tripleOSEngine = new TripleOSEngine(dataManager);
                
                const testEngineOS = { osId: 1, osName: "ä¹¾ç‚ºå¤©", hexagramId: 1 };
                const testInterfaceOS = { hexagramId: 11, hexagramInfo: { name_jp: "åœ°å¤©æ³°" } };
                const testSafeModeOS = { hexagramId: 2, hexagramInfo: { name_jp: "å¤ç‚ºåœ°" } };
                
                // å®Ÿè¡Œæ™‚é–“æ¸¬å®š
                const iterations = 10;
                const times = [];
                
                for (let i = 0; i < iterations; i++) {
                    const startTime = performance.now();
                    
                    const result = tripleOSEngine.ichingLogic.analyzeTripleOSWithUltraSync(
                        testEngineOS,
                        testInterfaceOS,
                        testSafeModeOS
                    );
                    
                    const endTime = performance.now();
                    times.push(endTime - startTime);
                }
                
                const avgTime = times.reduce((a, b) => a + b, 0) / times.length;
                const maxTime = Math.max(...times);
                const minTime = Math.min(...times);
                
                let html = '<div class="success">âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå®Œäº†</div>';
                html += '<h4>å®Ÿè¡Œæ™‚é–“çµ±è¨ˆ:</h4>';
                html += `<div>å¹³å‡å®Ÿè¡Œæ™‚é–“: ${avgTime.toFixed(2)}ms</div>`;
                html += `<div>æœ€å¤§å®Ÿè¡Œæ™‚é–“: ${maxTime.toFixed(2)}ms</div>`;
                html += `<div>æœ€å°å®Ÿè¡Œæ™‚é–“: ${minTime.toFixed(2)}ms</div>`;
                html += `<div>å®Ÿè¡Œå›æ•°: ${iterations}å›</div>`;
                
                // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŸºæº–ï¼šå¹³å‡100msä»¥ä¸‹ãªã‚‰åˆæ ¼
                const performanceGood = avgTime < 100;
                html += `<div>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è©•ä¾¡: <span class="status ${performanceGood ? 'pass' : 'warning'}">${performanceGood ? 'è‰¯å¥½' : 'è¦æ”¹å–„'}</span></div>`;
                
                resultDiv.innerHTML = html;
                testResults.performance = performanceGood;
                
            } catch (error) {
                console.error('Performance test failed:', error);
                resultDiv.innerHTML = `<div class="error">âŒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆå¤±æ•—: ${error.message}</div>`;
                testResults.performance = false;
            }
        }

        // å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
        async function runAllTests() {
            const resultDiv = document.getElementById('overall-result');
            resultDiv.innerHTML = '<div class="info">å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</div>';
            
            await testSystemInitialization();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            await testBasicLogics();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            await testTripleOSIntegration();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            await testRealDiagnosis();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            await testPerformance();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            // ç·åˆçµæœ
            const testNames = ['init', 'basic', 'integration', 'diagnosis', 'performance'];
            const passedTests = testNames.filter(name => testResults[name] === true).length;
            const totalTests = testNames.length;
            
            let html = `<div class="${passedTests === totalTests ? 'success' : 'warning'}">`;
            html += `${passedTests === totalTests ? 'âœ…' : 'âš ï¸'} å…¨ä½“ãƒ†ã‚¹ãƒˆçµæœ: ${passedTests}/${totalTests} æˆåŠŸ`;
            html += '</div>';
            
            html += '<h4>ãƒ†ã‚¹ãƒˆåˆ¥çµæœ:</h4>';
            const testLabels = {
                init: 'ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–',
                basic: 'åŸºç¤ãƒ­ã‚¸ãƒƒã‚¯',
                integration: 'TripleOSçµ±åˆ',
                diagnosis: 'å®Ÿãƒ‡ãƒ¼ã‚¿è¨ºæ–­',
                performance: 'ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹'
            };
            
            testNames.forEach(name => {
                const result = testResults[name];
                const status = result === true ? 'pass' : result === false ? 'fail' : 'pending';
                const label = result === true ? 'PASS' : result === false ? 'FAIL' : 'PENDING';
                html += `<div>â€¢ ${testLabels[name]}: <span class="status ${status}">${label}</span></div>`;
            });
            
            if (passedTests === totalTests) {
                html += '<div class="success" style="margin-top: 15px;"><strong>ğŸ‰ æ˜“çµŒã‚¦ãƒ«ãƒˆãƒ©ã‚·ãƒ³ã‚¯ãƒ»ãƒ­ã‚¸ãƒƒã‚¯20ã‚·ã‚¹ãƒ†ãƒ ã¯æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ï¼</strong></div>';
            } else {
                html += '<div class="warning" style="margin-top: 15px;"><strong>âš ï¸ ä¸€éƒ¨ã®ãƒ†ã‚¹ãƒˆã§å•é¡ŒãŒæ¤œå‡ºã•ã‚Œã¾ã—ãŸã€‚è©³ç´°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</strong></div>';
            }
            
            resultDiv.innerHTML = html;
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®åˆæœŸåŒ–
        window.addEventListener('load', () => {
            console.log('ğŸ”¯ æ˜“çµŒã‚¦ãƒ«ãƒˆãƒ©ã‚·ãƒ³ã‚¯ãƒ»ãƒ­ã‚¸ãƒƒã‚¯20 ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸åˆæœŸåŒ–å®Œäº†');
        });
    </script>
</body>
</html>