# Mac miniç”¨ HAQEI Analyzer MCPç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

## ğŸ¯ æ¦‚è¦

MacBook Airã‹ã‚‰Mac miniã¸åŒã˜MCPç’°å¢ƒã‚’ç§»è¡Œã™ã‚‹ãŸã‚ã®ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚

## ğŸ“‹ å‰ææ¡ä»¶

### Mac miniå´ã§å¿…è¦ãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢
- **Node.js v22.17.0ä»¥ä¸Š**
- **Python 3.12ä»¥ä¸Š**
- **Git**
- **Claude Desktop** (æœ€æ–°ç‰ˆ)

### ç¢ºèªã‚³ãƒãƒ³ãƒ‰
```bash
node --version    # v22.17.0ä»¥ä¸Š
python3 --version # Python 3.12ä»¥ä¸Š
git --version     # ä»»æ„ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³
```

## ğŸ”„ åŒæœŸæ‰‹é †

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¯ãƒ­ãƒ¼ãƒ³/åŒæœŸ

Mac miniå´ã§å®Ÿè¡Œï¼š

```bash
# æ–°è¦ã‚¯ãƒ­ãƒ¼ãƒ³ã®å ´åˆ
cd ~/Desktop
git clone <ãƒªãƒã‚¸ãƒˆãƒªURL> haqei-analyzer
cd haqei-analyzer

# æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ›´æ–°ã®å ´åˆ
cd ~/Desktop/haqei-analyzer
git pull origin main
```

### 2. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# Node.jsä¾å­˜é–¢ä¿‚
npm install

# Pythonä¾å­˜é–¢ä¿‚ï¼ˆSerenaç”¨ã€å¿…è¦ã«å¿œã˜ã¦ï¼‰
pip3 install -r requirements.txt  # requirements.txtãŒã‚ã‚‹å ´åˆ
```

### 3. MCPç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Ÿè¡Œ

```bash
# ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«å®Ÿè¡Œæ¨©é™ä»˜ä¸
chmod +x setup-mcp-environment.sh

# ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Ÿè¡Œ
./setup-mcp-environment.sh
```

ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯è‡ªå‹•çš„ã«ï¼š
- Mac miniã‚’æ¤œå‡º
- é©åˆ‡ãªãƒ‘ã‚¹ã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ
- Claude Desktopè¨­å®šã‚’ä½œæˆ
- ä¾å­˜é–¢ä¿‚ã‚’ãƒã‚§ãƒƒã‚¯

### 4. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª

ç”Ÿæˆã•ã‚ŒãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªï¼š

```bash
# MCPè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
cat ~/Library/Application\ Support/Claude/claude_desktop_config.json

# ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«
cat .env.mcp

# Cipherè¨­å®š
cat cipher.config.yaml

# Serenaè¨­å®š  
cat .serena/project.yml
```

### 5. Claude Desktopã®å†èµ·å‹•

1. Claude Desktopã‚’å®Œå…¨çµ‚äº†
2. Claude Desktopã‚’å†èµ·å‹•
3. å³ä¸‹ã®MCPã‚µãƒ¼ãƒãƒ¼æ¥ç¶šçŠ¶æ³ã‚’ç¢ºèª

## ğŸ§ª å‹•ä½œãƒ†ã‚¹ãƒˆ

### MCPã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•

```bash
# å…¨ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•
./start-mcp-services.sh

# å€‹åˆ¥ã‚µãƒ¼ãƒ“ã‚¹ãƒ†ã‚¹ãƒˆ
npm run cipher:start
node tsumiki-cli.js --help
python3 -m serena_mcp --version
npx @playwright/mcp --version
```

### æ¥ç¶šç¢ºèª

```bash
# Cipheræ¥ç¶šç¢ºèª
curl http://localhost:3001/

# ãƒãƒ¼ãƒˆä½¿ç”¨çŠ¶æ³ç¢ºèª
lsof -i :3001
```

## ğŸ“‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®ç¢ºèª

Mac miniä¸Šã§ä»¥ä¸‹ã®æ§‹é€ ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªï¼š

```
~/Desktop/haqei-analyzer/
â”œâ”€â”€ cipher-server.js          # Cipher MCPã‚µãƒ¼ãƒãƒ¼
â”œâ”€â”€ tsumiki-cli.js            # Tsumiki CLI
â”œâ”€â”€ .serena/
â”‚   â””â”€â”€ project.yml           # Serenaè¨­å®š
â”œâ”€â”€ setup-mcp-environment.sh  # ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ start-mcp-services.sh     # ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ .env.mcp                  # ç’°å¢ƒå¤‰æ•°
â””â”€â”€ claude-mcp-config.json    # MCPè¨­å®šå‚è€ƒ
```

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. Node.jsãƒ‘ã‚¹ãŒè¦‹ã¤ã‹ã‚‰ãªã„
```bash
# Node.jsã®å ´æ‰€ç¢ºèª
which node

# NVMã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆ
nvm list
nvm use v22.17.0
```

#### 2. Python ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„
```bash
# Python3ã®å ´æ‰€ç¢ºèª
which python3

# ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¤œç´¢ãƒ‘ã‚¹ç¢ºèª
python3 -c "import sys; print('\n'.join(sys.path))"
```

#### 3. Claude Desktopè¨­å®šãŒåæ˜ ã•ã‚Œãªã„
```bash
# Claude Desktopå®Œå…¨å†èµ·å‹•
pkill -f "Claude Desktop"
sleep 3
open -a "Claude Desktop"

# MCPè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
cat ~/Library/Application\ Support/Claude/claude_desktop_config.json
```

#### 4. ãƒãƒ¼ãƒˆç«¶åˆ
```bash
# ãƒãƒ¼ãƒˆä½¿ç”¨çŠ¶æ³ç¢ºèª
lsof -i :3001

# ç«¶åˆãƒ—ãƒ­ã‚»ã‚¹çµ‚äº†
pkill -f cipher-server
```

### ãƒ‡ãƒãƒƒã‚°ç”¨ã‚³ãƒãƒ³ãƒ‰

```bash
# ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±è¡¨ç¤º
uname -a
hostname

# ç’°å¢ƒå¤‰æ•°ç¢ºèª
env | grep -E "(NODE|PYTHON|PATH)"

# ãƒ•ã‚¡ã‚¤ãƒ«æ¨©é™ç¢ºèª
ls -la setup-mcp-environment.sh
ls -la start-mcp-services.sh
```

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ³¨æ„äº‹é …

- **ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼**: ~/.ssh/config ã§SSHã‚­ãƒ¼ã‚’é©åˆ‡ã«è¨­å®š
- **ç’°å¢ƒå¤‰æ•°**: æ©Ÿå¯†æƒ…å ±ã¯.env.mcpã«è¨˜è¼‰ã›ãšã€ã‚·ã‚¹ãƒ†ãƒ ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨
- **ãƒ•ã‚¡ã‚¤ãƒ«æ¨©é™**: ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æ¨©é™ã‚’é©åˆ‡ã«è¨­å®š

## ğŸš€ å®Œäº†ç¢ºèª

ã™ã¹ã¦æ­£ã—ãè¨­å®šã•ã‚ŒãŸå ´åˆï¼š

1. **Claude Desktopèµ·å‹•æ™‚**: å³ä¸‹ã«MCPã‚µãƒ¼ãƒãƒ¼æ¥ç¶šè¡¨ç¤º
2. **ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ**: MCPã‚³ãƒãƒ³ãƒ‰ãŒæ­£å¸¸å‹•ä½œ
3. **ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•**: `./start-mcp-services.sh` ãŒæ­£å¸¸å®Œäº†

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆï¼š

1. **ãƒ­ã‚°ç¢ºèª**: å„ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ç¢ºèª
2. **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«**: ãƒ‘ã‚¹ã‚„æ¨©é™ã‚’å†ç¢ºèª
3. **ä¾å­˜é–¢ä¿‚**: Node.js/Python ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª

## ğŸ‰ å®Œäº†

Mac miniç’°å¢ƒã§HAQEI Analyzer + MCPç’°å¢ƒãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã‚Œã°ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ã§ã™ï¼

---

**Generated by HAQEI Analyzer MCP Setup System**  
**Date**: $(date)  
**MacBook Air â†’ Mac mini Migration Guide**