<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>64å¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å®Œå…¨æŠ½å‡ºãƒ»åˆ†æ</title>
    <style>
        body { 
            font-family: monospace; 
            padding: 20px; 
            background: #1a1a1a; 
            color: #fff; 
            line-height: 1.6;
        }
        .analysis-section { 
            margin: 20px 0; 
            padding: 15px; 
            border: 1px solid #444; 
            border-radius: 8px; 
            background: rgba(0,0,0,0.3);
        }
        .keyword-category {
            margin: 10px 0;
            padding: 10px;
            background: rgba(59, 130, 246, 0.1);
            border-left: 3px solid #3b82f6;
        }
        .keyword-list {
            color: #22d3ee;
            font-weight: bold;
        }
        button {
            padding: 12px 25px;
            background: linear-gradient(135deg, #059669, #10b981);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>ğŸ” 64å¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å®Œå…¨æŠ½å‡ºãƒ»åˆ†æ</h1>
    <p>å®Ÿéš›ã®hardcodedç‰¹æ€§ã‹ã‚‰å…¨ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’æŠ½å‡ºã—ã€4è»¸ã§åˆ†é¡</p>
    
    <button onclick="extractAllKeywords()">ğŸ¯ å…¨ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æŠ½å‡ºãƒ»åˆ†æ</button>
    
    <div id="results"></div>

    <script src="./public/assets/H384H64database.js"></script>
    <script src="./public/js/core/TripleOSInteractionAnalyzer.js"></script>
    <script>
        function extractAllKeywords() {
            const results = document.getElementById('results');
            results.innerHTML = '<div>ğŸ”„ 64å¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰åˆ†æä¸­...</div>';
            
            try {
                const analyzer = new TripleOSInteractionAnalyzer();
                
                // å…¨ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰åé›†
                const allKeywords = new Set();
                const hexagramData = [];
                
                for (let i = 1; i <= 64; i++) {
                    const char = analyzer.getHexagramCharacteristics(i);
                    if (char && char.keywords) {
                        char.keywords.forEach(keyword => allKeywords.add(keyword));
                        hexagramData.push({
                            id: i,
                            name: char.name,
                            keywords: char.keywords,
                            strength: char.strength,
                            weakness: char.weakness,
                            energy: char.energy
                        });
                    }
                }
                
                const sortedKeywords = Array.from(allKeywords).sort();
                
                // 4è»¸ã§ã®åˆ†é¡ï¼ˆæ‰‹å‹•ã ãŒå®Ÿãƒ‡ãƒ¼ã‚¿åŸºæº–ï¼‰
                const speedAxisAnalysis = analyzeSpeedAxis(hexagramData);
                const valueAxisAnalysis = analyzeValueAxis(hexagramData);
                const timeAxisAnalysis = analyzeTimeAxis(hexagramData);
                const directionAxisAnalysis = analyzeDirectionAxis(hexagramData);
                
                let html = `
                    <div class="analysis-section">
                        <h2>ğŸ“Š å…¨64å¦ã‹ã‚‰æŠ½å‡ºã•ã‚ŒãŸå…¨ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰</h2>
                        <p><strong>ç·ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ•°:</strong> ${sortedKeywords.length}</p>
                        <div class="keyword-list">[${sortedKeywords.join(', ')}]</div>
                    </div>
                    
                    <div class="analysis-section">
                        <h2>âš¡ ã‚¹ãƒ”ãƒ¼ãƒ‰è»¸åˆ†æ</h2>
                        <div class="keyword-category">
                            <h4>é«˜é€Ÿãƒ»ç©æ¥µçš„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ (${speedAxisAnalysis.fast.length}å€‹)</h4>
                            <div class="keyword-list">${speedAxisAnalysis.fast.join(', ')}</div>
                        </div>
                        <div class="keyword-category">
                            <h4>æ…é‡ãƒ»æ®µéšçš„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ (${speedAxisAnalysis.slow.length}å€‹)</h4>
                            <div class="keyword-list">${speedAxisAnalysis.slow.join(', ')}</div>
                        </div>
                    </div>
                    
                    <div class="analysis-section">
                        <h2>ğŸ’­ ä¾¡å€¤è¦³è»¸åˆ†æ</h2>
                        <div class="keyword-category">
                            <h4>å€‹äººä¸»ç¾©ãƒ»ç‹¬ç«‹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ (${valueAxisAnalysis.individual.length}å€‹)</h4>
                            <div class="keyword-list">${valueAxisAnalysis.individual.join(', ')}</div>
                        </div>
                        <div class="keyword-category">
                            <h4>é›†å›£ä¸»ç¾©ãƒ»å”èª¿ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ (${valueAxisAnalysis.group.length}å€‹)</h4>
                            <div class="keyword-list">${valueAxisAnalysis.group.join(', ')}</div>
                        </div>
                    </div>
                    
                    <div class="analysis-section">
                        <h2>â° æ™‚é–“è»¸åˆ†æ</h2>
                        <div class="keyword-category">
                            <h4>å¤‰é©ãƒ»é©æ–°ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ (${timeAxisAnalysis.change.length}å€‹)</h4>
                            <div class="keyword-list">${timeAxisAnalysis.change.join(', ')}</div>
                        </div>
                        <div class="keyword-category">
                            <h4>å®‰å®šãƒ»ç¶™ç¶šã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ (${timeAxisAnalysis.stable.length}å€‹)</h4>
                            <div class="keyword-list">${timeAxisAnalysis.stable.join(', ')}</div>
                        </div>
                    </div>
                    
                    <div class="analysis-section">
                        <h2>ğŸ¯ æ–¹å‘æ€§è»¸åˆ†æ</h2>
                        <div class="keyword-category">
                            <h4>æ‹¡å¼µãƒ»å¤–å‘ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ (${directionAxisAnalysis.expand.length}å€‹)</h4>
                            <div class="keyword-list">${directionAxisAnalysis.expand.join(', ')}</div>
                        </div>
                        <div class="keyword-category">
                            <h4>å†…å‘ãƒ»åæŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ (${directionAxisAnalysis.contract.length}å€‹)</h4>
                            <div class="keyword-list">${directionAxisAnalysis.contract.join(', ')}</div>
                        </div>
                    </div>
                    
                    <div class="analysis-section">
                        <h2>ğŸ”§ ç”Ÿæˆã•ã‚Œã‚‹JavaScripté…åˆ—</h2>
                        <pre style="background: rgba(0,0,0,0.5); padding: 15px; border-radius: 4px; color: #10b981;">
// å®Ÿãƒ‡ãƒ¼ã‚¿åŸºæº–ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰è¡çªæ¤œå‡ºé…åˆ—
const SPEED_FAST = ${JSON.stringify(speedAxisAnalysis.fast, null, 2)};
const SPEED_SLOW = ${JSON.stringify(speedAxisAnalysis.slow, null, 2)};
const VALUE_INDIVIDUAL = ${JSON.stringify(valueAxisAnalysis.individual, null, 2)};
const VALUE_GROUP = ${JSON.stringify(valueAxisAnalysis.group, null, 2)};
const TIME_CHANGE = ${JSON.stringify(timeAxisAnalysis.change, null, 2)};
const TIME_STABLE = ${JSON.stringify(timeAxisAnalysis.stable, null, 2)};
const DIRECTION_EXPAND = ${JSON.stringify(directionAxisAnalysis.expand, null, 2)};
const DIRECTION_CONTRACT = ${JSON.stringify(directionAxisAnalysis.contract, null, 2)};
                        </pre>
                    </div>
                `;
                
                results.innerHTML = html;
                
            } catch (error) {
                results.innerHTML = `
                    <div style="color: #ef4444; padding: 20px;">
                        âŒ åˆ†æã‚¨ãƒ©ãƒ¼: ${error.message}
                        <br>ã‚¹ã‚¿ãƒƒã‚¯: ${error.stack}
                    </div>
                `;
                console.error('ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æŠ½å‡ºã‚¨ãƒ©ãƒ¼:', error);
            }
        }
        
        // ã‚¹ãƒ”ãƒ¼ãƒ‰è»¸ã®åˆ†æ
        function analyzeSpeedAxis(hexagramData) {
            const fast = [];
            const slow = [];
            
            hexagramData.forEach(hex => {
                hex.keywords.forEach(keyword => {
                    // é«˜é€Ÿãƒ»ç©æ¥µçš„ãªæ¦‚å¿µ
                    if (['å¼·å¤§', 'å¨åŠ›', 'ç©æ¥µæ€§', 'å‹‡çŒ›', 'è¡æ’ƒ', 'æ´»æ°—', 'æ±ºæ–­', 'å‡¦æ–­', 'é›·', 'é›»æ’ƒ', 'å‹‡æ•¢', 'æ”»æ’ƒ', 'çªé€²', 'çˆ†ç™º', 'ç¬é–“', 'å³æ–­', 'æœæ•¢'].includes(keyword)) {
                        if (!fast.includes(keyword)) fast.push(keyword);
                    }
                    // æ…é‡ãƒ»æ®µéšçš„ãªæ¦‚å¿µ  
                    if (['ç©å¥', 'æ…é‡', 'ç¯€åˆ¶', 'å†…çœ', 'ç‘æƒ³', 'é™è¦³', 'å¿è€', 'å¾…æ©Ÿ', 'æº–å‚™', 'è¦³å¯Ÿ', 'æ´å¯Ÿ', 'è¬™éœ', 'æ®µéšçš„', 'ç€å®Ÿ', 'æ¼¸é€²', 'æ·±ã„æ´å¯Ÿ', 'å°ã•ãªè“„ç©'].includes(keyword)) {
                        if (!slow.includes(keyword)) slow.push(keyword);
                    }
                });
            });
            
            return { fast, slow };
        }
        
        // ä¾¡å€¤è¦³è»¸ã®åˆ†æ
        function analyzeValueAxis(hexagramData) {
            const individual = [];
            const group = [];
            
            hexagramData.forEach(hex => {
                hex.keywords.forEach(keyword => {
                    // å€‹äººä¸»ç¾©ãƒ»ç‹¬ç«‹ã®æ¦‚å¿µ
                    if (['å‰µé€ åŠ›', 'ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—', 'ç‹¬ç«‹', 'è‡ªç”±', 'å‰µé€ ', 'è‡ªç«‹', 'ä¸»å°', 'ç‹¬å‰µæ€§', 'è‡ªå·±ä¸»å¼µ', 'ä¸»ä½“æ€§'].includes(keyword)) {
                        if (!individual.includes(keyword)) individual.push(keyword);
                    }
                    // é›†å›£ä¸»ç¾©ãƒ»å”èª¿ã®æ¦‚å¿µ
                    if (['å›£çµ', 'å”èª¿', 'çµ±åˆ', 'èª¿å’Œ', 'é›†åˆ', 'çµé›†', 'è¦ªå’Œ', 'å”åŠ›', 'åŒå¿—', 'å’Œè§£', 'åŒ…å®¹', 'å—å®¹æ€§', 'åŒ…å®¹åŠ›', 'æŸ”è»Ÿæ€§', 'çµ„ç¹”'].includes(keyword)) {
                        if (!group.includes(keyword)) group.push(keyword);
                    }
                });
            });
            
            return { individual, group };
        }
        
        // æ™‚é–“è»¸ã®åˆ†æ
        function analyzeTimeAxis(hexagramData) {
            const change = [];
            const stable = [];
            
            hexagramData.forEach(hex => {
                hex.keywords.forEach(keyword => {
                    // å¤‰é©ãƒ»é©æ–°ã®æ¦‚å¿µ
                    if (['é©æ–°', 'å¤‰é©', 'åˆ·æ–°', 'æ”¹é©', 'è…æ•—', 'å†ç”Ÿ', 'å¤‰åŒ–å¯¾å¿œ', 'æ”¹é©åŠ›', 'æ–°ç§©åº', 'å†ç·¨', 'è¦šé†’', 'å¤‰åŒ–', 'é€²æ­©'].includes(keyword)) {
                        if (!change.includes(keyword)) change.push(keyword);
                    }
                    // å®‰å®šãƒ»ç¶™ç¶šã®æ¦‚å¿µ
                    if (['å®‰å®š', 'ç¶­æŒ', 'æ’å¸¸', 'æ°¸ç¶š', 'æŒç¶š', 'ç¶™ç¶š', 'ä¸å¤‰', 'ä¿å®ˆ', 'ç¾çŠ¶ç¶­æŒ', 'å¿è€', 'å …å®Ÿ', 'æŒç¶šçš„', 'æ°¸ç¶šçš„'].includes(keyword)) {
                        if (!stable.includes(keyword)) stable.push(keyword);
                    }
                });
            });
            
            return { change, stable };
        }
        
        // æ–¹å‘æ€§è»¸ã®åˆ†æ
        function analyzeDirectionAxis(hexagramData) {
            const expand = [];
            const contract = [];
            
            hexagramData.forEach(hex => {
                hex.keywords.forEach(keyword => {
                    // æ‹¡å¼µãƒ»å¤–å‘ã®æ¦‚å¿µ
                    if (['ä¸Šæ˜‡', 'ç™ºå±•', 'å‘ä¸Š', 'é€²æ­©', 'ç™ºé”', 'æˆé•·', 'æ˜‡é€²', 'æ‹¡æ•£', 'è§£æ”¾', 'æ•£é–‹', 'æ˜æ™°æ€§', 'ç…§æ˜', 'å¤–å‘', 'è±Šã‹ã•', 'ç¹æ „'].includes(keyword)) {
                        if (!expand.includes(keyword)) expand.push(keyword);
                    }
                    // å†…å‘ãƒ»åæŸã®æ¦‚å¿µ
                    if (['æ½œä¼', 'é€€é¿', 'å†…å‘', 'åæŸ', 'æˆ¦ç•¥çš„æ’¤é€€', 'ä¿èº«', 'éš é', 'å†…çœ', 'æ·±ã„æ´å¯Ÿ', 'æ·±å±¤', 'é–‰å¡', 'æ–­çµ¶', 'ç¯€åˆ¶', 'åˆ¶é™'].includes(keyword)) {
                        if (!contract.includes(keyword)) contract.push(keyword);
                    }
                });
            });
            
            return { expand, contract };
        }
    </script>
</body>
</html>