<\!DOCTYPE html>
<html>
<head>
    <title>CSS Fix Test Results</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #1a1a1a; color: #fff; }
        .result { background: #2a2a2a; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .success { border-left: 4px solid #0f0; }
        .error { border-left: 4px solid #f00; }
        iframe { width: 100%; height: 500px; border: 1px solid #333; }
    </style>
</head>
<body>
    <h1>CSS w-full Fix Verification</h1>
    <div id="test-status">Loading Future Simulator...</div>
    <iframe src="http://127.0.0.1:8083/future_simulator.html" id="testFrame"></iframe>
    <div id="results"></div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                const iframe = document.getElementById('testFrame');
                const statusEl = document.getElementById('test-status');
                const resultsEl = document.getElementById('results');
                
                try {
                    const doc = iframe.contentDocument || iframe.contentWindow.document;
                    
                    // Test worryInput
                    const worryInput = doc.getElementById('worryInput');
                    let result1 = '<div class="result ';
                    
                    if (worryInput) {
                        const rect = worryInput.getBoundingClientRect();
                        const isVisible = rect.width > 0 && rect.height > 0;
                        result1 += isVisible ? 'success' : 'error';
                        result1 += '">';
                        result1 += '<h3>' + (isVisible ? '✅' : '❌') + ' worryInput Test</h3>';
                        result1 += '<p>Element found: YES</p>';
                        result1 += '<p>Dimensions: ' + rect.width + 'x' + rect.height + '</p>';
                        result1 += '<p>Classes: ' + Array.from(worryInput.classList).join(', ') + '</p>';
                        result1 += '<p>Has w-full: ' + (worryInput.classList.contains('w-full') ? 'YES' : 'NO') + '</p>';
                        
                        // Test input functionality
                        worryInput.value = 'Test input';
                        result1 += '<p>Input works: ' + (worryInput.value === 'Test input' ? 'YES' : 'NO') + '</p>';
                    } else {
                        result1 += 'error"><h3>❌ worryInput NOT FOUND</h3>';
                    }
                    result1 += '</div>';
                    
                    // Test button
                    const aiGuessBtn = doc.getElementById('aiGuessBtn');
                    let result2 = '<div class="result ';
                    
                    if (aiGuessBtn) {
                        const btnRect = aiGuessBtn.getBoundingClientRect();
                        const btnVisible = btnRect.width > 0 && btnRect.height > 0;
                        result2 += btnVisible ? 'success' : 'error';
                        result2 += '">';
                        result2 += '<h3>' + (btnVisible ? '✅' : '❌') + ' Button Test</h3>';
                        result2 += '<p>Element found: YES</p>';
                        result2 += '<p>Dimensions: ' + btnRect.width + 'x' + btnRect.height + '</p>';
                    } else {
                        result2 += 'error"><h3>❌ Button NOT FOUND</h3>';
                    }
                    result2 += '</div>';
                    
                    resultsEl.innerHTML = result1 + result2;
                    statusEl.innerHTML = 'Test completed';
                    
                } catch (error) {
                    statusEl.innerHTML = 'Test failed: ' + error.message;
                    resultsEl.innerHTML = '<div class="result error"><h3>❌ Test Error</h3><p>' + error.message + '</p></div>';
                }
            }, 3000);
        });
    </script>
</body>
</html>
