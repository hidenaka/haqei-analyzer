# HAQEI Triple OS 分析ロジック実装計画

## 📊 現状分析
- 30問の質問データが完全実装済み
- 各質問に8次元のスコアリング設定済み
- 計算ロジックは未実装（テストデータのみ）

## 🎯 実装計画

### Phase 1: スコアリングシステム（2時間）

#### 8次元の評価軸
1. **qian_creativity** (乾) - 創造性
2. **zhen_action** (震) - 行動力
3. **kan_exploration** (坎) - 探求心
4. **gen_stability** (艮) - 安定性
5. **kun_receptiveness** (坤) - 受容性
6. **xun_adaptability** (巽) - 適応性
7. **li_expression** (離) - 表現力
8. **dui_harmony** (兌) - 調和性

#### スコア集計アルゴリズム
```javascript
// 各OSの計算方法
engineOS = 最高スコアの2次元から卦を決定
interfaceOS = 2番目と3番目の次元から卦を決定
safeModeOS = ネガティブスコアが高い次元から卦を決定
```

### Phase 2: 64卦マッピング（1時間）

#### 卦の決定ロジック
- 上卦: 主要次元の三爻構成
- 下卦: 副次元の三爻構成
- 組み合わせで64卦を決定

### Phase 3: 結果テキスト生成（2時間）

#### 動的テキスト生成
- OS特性に基づく説明文
- 相互関係の分析
- アドバイス生成

### Phase 4: 可視化実装（1時間）
- Chart.jsでレーダーチャート
- 円グラフでOS比率表示

## 📅 実装スケジュール
- 即座に開始
- 6時間で完全実装
- MCPで動作検証

記録日時: 2025年8月7日