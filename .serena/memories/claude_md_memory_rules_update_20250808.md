# CLAUDE.md 記憶保存ルール強化
Date: 2025-08-08
Status: Completed

## 問題の背景
ユーザーから報告された問題：
- 軽微な作業を.serena/memoriesに保存していなかった
- 次のセッションで別の作業をすると、前の修正が元に戻される
- 同じ問題を繰り返し修正する必要が発生

## 実施した変更

### 1. 警告セクション追加
```markdown
### ⚠️ 重要警告: 記憶保存を怠ると次回セッションで変更が元に戻される！
**実際の問題**: 
- 軽微な修正を記録しないと、次のセッションで「存在しない」扱いになる
- 別の作業時に「元のコード」に戻されてしまう
- デバッグや調査結果も失われ、同じ問題を繰り返す
```

### 2. MEMORY SAVE TRIGGERS 拡張
以下のトリガーを追加：
- **ファイル削除後** - 削除したファイルと理由を記録
- **リファクタリング後** - コード整理も必ず記録
- 既存トリガーに具体例を追加（CSSの1行修正、typo修正など）

### 3. 軽微な作業の記憶保存例を追加
具体的な例を3つ追加：
1. CSS 1行修正の例（padding変更）
2. typo修正の例（コメント内の誤字）
3. console.log削除の例（production準備）

## 変更ファイル
- `/Users/nakanohideaki/Desktop/haqei-analyzer/CLAUDE.md`

## 影響範囲
- 今後のすべての作業で軽微な変更も必ず記録される
- 次回セッションでの作業の連続性が保証される
- 同じ問題の繰り返し修正を防止

## 次回参照用キーワード
- 記憶保存, serena, 軽微な作業, CLAUDE.md, メモリ永続化