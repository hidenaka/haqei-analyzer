# アプリケーション別ディレクトリ構造追加

**実施日**: 2025年8月18日  
**背景**: ユーザーから「os_analyzer用とかfuture_simulator用とかわかるようにしなくていいの？」との指摘

## 🔍 問題認識

### 現状の課題
- 複数のアプリケーションが混在（os_analyzer、future_simulator、persona_enhancer、quick_analyzer）
- ファイルがどのアプリケーション用か不明確
- 機能別フォルダだけでは不十分

## ✅ 実施内容

### CLAUDE.md更新箇所

#### 1. ディレクトリ構造の改善
```
旧構造:
js/
  ├── *.js          # メインモジュール
  ├── core/         # コア機能
  ├── iching/       # I-Ching関連
  └── components/   # UIコンポーネント

新構造:
js/
  ├── *.js                  # 共通モジュール
  ├── os-analyzer/          # OSアナライザー専用
  ├── future-simulator/     # 未来シミュレーター専用
  ├── persona-enhancer/     # ペルソナエンハンサー専用
  ├── quick-analyzer/       # クイック分析専用
  ├── core/                 # コア機能（全アプリ共通）
  ├── iching/              # I-Ching関連（全アプリ共通）
  ├── components/          # UIコンポーネント（共通）
  └── utils/               # ユーティリティ（共通）
```

#### 2. 場所の判断基準を明確化
- **アプリケーション専用ファイル**: 各アプリケーションフォルダへ
- **共通機能**: core/、iching/、components/、utils/へ
- **共通モジュール**: js/直下へ

## 📊 改善効果

### メリット
1. **明確な所属**: ファイルがどのアプリケーション用か一目瞭然
2. **保守性向上**: アプリケーション単位での管理が容易
3. **再利用性**: 共通機能と専用機能の区別が明確

### 運用例
```bash
# OSアナライザー専用機能を追加する場合
find public -name "新機能.js"  # 重複確認
# → js/os-analyzer/新機能.js として作成

# 未来シミュレーター専用機能を追加する場合
# → js/future-simulator/新機能.js として作成

# 全アプリ共通の機能を追加する場合
# → js/core/新機能.js または js/utils/新機能.js として作成
```

## 📝 今後の移行計画

### 既存ファイルの整理（推奨）
現在散在しているファイルを段階的に整理：
1. os-analyzer-main.js → js/os-analyzer/
2. future-simulator-*.js → js/future-simulator/
3. VirtualPersonaEnhancer.js → js/persona-enhancer/
4. quick-analyzer-*.js → js/quick-analyzer/

※ただし、動作中のシステムへの影響を考慮し、慎重に実施

## 結論

アプリケーション別のディレクトリ構造を導入し、ファイル管理の明確化を実現。
これにより、どのファイルがどのアプリケーション用かが一目で分かるようになった。