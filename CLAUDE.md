# HAQEI Analyzer プロジェクト作業指示

## 必須ワークフロー

### 1. タスク実行前の必須事項
- **徹底的なリサーチ**: コード実装前に必ず既存コードベースを調査
- **詳細なプラン提示**: 実装計画を明確に提示してから作業開始
- **思考プロセスの活用**: 複雑なタスクでは思考過程を詳細に展開

### 2. テスト駆動開発
- 新機能実装時は必ずテストから開始
- 既存テストの実行と確認
- テストカバレッジの維持・向上

### 3. コード品質基準
- 不要なコメントやデバッグコードの削除
- クリーンで保守性の高いコード
- bunenjin哲学との整合性維持

### 4. 実装フロー
1. **調査フェーズ**
   - 関連ファイルの特定と分析
   - 既存パターンの理解
   - 依存関係の確認

2. **計画フェーズ**
   - 実装アプローチの提示
   - 影響範囲の明確化
   - リスクと対策の検討

3. **実装フェーズ**
   - テストファースト
   - 段階的実装
   - 継続的検証

4. **検証フェーズ**
   - 自動テストの実行
   - 手動検証
   - パフォーマンス確認

## プロジェクト固有の注意事項

### 易経的アプローチ
- 陰陽バランスの考慮
- 八卦の相互関係性
- 変化の哲学の実装

### Triple OS Architecture
- Engine/Interface/Safe Modeの独立性
- 各OSの役割明確化
- 相互作用の最適化

### ユーザー主権
- プライバシーファースト
- ローカルストレージ完結
- 透明性の確保

## 禁止事項
- プロンプトインジェクション対策コードの削除
- セキュリティ関連機能の弱体化
- ユーザーデータの外部送信

## 推奨ツール使用順序
1. Glob/Grep - ファイル検索
2. Read - コード理解
3. TodoWrite - タスク管理
4. Edit/MultiEdit - 実装
5. Bash - テスト実行

この指示に従い、高品質な実装を心がけてください。