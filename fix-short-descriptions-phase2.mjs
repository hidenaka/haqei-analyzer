import { readFile, writeFile } from 'fs/promises';

async function fixPhase2() {
  try {
    console.log('=== ãƒ•ã‚§ãƒ¼ã‚º2: é‡è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ”¹å–„ é–‹å§‹ ===\n');
    console.log('å¯¾è±¡: whatHappens + profile.description ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰\n');
    
    // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èª­ã¿è¾¼ã¿
    let content = await readFile('./public/js/data/hexagram-human-traits-v3.js', 'utf-8');
    
    // ãƒ•ã‚§ãƒ¼ã‚º2ã®ä¿®æ­£ãƒãƒƒãƒ”ãƒ³ã‚° - whatHappensï¼ˆçŠ¶æ…‹èª¬æ˜ï¼‰
    const whatHappensFixes = {
      // 6-7æ–‡å­—
      '"æ ¹æœ¬ã‹ã‚‰å¤‰ãˆã¦è§£æ±º"': '"æ ¹æœ¬ã‹ã‚‰å•é¡Œã‚’å¤‰é©ã—ã¦è§£æ±ºã™ã‚‹"',
      '"æ—¢å­˜ã®æ çµ„ã¿ã‚’å¤‰ãˆã‚‹"': '"æ—¢å­˜ã®æ çµ„ã¿ã‚’æ ¹æœ¬ã‹ã‚‰å¤‰é©ã™ã‚‹"',
      '"ã²ãŸã™ã‚‰è€ãˆã‚‹"': '"ã©ã‚“ãªå›°é›£ã‚‚ã²ãŸã™ã‚‰è€ãˆæŠœã"',
      '"æ¥½ã—ã„ã“ã¨ã‚’è€ƒãˆã‚‹"': '"æ¥½ã—ã„ã“ã¨ã‚’è€ƒãˆã¦æ°—åˆ†ã‚’é«˜ã‚ã‚‹"',
      '"æŠµæŠ—ã›ãšæµã‚Œã«ä¹—ã‚‹"': '"ç„¡ç†ã«æŠµæŠ—ã›ãšè‡ªç„¶ã®æµã‚Œã«ä»»ã›ã‚‹"',
      '"ç’°å¢ƒã«å®Œå…¨ã«åŒåŒ–"': '"ç’°å¢ƒã«å®Œå…¨ã«é©å¿œã—ã¦æº¶ã‘è¾¼ã‚€"',
      '"æ¬¡ã®æ”¹å–„å¯¾è±¡ã‚’æ¢ã™"': '"æ¬¡ã«æ”¹å–„ã™ã¹ãå¯¾è±¡ã‚’æ¢ã—ç¶šã‘ã‚‹"',
      '"ç·Šæ€¥ä¿®å¾©ãƒ¢ãƒ¼ãƒ‰èµ·å‹•"': '"ç·Šæ€¥äº‹æ…‹ã«ä¿®å¾©ãƒ¢ãƒ¼ãƒ‰ã§å¯¾å¿œã™ã‚‹"',
      '"å®Œå…¨ã«å¼•ãã“ã‚‚ã‚‹"': '"å¤–ç•Œã‹ã‚‰å®Œå…¨ã«èº«ã‚’å¼•ã„ã¦å†…çœã™ã‚‹"',
      
      // 8-9æ–‡å­—
      '"è€ƒãˆã‚‹å‰ã«ä½“ãŒå‹•ã"': '"è€ƒãˆã‚‹ã‚ˆã‚Šå…ˆã«ä½“ãŒè‡ªç„¶ã«å‹•ãå‡ºã™"',
      '"æ¬¡ã®è¡Œå‹•ã®æº–å‚™é‹å‹•"': '"æ¬¡ã®è¡Œå‹•ã«å‘ã‘ã¦æº–å‚™é‹å‹•ã‚’ã—ã¦ã„ã‚‹"',
      '"ã¨ã«ã‹ãå‹•ã„ã¦è§£æ±º"': '"ã¨ã«ã‹ãè¡Œå‹•ã™ã‚‹ã“ã¨ã§å•é¡Œã‚’è§£æ±ºã™ã‚‹"',
      '"å…¨åŠ›ã§å‹•ãå›ã‚‹"': '"å…¨åŠ›ã§å‹•ãå›ã£ã¦çŠ¶æ³ã‚’æ‰“é–‹ã™ã‚‹"',
      '"å¸¸ã«å­¦ã¶å§¿å‹¢ã‚’æŒã¤"': '"å¸¸ã«è¬™è™šã«å­¦ã¶å§¿å‹¢ã‚’æŒã¡ç¶šã‘ã¦ã„ã‚‹"',
      '"æ¬¡ã®å¤‰é©ã®ç¨®ã‚’æ¢ã™"': '"æ¬¡ã®å¤‰é©ã®ç¨®ã‚’æ¢ã—ç¶šã‘ã¦ã„ã‚‹çŠ¶æ…‹"',
      '"ã©ã£ã—ã‚Šã¨æ§‹ãˆã‚‹"': '"ã©ã£ã—ã‚Šã¨æ§‹ãˆã¦å‹•ã˜ãªã„å§¿å‹¢ã‚’ä¿ã¤"',
      '"å®Œå…¨ã«ä¸å‹•ã®æ§‹ãˆ"': '"å®Œå…¨ã«ä¸å‹•ã®æ§‹ãˆã§å®‰å®šã‚’ä¿ã¤"',
      '"ä¸€æ®µãšã¤ç¢ºå®Ÿã«ä¸Šã‚‹"': '"ä¸€æ®µãšã¤ç¢ºå®Ÿã«ã‚¹ãƒ†ãƒƒãƒ—ã‚’ä¸Šã£ã¦ã„ã"',
      '"è¨ˆç”»çš„ã«æ®µéšã‚’è¸ã‚€"': '"è¨ˆç”»çš„ã«ä¸€ã¤ãšã¤æ®µéšã‚’è¸ã‚“ã§é€²ã‚€"',
      '"æ¬¡ã®ãƒ¬ãƒ™ãƒ«ã¸é€²åŒ–"': '"æ¬¡ã®ãƒ¬ãƒ™ãƒ«ã¸ã¨ç€å®Ÿã«é€²åŒ–ã—ã¦ã„ã"',
      '"å¸¸ã«ä½•ã‹ã‚’ç”Ÿç”£"': '"å¸¸ã«ä½•ã‹ã‚’ç”Ÿã¿å‡ºã—ç¶šã‘ã¦ã„ã‚‹"',
      '"å¸¸ã«æ¬¡ã‚’æ±‚ã‚ã‚‹"': '"å¸¸ã«æ¬¡ã®ç›®æ¨™ã‚’æ±‚ã‚ç¶šã‘ã¦ã„ã‚‹"',
      '"æ›´ãªã‚‹é«˜ã¿ã‚’ç›®æŒ‡ã™"': '"ã•ã‚‰ãªã‚‹é«˜ã¿ã‚’ç›®æŒ‡ã—ã¦åŠªåŠ›ã™ã‚‹"',
      '"å…¨ã¦ã‚’æœªå®Œã«ã™ã‚‹"': '"å…¨ã¦ã‚’æœªå®Œã®ã¾ã¾æ¬¡ã¸é€²ã‚“ã§ã„ã"',
      '"å¸¸ã«å®Œæˆã‚’ç›®æŒ‡ã™"': '"å¸¸ã«ç‰©äº‹ã®å®Œæˆã‚’ç›®æŒ‡ã—ã¦åŠªåŠ›ã™ã‚‹"',
      '"å®Œæˆã¸ã®åŸ·å¿µ"': '"ç‰©äº‹ã‚’å®Œæˆã•ã›ã‚‹ã“ã¨ã¸ã®å¼·ã„åŸ·å¿µ"',
      '"æ–°ã—ã„ã“ã¨ã‚’å§‹ã‚ã‚‹"': '"å›°é›£ãªæ™‚ã“ãæ–°ã—ã„ã“ã¨ã‚’å§‹ã‚ã‚‹"',
      
      // ãã®ä»–ã®çŸ­ã„ whatHappens
      '"é™ã‹ã«å†…é¢ã‚’ç£¨ã"': '"é™ã‹ã«è‡ªåˆ†ã®å†…é¢ã‚’ç£¨ãç¶šã‘ã¦ã„ã‚‹"',
      '"éš ã‚ŒãŸæ‰èƒ½ãŒé–‹èŠ±"': '"éš ã‚Œã¦ã„ãŸæ‰èƒ½ãŒé–‹èŠ±ã™ã‚‹ç¬é–“"',
      '"ç›®ç«‹ãŸãªã„ã‚ˆã†æ½œã‚€"': '"ç›®ç«‹ãŸãªã„ã‚ˆã†ã«é™ã‹ã«æ½œã‚“ã§ã„ã‚‹"',
      '"å®Œå…¨ã«å§¿ã‚’æ¶ˆã™"': '"å®Œå…¨ã«å­˜åœ¨æ„Ÿã‚’æ¶ˆã—ã¦èº«ã‚’å®ˆã‚‹"',
      '"å®¶æ—ã‚’å®ˆã‚‹ãŸã‚å…¨åŠ›"': '"å®¶æ—ã‚’å®ˆã‚‹ãŸã‚ã«å…¨åŠ›ã‚’å°½ãã™"',
      '"è·å ´ã‚‚å®¶æ—ã®ã‚ˆã†ã«"': '"è·å ´ã®äººã€…ã‚‚å®¶æ—ã®ã‚ˆã†ã«å¤§åˆ‡ã«ã™ã‚‹"',
      '"å®¶æ—ã«ç›¸è«‡ã€é ¼ã‚‹"': '"å›°ã£ãŸæ™‚ã¯å®¶æ—ã«ç›¸è«‡ã—ã¦é ¼ã‚‹"',
      '"å®¶æ—å…¨å“¡ã§å¯¾å‡¦"': '"å®¶æ—å…¨å“¡ã§å”åŠ›ã—ã¦å•é¡Œã«å¯¾å‡¦ã™ã‚‹"',
      '"å€‹æ€§ã‚’å…¨é–‹ã«ç™ºæ®"': '"è‡ªåˆ†ã®å€‹æ€§ã‚’å…¨é–‹ã«ç™ºæ®ã™ã‚‹"',
      '"ç‹¬è‡ªã®æ–¹æ³•ã§å¯¾å‡¦"': '"ç‹¬è‡ªã®æ–¹æ³•ã§å•é¡Œã«å¯¾å‡¦ã™ã‚‹"',
      '"å®Œå…¨ã«ç‹¬ç«‹è¡Œå‹•"': '"å®Œå…¨ã«ç‹¬ç«‹ã—ã¦è¡Œå‹•ã™ã‚‹"',
      '"é»™ã£ã¦è€ãˆã‚‹"': '"ã©ã‚“ãªè‹¦é›£ã‚‚é»™ã£ã¦è€ãˆæŠœã"',
      '"çŸ³ã®ã‚ˆã†ã«å‹•ã‹ãªã„"': '"çŸ³ã®ã‚ˆã†ã«å¾®å‹•ã ã«ã—ãªã„çŠ¶æ…‹"',
      '"æŸç¸›ã‹ã‚‰é€ƒã’å‡ºã™"': '"ã‚ã‚‰ã‚†ã‚‹æŸç¸›ã‹ã‚‰é€ƒã’å‡ºãã†ã¨ã™ã‚‹"',
      '"å…¨ã¦ã‚’æ¨ã¦ã¦é€ƒã’ã‚‹"': '"å…¨ã¦ã‚’æ¨ã¦ã¦è‡ªç”±ã«ãªã‚ã†ã¨ã™ã‚‹"',
      '"å…¨ã¦ã‚’æ§ã’ã¦åŠ©ã‘ã‚‹"': '"å…¨ã¦ã‚’æ§ã’ã¦ä»–è€…ã‚’åŠ©ã‘ã‚ˆã†ã¨ã™ã‚‹"',
      '"å®Œå…¨ã«è‡ªå·±çŠ ç‰²"': '"å®Œå…¨ã«è‡ªå·±çŠ ç‰²ã®ç²¾ç¥ã§è¡Œå‹•ã™ã‚‹"',
      '"å±æ©Ÿã‚’æœ€å¤§ã®æ©Ÿä¼šã«"': '"å±æ©Ÿã‚’æœ€å¤§ã®æˆé•·æ©Ÿä¼šã«å¤‰ãˆã‚‹"',
      '"å•é¡Œã‚’åˆ‡ã‚Šæ¨ã¦ã‚‹"': '"ä¸è¦ãªå•é¡Œã‚’åˆ‡ã‚Šæ¨ã¦ã¦é€²ã‚€"',
      '"å…¨ã¦ã‚’æ–­ã¡åˆ‡ã‚‹"': '"ã—ãŒã‚‰ã¿ã‚’å…¨ã¦æ–­ã¡åˆ‡ã£ã¦å‰é€²ã™ã‚‹"',
      '"äººã‚„ç‰©ã‚’é›†ã‚ã‚‹"': '"å¿…è¦ãªäººã‚„ç‰©ã‚’é›†ã‚ã¦ã„ã‚‹çŠ¶æ…‹"',
      '"å¼·åŠ›ãªæ±‚å¿ƒåŠ›ã‚’ç™ºæ®"': '"å¼·åŠ›ãªæ±‚å¿ƒåŠ›ã‚’ç™ºæ®ã—ã¦äººã‚’é›†ã‚ã‚‹"',
      '"ä»²é–“ã‚’é›†ã‚ã¦å¯¾å‡¦"': '"ä»²é–“ã‚’é›†ã‚ã¦å•é¡Œã«å¯¾å‡¦ã™ã‚‹"',
      '"å…¨å“¡ã§ç«‹ã¡å‘ã‹ã†"': '"å…¨å“¡ã§ä¸€ä¸¸ã¨ãªã£ã¦ç«‹ã¡å‘ã‹ã†"',
      '"æ¯æ—¥å°‘ã—ãšã¤æˆé•·"': '"æ¯æ—¥å°‘ã—ãšã¤ç€å®Ÿã«æˆé•·ã—ã¦ã„ã‚‹"',
      '"æ€¥æˆé•·ã‚’é‚ã’ã‚‹"': '"çŸ­æœŸé–“ã§æ€¥æˆé•·ã‚’é‚ã’ã‚‹"',
      '"åŸºç¤ã‹ã‚‰è¦‹ç›´ã™"': '"å•é¡Œã®åŸºç¤ã‹ã‚‰ä¸å¯§ã«è¦‹ç›´ã™"',
      '"æˆé•·ã‚’ä¸€æ™‚åœæ­¢"': '"æˆé•·ã‚’ä¸€æ™‚åœæ­¢ã—ã¦å®ˆã‚Šã«å…¥ã‚‹"',
      '"å›°é›£ã‚’æ¢ã—ã¦æŒ‘ã‚€"': '"ã‚ãˆã¦å›°é›£ã‚’æ¢ã—ã¦æŒ‘æˆ¦ã™ã‚‹"',
      '"å…¨åŠ›ã§å›°é›£ã¨é ‘å¼µã‚‹"': '"å…¨åŠ›ã§å›°é›£ã«ç«‹ã¡å‘ã‹ã£ã¦ã„ã"',
      '"å¸¸ã«ä½•ã‹ã‚’æä¾›"': '"å¸¸ã«ä½•ã‹ã‚’å‘¨ã‚Šã«æä¾›ã—ã¦ã„ã‚‹"',
      '"ç„¡é™ã®ä¾›çµ¦åŠ›"': '"ç„¡é™ã¨ã‚‚æ€ãˆã‚‹ä¾›çµ¦åŠ›ã‚’ç™ºæ®ã™ã‚‹"',
      '"ä¾›çµ¦ã‚’åˆ¶é™"': '"å¿…è¦ã«å¿œã˜ã¦ä¾›çµ¦ã‚’åˆ¶é™ã™ã‚‹"',
      '"å®Œå…¨ã«ä¾›çµ¦åœæ­¢"': '"å®Œå…¨ã«ä¾›çµ¦ã‚’åœæ­¢ã—ã¦å®ˆã‚‹"',
      '"å¸¸ã«å¤‰é©ã®ç¨®ã‚’æ¢ã™"': '"å¸¸ã«å¤‰é©ã®ç¨®ã‚’æ¢ã—ç¶šã‘ã¦ã„ã‚‹"',
      '"æ—¢å­˜ã®ä½“åˆ¶ã‚’è¦†ã™"': '"æ—¢å­˜ã®ä½“åˆ¶ã‚’æ ¹æœ¬ã‹ã‚‰è¦†ãã†ã¨ã™ã‚‹"',
      '"æ ¹æœ¬ã‹ã‚‰å¤‰ãˆã‚‹"': '"å•é¡Œã‚’æ ¹æœ¬ã‹ã‚‰å¤‰é©ã—ã‚ˆã†ã¨ã™ã‚‹"',
      '"é©å‘½çš„è¡Œå‹•"': '"é©å‘½çš„ãªè¡Œå‹•ã§å¤‰åŒ–ã‚’èµ·ã“ã™"'
    };
    
    // profile.descriptionï¼ˆæ€§è³ªèª¬æ˜ï¼‰ã®ä¿®æ­£
    const profileDescriptionFixes = {
      // çŸ­ã„èª¬æ˜
      '"å‹•ã„ã¦æ‰“é–‹ã™ã‚‹"': '"è¡Œå‹•ã™ã‚‹ã“ã¨ã§å•é¡Œã‚’æ‰“é–‹ã—ã‚ˆã†ã¨ã™ã‚‹æ€§è³ª"',
      '"ä¸€æ­©ãšã¤ç¢ºå®Ÿã«æˆé•·"': '"ç€å®Ÿã«ä¸€æ­©ãšã¤æˆé•·ã‚’é‡ã­ã¦ã„ãæ€§è³ª"',
      '"è¿·ã‚ãšæ±ºã‚ã¦å®Ÿè¡Œ"': '"è¿·ã†ã“ã¨ãªãæ±ºæ–­ã—ã¦å³åº§ã«å®Ÿè¡Œã™ã‚‹æ€§è³ª"',
      '"å±±ã®ã‚ˆã†ã«å‹•ã˜ãªã„"': '"å±±ã®ã‚ˆã†ã«å‹•ã˜ãªã„å®‰å®šã—ãŸæ€§è³ª"',
      '"ä¸€æ®µãšã¤ç¢ºå®Ÿã«ä¸Šã‚‹"': '"ä¸€æ®µãšã¤ç¢ºå®Ÿã«éšæ®µã‚’ä¸Šã£ã¦ã„ãæ€§è³ª"',
      '"äººã¨äººã‚’èª¿å’Œã•ã›ã‚‹"': '"äººã¨äººã®é–¢ä¿‚ã‚’èª¿å’Œã•ã›ã‚‹ç‰¹åˆ¥ãªèƒ½åŠ›"',
      '"å¸¸ã«é™ç•Œã«æŒ‘æˆ¦ã™ã‚‹"': '"å¸¸ã«è‡ªåˆ†ã®é™ç•Œã«æŒ‘æˆ¦ã—ç¶šã‘ã‚‹æ€§è³ª"',
      '"æ·±ã„ä¿¡é ¼é–¢ä¿‚ã‚’ç¯‰ã"': '"äººã¨æ·±ã„ä¿¡é ¼é–¢ä¿‚ã‚’ç¯‰ã‘ã‚‹ç‰¹åˆ¥ãªèƒ½åŠ›"',
      '"åŠ›å¼·ã•ã§å‘¨ã‚Šã‚’åœ§å€’"': '"åŠ›å¼·ã•ã§å‘¨ã‚Šã‚’åœ§å€’ã™ã‚‹å­˜åœ¨æ„Ÿ"',
      '"åŠ›ã§å…¨ã¦ã‚’è§£æ±º"': '"å¼·ã„åŠ›ã§å…¨ã¦ã®å•é¡Œã‚’è§£æ±ºã—ã‚ˆã†ã¨ã™ã‚‹"',
      '"ç²å¾—ã—ãŸåœ°ä½ã‚’å®ˆã‚‹"': '"ä¸€åº¦ç²å¾—ã—ãŸåœ°ä½ã‚’å®ˆã‚ŠæŠœãæ€§è³ª"',
      '"ç›®ç«‹ãŸãªã„ãŒå®ŸåŠ›è€…"': '"ç›®ç«‹ãŸãªã„ãŒç¢ºã‹ãªå®ŸåŠ›ã‚’æŒã¤äºº"',
      '"ç›®ç«‹ãŸãšèº«ã‚’å®ˆã‚‹"': '"ç›®ç«‹ãŸãªã„ã“ã¨ã§è‡ªåˆ†ã‚’å®ˆã‚‹æ€§è³ª"',
      '"å®¶æ—ã«å®ˆã£ã¦ã‚‚ã‚‰ã†"': '"å›°ã£ãŸæ™‚ã¯å®¶æ—ã«å®ˆã£ã¦ã‚‚ã‚‰ã†æ€§è³ª"',
      '"ç¾¤ã‚Œãªã„ä¸€åŒ¹ç‹¼"': '"ç¾¤ã‚Œã‚‹ã“ã¨ãªãç‹¬è‡ªã®é“ã‚’è¡Œã"',
      '"ä¸€äººã§ç«‹ã¡å‘ã‹ã†"': '"ã©ã‚“ãªå›°é›£ã‚‚ä¸€äººã§ç«‹ã¡å‘ã‹ã†"',
      '"ã²ãŸã™ã‚‰è€ãˆã¦å®ˆã‚‹"': '"ã©ã‚“ãªåœ§åŠ›ã‚‚ã²ãŸã™ã‚‰è€ãˆã¦å®ˆã‚‹"',
      '"ã¿ã‚“ãªã‚’è‡ªç”±ã«ã™ã‚‹"': '"å‘¨ã‚Šã®äººã€…ã‚’è‡ªç”±ã«ã™ã‚‹åŠ›ã‚’æŒã¤"',
      '"ã¿ã‚“ãªã«å¤‰åŒ–ã‚’ä¿ƒã™"': '"å‘¨ã‚Šã®äººã€…ã«å¤‰åŒ–ã‚’ä¿ƒã™å½±éŸ¿åŠ›"',
      '"å‰µé€ çš„ãªé–¢ã‚ã‚Šæ–¹"': '"å‰µé€ çš„ãªæ–¹æ³•ã§äººã¨é–¢ã‚ã‚‹æ€§è³ª"',
      '"ç¬ç™ºçš„ãªåå¿œã§è‡ªå·±é˜²è¡›ã™ã‚‹"': '"ç¬ç™ºçš„ãªåå¿œã§è‡ªå·±ã‚’é˜²è¡›ã™ã‚‹èƒ½åŠ›"',
      '"å‹•ã‹ãªã„ã“ã¨ã§å®ˆã‚‹"': '"å‹•ã‹ãªã„ã“ã¨ã§è‡ªåˆ†ã‚’å®ˆã‚‹æˆ¦ç•¥"',
      '"é–¢ä¿‚æ€§ã§èº«ã‚’å®ˆã‚‹"': '"äººé–“é–¢ä¿‚ã‚’ä½¿ã£ã¦èº«ã‚’å®ˆã‚‹æˆ¦ç•¥"',
      '"è±Šã‹ã•ã§å®ˆã‚‹"': '"è“„ãˆãŸè±Šã‹ã•ã§è‡ªåˆ†ã‚’å®ˆã‚‹"',
      '"æ—…ç«‹ã¤ã“ã¨ã§å®ˆã‚‹"': '"ãã®å ´ã‚’é›¢ã‚Œã‚‹ã“ã¨ã§è‡ªåˆ†ã‚’å®ˆã‚‹"',
      '"ç¬‘é¡”ã§è¾›ã•ã‚’éš ã™"': '"ç¬‘é¡”ã§å†…é¢ã®è¾›ã•ã‚’éš ã™æ€§è³ª"',
      '"æ„Ÿã˜ãªã„ã“ã¨ã§å®ˆã‚‹"': '"æ„Ÿè¦šã‚’é®æ–­ã™ã‚‹ã“ã¨ã§è‡ªåˆ†ã‚’å®ˆã‚‹"',
      '"åˆ¶é™ã‚’ã‹ã‘ã¦å®ˆã‚‹"': '"æ´»å‹•ã‚’åˆ¶é™ã™ã‚‹ã“ã¨ã§è‡ªåˆ†ã‚’å®ˆã‚‹"',
      '"ä¿¡é ¼ã§ãã‚‹äººã«é ¼ã‚‹"': '"ä¿¡é ¼ã§ãã‚‹äººã«ã—ã£ã‹ã‚Šã¨é ¼ã‚‹"',
      '"ã¿ã‚“ãªã§å®ˆã‚‹"': '"ã¿ã‚“ãªã§å”åŠ›ã—ã¦å®ˆã‚Šåˆã†"',
      '"åŸºæœ¬ã«æˆ»ã£ã¦å®ˆã‚‹"': '"åŸºæœ¬ã«æˆ»ã‚‹ã“ã¨ã§è‡ªåˆ†ã‚’å®ˆã‚‹"',
      '"ä¾›çµ¦ã‚’æ­¢ã‚ã¦å®ˆã‚‹"': '"ä¾›çµ¦ã‚’æ­¢ã‚ã‚‹ã“ã¨ã§è³‡æºã‚’å®ˆã‚‹"',
      '"å…¨ã¦ã‚’å¤‰ãˆã¦å®ˆã‚‹"': '"å…¨ã¦ã‚’å¤‰é©ã™ã‚‹ã“ã¨ã§å®ˆã‚‹"',
      '"æ‚ªç¸ã‚’æ–­ã¤"': '"æ‚ªã„ç¸ã‚’æ–­ã¡åˆ‡ã‚‹æ±ºæ–­åŠ›"',
      '"å›°é›£ã‹ã‚‰é€ƒã’ãªã„"': '"ã©ã‚“ãªå›°é›£ã‹ã‚‰ã‚‚é€ƒã’ãªã„å‹‡æ°—"',
      '"åºƒã„äººè„ˆã‚’ä½œã‚‹"': '"å¹…åºƒã„äººè„ˆã‚’æ§‹ç¯‰ã™ã‚‹èƒ½åŠ›"',
      '"ã¿ã‚“ãªã‚’é›†ã‚ã‚‹"': '"äººã€…ã‚’é›†ã‚ã‚‹æ±‚å¿ƒåŠ›ã‚’æŒã¤"',
      '"å ´ã‚’æ˜ã‚‹ãã™ã‚‹"': '"ã©ã‚“ãªå ´ã‚‚æ˜ã‚‹ãã™ã‚‹ç‰¹åˆ¥ãªåŠ›"',
      '"ã©ã“ã§ã‚‚èª°ã¨ã§ã‚‚"': '"ã©ã“ã§ã‚‚èª°ã¨ã§ã‚‚é–¢ã‚ã‚Œã‚‹æŸ”è»Ÿæ€§"',
      '"ã„ã¤ã‚‚åŒã˜å®‰å¿ƒæ„Ÿ"': '"ã„ã¤ã‚‚åŒã˜å®‰å¿ƒæ„Ÿã‚’ä¸ãˆã‚‹å­˜åœ¨"'
    };
    
    // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
    await writeFile(`./public/js/data/hexagram-human-traits-v3.backup.phase2.${timestamp}.js`, content);
    console.log(`ğŸ“ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ: hexagram-human-traits-v3.backup.phase2.${timestamp}.js`);
    
    // ä¿®æ­£é©ç”¨
    let fixCount = 0;
    
    // whatHappensä¿®æ­£
    console.log('ã€whatHappens ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ä¿®æ­£ã€‘');
    Object.entries(whatHappensFixes).forEach(([old, newText]) => {
      const regex = new RegExp(old.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
      const originalContent = content;
      content = content.replace(regex, newText);
      if (originalContent !== content) {
        fixCount++;
        console.log(`âœ… ${old} â†’ ${newText}`);
      }
    });
    
    console.log('\nã€profile.description ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ä¿®æ­£ã€‘');
    Object.entries(profileDescriptionFixes).forEach(([old, newText]) => {
      const regex = new RegExp(old.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
      const originalContent = content;
      content = content.replace(regex, newText);
      if (originalContent !== content) {
        fixCount++;
        console.log(`âœ… ${old} â†’ ${newText}`);
      }
    });
    
    // ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜
    await writeFile('./public/js/data/hexagram-human-traits-v3.js', content);
    
    console.log(`\n=== ãƒ•ã‚§ãƒ¼ã‚º2å®Œäº† ===`);
    console.log(`ä¿®æ­£ä»¶æ•°: ${fixCount}ä»¶`);
    console.log(`\næ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:`);
    console.log(`1. node comprehensive-v3-review.mjs ã§ç¢ºèª`);
    console.log(`2. node fix-short-descriptions-phase3.mjs ã§ãƒ•ã‚§ãƒ¼ã‚º3å®Ÿè¡Œ`);
    
  } catch (error) {
    console.error('ã‚¨ãƒ©ãƒ¼:', error);
  }
}

fixPhase2();