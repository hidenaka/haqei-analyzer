<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>å®Ÿéš›ã®64å¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ç¢ºèª</title>
    <style>
        body { 
            font-family: monospace; 
            padding: 20px; 
            background: #1a1a1a; 
            color: #fff; 
            line-height: 1.6;
        }
        .hexagram { 
            margin: 10px 0; 
            padding: 10px; 
            border: 1px solid #444; 
            border-radius: 4px; 
            background: rgba(0,0,0,0.3);
        }
        .keyword-match {
            color: #10b981;
            font-weight: bold;
        }
        .keyword-nomatch {
            color: #6b7280;
        }
        button {
            padding: 12px 25px;
            background: linear-gradient(135deg, #dc2626, #ef4444);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>ğŸ” å®Ÿéš›ã®64å¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰vsãƒãƒƒãƒãƒ³ã‚°é…åˆ—</h1>
    <p>hardcodedç‰¹æ€§ã®å®Ÿéš›ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€è¡çªæ¤œå‡ºé…åˆ—ã«ãƒãƒƒãƒã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯</p>
    
    <button onclick="checkActualKeywords()">ğŸ¯ å®Ÿéš›ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ç¢ºèª</button>
    
    <div id="results"></div>

    <script src="./public/assets/H384H64database.js"></script>
    <script src="./public/js/core/TripleOSInteractionAnalyzer.js"></script>
    <script>
        function checkActualKeywords() {
            const results = document.getElementById('results');
            results.innerHTML = '<div>ğŸ”„ å®Ÿéš›ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰åˆ†æä¸­...</div>';
            
            try {
                const analyzer = new TripleOSInteractionAnalyzer();
                
                // ç¾åœ¨ã®è¡çªæ¤œå‡ºé…åˆ—
                const speedFast = ['å¼·å¤§', 'å¨åŠ›', 'ç©æ¥µæ€§', 'å‹‡çŒ›', 'è¡æ’ƒ', 'æ´»æ°—', 'æ±ºæ–­', 'å‡¦æ–­', 'å‹‡æ•¢', 'æ”»æ’ƒ', 'é›·', 'é›»æ’ƒ'];
                const speedSlow = ['ç©å¥', 'æ…é‡', 'ç¯€åˆ¶', 'å†…çœ', 'ç‘æƒ³', 'é™è¦³', 'å¿è€', 'å¾…æ©Ÿ', 'æº–å‚™', 'è¦³å¯Ÿ', 'æ´å¯Ÿ', 'è¬™éœ', 'æ®µéšçš„', 'ç€å®Ÿ'];
                const valueIndividual = ['å€‹äºº', 'ç‹¬ç«‹', 'è‡ªç”±', 'å‰µé€ ', 'ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—', 'è‡ªç«‹', 'ä¸»å°', 'ç‹¬å‰µæ€§', 'è‡ªå·±ä¸»å¼µ'];
                const valueGroup = ['å›£çµ', 'å”èª¿', 'çµ±åˆ', 'èª¿å’Œ', 'é›†åˆ', 'çµé›†', 'è¦ªå’Œ', 'å”åŠ›', 'åŒå¿—', 'å’Œè§£', 'åŒ…å®¹', 'å—å®¹æ€§'];
                const timeChange = ['é©æ–°', 'å¤‰é©', 'åˆ·æ–°', 'æ”¹é©', 'è…æ•—', 'å†ç”Ÿ', 'å¤‰åŒ–å¯¾å¿œ', 'æ”¹é©åŠ›', 'æ–°ç§©åº', 'å†ç·¨', 'è¦šé†’', 'å¤‰åŒ–', 'é€²æ­©'];
                const timeStable = ['å®‰å®š', 'ç¶­æŒ', 'æ’å¸¸', 'æ°¸ç¶š', 'æŒç¶š', 'ç¶™ç¶š', 'ä¸å¤‰', 'ä¿å®ˆ', 'ç¾çŠ¶ç¶­æŒ', 'å¿è€', 'å …å®Ÿ', 'æŒç¶šçš„', 'æ°¸ç¶šçš„'];
                const directionExpand = ['ä¸Šæ˜‡', 'ç™ºå±•', 'å‘ä¸Š', 'é€²æ­©', 'ç™ºé”', 'æˆé•·', 'æ˜‡é€²', 'æ‹¡æ•£', 'è§£æ”¾', 'æ•£é–‹', 'æ˜æ™°æ€§', 'ç…§æ˜', 'å¤–å‘'];
                const directionContract = ['æ½œä¼', 'é€€é¿', 'å†…å‘', 'åæŸ', 'æˆ¦ç•¥çš„æ’¤é€€', 'ä¿èº«', 'éš é', 'å†…çœ', 'æ·±ã„æ´å¯Ÿ', 'æ·±å±¤', 'é–‰å¡', 'æ–­çµ¶', 'ç¯€åˆ¶', 'åˆ¶é™'];
                
                let html = '<h2>ğŸ“Š å…¨64å¦ã®å®Ÿéš›ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰åˆ†æ</h2>';
                let matchStats = {
                    speedFast: 0, speedSlow: 0,
                    valueIndividual: 0, valueGroup: 0,
                    timeChange: 0, timeStable: 0,
                    directionExpand: 0, directionContract: 0,
                    total: 64
                };
                
                for (let i = 1; i <= 64; i++) {
                    const char = analyzer.getHexagramCharacteristics(i);
                    const keywords = char.keywords || [];
                    
                    // ãƒãƒƒãƒãƒ³ã‚°ç¢ºèª
                    const matchSpeedFast = keywords.some(k => speedFast.includes(k));
                    const matchSpeedSlow = keywords.some(k => speedSlow.includes(k));
                    const matchValueIndiv = keywords.some(k => valueIndividual.includes(k));
                    const matchValueGroup = keywords.some(k => valueGroup.includes(k));
                    const matchTimeChange = keywords.some(k => timeChange.includes(k));
                    const matchTimeStable = keywords.some(k => timeStable.includes(k));
                    const matchDirExpand = keywords.some(k => directionExpand.includes(k));
                    const matchDirContract = keywords.some(k => directionContract.includes(k));
                    
                    // çµ±è¨ˆæ›´æ–°
                    if (matchSpeedFast) matchStats.speedFast++;
                    if (matchSpeedSlow) matchStats.speedSlow++;
                    if (matchValueIndiv) matchStats.valueIndividual++;
                    if (matchValueGroup) matchStats.valueGroup++;
                    if (matchTimeChange) matchStats.timeChange++;
                    if (matchTimeStable) matchStats.timeStable++;
                    if (matchDirExpand) matchStats.directionExpand++;
                    if (matchDirContract) matchStats.directionContract++;
                    
                    const hasAnyMatch = matchSpeedFast || matchSpeedSlow || matchValueIndiv || matchValueGroup || 
                                       matchTimeChange || matchTimeStable || matchDirExpand || matchDirContract;
                    
                    html += `
                        <div class="hexagram" style="${hasAnyMatch ? 'border-color: #10b981;' : 'border-color: #ef4444;'}">
                            <strong>${i}. ${char.name}</strong><br>
                            ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: [${keywords.join(', ')}]<br>
                            ãƒãƒƒãƒ: 
                            <span class="${matchSpeedFast ? 'keyword-match' : 'keyword-nomatch'}">Speed Fast</span> | 
                            <span class="${matchSpeedSlow ? 'keyword-match' : 'keyword-nomatch'}">Speed Slow</span> | 
                            <span class="${matchValueIndiv ? 'keyword-match' : 'keyword-nomatch'}">Value Individual</span> | 
                            <span class="${matchValueGroup ? 'keyword-match' : 'keyword-nomatch'}">Value Group</span> | 
                            <span class="${matchTimeChange ? 'keyword-match' : 'keyword-nomatch'}">Time Change</span> | 
                            <span class="${matchTimeStable ? 'keyword-match' : 'keyword-nomatch'}">Time Stable</span> | 
                            <span class="${matchDirExpand ? 'keyword-match' : 'keyword-nomatch'}">Dir Expand</span> | 
                            <span class="${matchDirContract ? 'keyword-match' : 'keyword-nomatch'}">Dir Contract</span>
                        </div>
                    `;
                }
                
                // çµ±è¨ˆã‚µãƒãƒªãƒ¼
                html += `
                    <div style="margin-top: 30px; padding: 20px; border: 2px solid #22d3ee; border-radius: 10px;">
                        <h3>ğŸ“ˆ ãƒãƒƒãƒãƒ³ã‚°çµ±è¨ˆ</h3>
                        <p><strong>Speed Fast ãƒãƒƒãƒ:</strong> ${matchStats.speedFast}/64 (${(matchStats.speedFast/64*100).toFixed(1)}%)</p>
                        <p><strong>Speed Slow ãƒãƒƒãƒ:</strong> ${matchStats.speedSlow}/64 (${(matchStats.speedSlow/64*100).toFixed(1)}%)</p>
                        <p><strong>Value Individual ãƒãƒƒãƒ:</strong> ${matchStats.valueIndividual}/64 (${(matchStats.valueIndividual/64*100).toFixed(1)}%)</p>
                        <p><strong>Value Group ãƒãƒƒãƒ:</strong> ${matchStats.valueGroup}/64 (${(matchStats.valueGroup/64*100).toFixed(1)}%)</p>
                        <p><strong>Time Change ãƒãƒƒãƒ:</strong> ${matchStats.timeChange}/64 (${(matchStats.timeChange/64*100).toFixed(1)}%)</p>
                        <p><strong>Time Stable ãƒãƒƒãƒ:</strong> ${matchStats.timeStable}/64 (${(matchStats.timeStable/64*100).toFixed(1)}%)</p>
                        <p><strong>Direction Expand ãƒãƒƒãƒ:</strong> ${matchStats.directionExpand}/64 (${(matchStats.directionExpand/64*100).toFixed(1)}%)</p>
                        <p><strong>Direction Contract ãƒãƒƒãƒ:</strong> ${matchStats.directionContract}/64 (${(matchStats.directionContract/64*100).toFixed(1)}%)</p>
                        
                        <p style="color: #f59e0b; font-weight: bold; margin-top: 20px;">
                            ğŸ“ çµè«–: å®Ÿéš›ã®64å¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¨è¡çªæ¤œå‡ºé…åˆ—ã®ãƒãƒƒãƒãƒ³ã‚°çŠ¶æ³ãŒåˆ¤æ˜
                        </p>
                    </div>
                `;
                
                results.innerHTML = html;
                
            } catch (error) {
                results.innerHTML = `
                    <div style="color: #ef4444; padding: 20px;">
                        âŒ åˆ†æã‚¨ãƒ©ãƒ¼: ${error.message}
                    </div>
                `;
                console.error('ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰åˆ†æã‚¨ãƒ©ãƒ¼:', error);
            }
        }
    </script>
</body>
</html>