# ファイル分類リスト

**作成日**: 2025年8月18日  
**対象**: public/js/直下の30ファイル + 日付付きファイル

## 🟢 KEEP（保持）- 5ファイル
現在使用中、移動不要
```
js/QuestionManager.js         # コア機能
js/ScreenManager.js           # コア機能
js/error-handler.js           # エラー管理
js/accessibility.js           # アクセシビリティ
js/event-handlers.js          # イベント処理
```

## 🟡 ARCHIVE（アーカイブ）- 8ファイル
将来の参照用にarchives/2025-08/へ移動
```
js/V2Components.js            # 旧バージョン
js/V2ComponentsEnhanced.js    # 旧バージョン
js/v2-module-loader.js        # 旧ローダー
js/ResultsPageV2.js           # 旧結果ページ
js/ThreePhaseSystem.js        # 3段階システム（参考実装）
js/EnhancedKeywordAnalyzer.js # 拡張版（参考実装）
js/binary-tree-complete-display.js # バイナリツリー表示
js/critical-loader.js         # クリティカルローダー
```

## 🟠 QUARANTINE（隔離）- 12ファイル
判断保留、quarantine/へ一時移動
```
js/DataDrivenKeywordAnalyzer.js   # 用途不明
js/EdgeCaseHandler.js             # エッジケース処理
js/QuestionScreenOptimizer.js     # 最適化ツール？
js/StatisticalValidator.js        # 統計検証（使用中？）
js/SwitchLensesAnimated.js        # アニメーション
js/ab-testing.js                  # A/Bテスト
js/data-compatibility-layer.js    # 互換性レイヤー
js/emergency-bypass.js            # 緊急バイパス
js/feedback-widget.js             # フィードバック
js/health-beacon.js               # ヘルスチェック
js/ml-integration.js              # ML統合
js/result-visualizer.js           # 結果表示（使用中？）
```

## 🔴 DELETE（削除）- 24ファイル

### 日付付きテストファイル（即削除可）
```
20250814_*.html               # 4日前のテスト
20250814_*.js                 # 4日前のテスト
20250815_*.js                 # 3日前のテスト
20250816_*.js                 # 2日前のテスト（検証済み）
test-*.html                   # テストHTML
test-*.js                     # テストJS
```

### 明確な重複・不要ファイル
```
js/h384-compatibility-wrapper.js  # 互換性ラッパー（未使用）
js/keyword_expansion_engine.js    # 古い実装
js/welcome-screen-cleaner.js      # 不要なクリーナー
js/iching-metaphor-display.js     # ichingフォルダに類似あり
js/iching-situation-analyzer.js   # ichingフォルダに統合済み
```

## 📊 サマリー

| 分類 | ファイル数 | 処理 |
|------|-----------|------|
| KEEP | 5 | そのまま維持 |
| ARCHIVE | 8 | archives/へ移動 |
| QUARANTINE | 12 | 一時隔離 |
| DELETE | 24+ | 削除 |

## 🎯 推奨実行順序

### Step 1: 安全な処理（リスク低）
```bash
# アーカイブ用ディレクトリ作成
mkdir -p archives/2025-08
mkdir -p quarantine

# 日付付きファイルを削除
rm public/20250814_*.{js,html}
rm public/test-*.{js,html}
```

### Step 2: アーカイブ処理
```bash
# V2系をアーカイブ
mv public/js/V2*.js archives/2025-08/
mv public/js/v2-*.js archives/2025-08/
```

### Step 3: 隔離処理
```bash
# 判断保留ファイルを隔離
mv public/js/DataDrivenKeywordAnalyzer.js quarantine/
# ... (他のQUARANTINEファイル)
```

### Step 4: 動作確認
```bash
npm run mcp  # 動作テスト
```

## ⚠️ 注意事項

### 削除前チェック
1. **StatisticalValidator.js** - HTMLから参照あり、要確認
2. **result-visualizer.js** - HTMLから参照あり、要確認
3. **emergency-bypass.js** - 緊急時用？要確認

### バックアップ推奨
```bash
# 実行前に必ずバックアップ
tar -czf backup-before-cleanup-$(date +%Y%m%d).tar.gz public/
```

## 💭 判断ポイント

**即実行可能**:
- DELETE分類の日付付きファイル
- 明確な重複ファイル

**要検討**:
- QUARANTINE分類のファイル（1週間観察後判断）
- 参照があるが未使用の可能性があるファイル

**保守的アプローチ**:
まずDELETE分類のみ処理し、動作確認後に他の分類を処理