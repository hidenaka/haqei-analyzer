# é‡è¤‡ã‚¯ãƒ©ã‚¹èª¿æŸ»å ±å‘Šæ›¸

**ä½œæˆæ—¥**: 2025å¹´8æœˆ18æ—¥  
**èª¿æŸ»å®Ÿæ–½**: ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤å¾Œã®çŠ¶æ…‹

## ğŸ“Š èª¿æŸ»çµæœã‚µãƒãƒªãƒ¼

### å‰Šé™¤å®Ÿè¡Œæ¸ˆã¿
- âœ… ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆå®Œäº† (backup_20250818.tar.gz - 6.3MB)
- âœ… dist/ ãƒ•ã‚©ãƒ«ãƒ€å‰Šé™¤
- âœ… archives/cleanup-20250807/ å‰Šé™¤
- âœ… test/archive/ å‰Šé™¤  
- âœ… js/ ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆpublicã®å¤–ï¼‰å‰Šé™¤
- âœ… public/js/core/QuestionManager.js å‰Šé™¤
- âœ… public/js/ui/QuestionManager.js å‰Šé™¤

### é‡è¤‡ã‚¯ãƒ©ã‚¹ã®ç™ºè¦‹
**åˆè¨ˆ6ç¨®é¡ã®ã‚¯ãƒ©ã‚¹ãŒé‡è¤‡**ã—ã¦ã„ã‚‹ï¼š

## ğŸš¨ é‡è¤‡ã‚¯ãƒ©ã‚¹è©³ç´°

### 1. ScreenManagerï¼ˆ2å€‹ï¼‰
```
public/js/ScreenManager.js          â† HTMLã§èª­ã¿è¾¼ã¿ä¸­ï¼ˆæ­£å¼ç‰ˆï¼‰
public/js/core/ScreenManager.js     â† é‡è¤‡ï¼ˆå‰Šé™¤å€™è£œï¼‰
```

### 2. StorageManagerï¼ˆ2å€‹ï¼‰
```
public/js/shared/core/StorageManager.js    â† æœªä½¿ç”¨ï¼Ÿ
public/quick-analyzer/js/core/StorageManager.js  â† quick-analyzerå°‚ç”¨
```

### 3. EmergencyState & EmergencyQuestionFlowï¼ˆå„2å€‹ï¼‰
```
public/emergency-bypass.js          â† ãƒ«ãƒ¼ãƒˆç›´ä¸‹
public/js/emergency-bypass.js       â† jsé…ä¸‹ã«é‡è¤‡
```

### 4. FutureBranchingSystemï¼ˆ2å€‹ï¼‰
```
public/js/core/FutureBranchingSystem.js
ï¼ˆåˆ¥ã®å ´æ‰€ã«ã‚‚å­˜åœ¨ã®å¯èƒ½æ€§ï¼‰
```

### 5. PerformanceOptimizerï¼ˆ2å€‹ï¼‰
```
public/js/core/PerformanceOptimizer.js
ï¼ˆåˆ¥ã®å ´æ‰€ã«ã‚‚å­˜åœ¨ã®å¯èƒ½æ€§ï¼‰
```

## ğŸ“ˆ å•é¡Œã®å½±éŸ¿

### ãªãœQ.1ã ã‘ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã«ãªã£ã¦ã„ãŸã‹
1. **QuestionManager.jsã¯æ•´ç†å®Œäº†**
   - ç¾åœ¨ã¯`public/js/QuestionManager.js`ã®ã¿
   - ã—ã‹ã—ã€ä»–ã®ã‚¯ãƒ©ã‚¹ã®é‡è¤‡ãŒå½±éŸ¿ã—ã¦ã„ã‚‹å¯èƒ½æ€§

2. **ScreenManagerã®ç«¶åˆ**
   - 2ã¤ã®ScreenManagerãŒå­˜åœ¨
   - ç”»é¢åˆ‡ã‚Šæ›¿ãˆæ™‚ã«ç•°ãªã‚‹å‡¦ç†ãŒèµ°ã‚‹å¯èƒ½æ€§

3. **åˆæœŸåŒ–é †åºã®å•é¡Œ**
   - è¤‡æ•°ã®ã‚¯ãƒ©ã‚¹ãŒç«¶åˆã—ã¦åˆæœŸåŒ–ã•ã‚Œã‚‹
   - Q.1ã ã‘ç‰¹åˆ¥ãªå‡¦ç†ãƒ‘ã‚¹ã‚’é€šã£ã¦ã„ã‚‹

## ğŸ” HTMLãƒ•ã‚¡ã‚¤ãƒ«ã§ã®èª­ã¿è¾¼ã¿çŠ¶æ³

### os_analyzer.html ã§èª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«
```html
<script src="js/ScreenManager.js"></script>    â† OK
<script src="js/QuestionManager.js"></script>  â† OKï¼ˆæ•´ç†æ¸ˆã¿ï¼‰
```

### å•é¡Œã®ã‚ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 
```
public/
â”œâ”€â”€ emergency-bypass.js          â† ãƒ«ãƒ¼ãƒˆç›´ä¸‹ï¼ˆç•°å¸¸ï¼‰
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ emergency-bypass.js      â† é‡è¤‡
â”‚   â”œâ”€â”€ ScreenManager.js         â† æ­£å¼ç‰ˆ
â”‚   â”œâ”€â”€ QuestionManager.js       â† æ­£å¼ç‰ˆï¼ˆæ•´ç†æ¸ˆã¿ï¼‰
â”‚   â””â”€â”€ core/
â”‚       â””â”€â”€ ScreenManager.js     â† é‡è¤‡ï¼ˆå‰Šé™¤å€™è£œï¼‰
```

## ğŸ¯ æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### STEP 1: é‡è¤‡ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤
```bash
# ScreenManagerã®é‡è¤‡å‰Šé™¤
rm public/js/core/ScreenManager.js

# emergency-bypassã®é‡è¤‡å‰Šé™¤ï¼ˆãƒ«ãƒ¼ãƒˆç›´ä¸‹ã‚’å‰Šé™¤ï¼‰
rm public/emergency-bypass.js

# æœªä½¿ç”¨ã®StorageManagerå‰Šé™¤
rm -rf public/js/shared/  # sharedå…¨ä½“ãŒæœªä½¿ç”¨ãªã‚‰
```

### STEP 2: ã‚¯ãƒ©ã‚¹åã®çµ±ä¸€ç¢ºèª
```bash
# å„ã‚¯ãƒ©ã‚¹ãŒ1ã¤ã ã‘ã«ãªã£ãŸã‹ç¢ºèª
find public -name "*.js" -exec grep -l "class ScreenManager" {} \;
# çµæœãŒ1ã¤ã ã‘ãªã‚‰OK
```

### STEP 3: import/export ã®æ•´ç†
å¤šãã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã‚‹ãŒã€é©åˆ‡ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ãŒå¿…è¦ã€‚

## ğŸ“ æ ¹æœ¬åŸå› ã®åˆ†æ

### ãªãœã“ã†ãªã£ãŸã‹
1. **é–‹ç™ºä¸­ã®è©¦è¡ŒéŒ¯èª¤**
   - ç•°ãªã‚‹å ´æ‰€ã«åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
   - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã®ä¸å‚™

2. **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®ä¸çµ±ä¸€**
   - `/js/core/`
   - `/js/ui/`
   - `/js/shared/core/`
   - ç­‰ã€è¤‡æ•°ã®æ§‹é€ ãŒæ··åœ¨

3. **ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã®ä¸åœ¨**
   - distãƒ•ã‚©ãƒ«ãƒ€ãŒã‚ã£ãŸãŒã€ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ãŒä¸æ˜
   - æ‰‹å‹•ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã„ãŸå¯èƒ½æ€§

## âœ… è§£æ±ºå¾Œã®ç†æƒ³çš„ãªæ§‹é€ 

```
public/
  js/
    # ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆã“ã‚Œã ã‘ä½¿ç”¨ï¼‰
    QuestionManager.js
    ScreenManager.js
    os-analyzer-main.js
    
    # ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆå¿…è¦ãªã‚‚ã®ã®ã¿ï¼‰
    core/
      å¿…è¦ãªå˜ä¸€æ©Ÿèƒ½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
    
    # ãã®ä»–ã¯å…¨ã¦å‰Šé™¤ã¾ãŸã¯çµ±åˆ
```

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **é‡è¤‡ã‚¯ãƒ©ã‚¹ã®å‰Šé™¤å®Ÿè¡Œ**
2. **å‹•ä½œç¢ºèª**
3. **Q.2ä»¥é™ã®ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³è¡¨ç¤ºç¢ºèª**
4. **ä¸è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ•´ç†**

## çµè«–

**é‡è¤‡ãƒ•ã‚¡ã‚¤ãƒ«ãŒåŸå› ã§å‡¦ç†ãŒæ··ä¹±ã—ã¦ã„ãŸ**ã“ã¨ãŒåˆ¤æ˜ã€‚ç‰¹ã«ï¼š
- QuestionManager: 9å€‹ â†’ 1å€‹ã«æ•´ç†æ¸ˆã¿
- ScreenManager: 2å€‹ï¼ˆè¦å‰Šé™¤1å€‹ï¼‰
- ãã®ä»–: 4ç¨®é¡ã®ã‚¯ãƒ©ã‚¹ãŒé‡è¤‡

ã“ã‚Œã‚‰ã‚’æ•´ç†ã™ã‚‹ã“ã¨ã§ã€Q.2ä»¥é™ã®ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³å•é¡Œã‚‚è§£æ±ºã™ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã€‚