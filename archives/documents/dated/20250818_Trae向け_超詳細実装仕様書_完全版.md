# Trae AI向け OSアナライザー結果画面 超詳細実装仕様書

**作成日**: 2025年8月18日  
**対象AI**: Trae Editor  
**重要**: この仕様書の通りに実装すること。独自判断・追加機能・想像による実装は一切禁止。

## ⚠️ 絶対厳守ルール

### 禁止事項（違反したら即中止）
1. ❌ **この仕様書にない機能の追加禁止**
2. ❌ **デザインの独自変更禁止**
3. ❌ **ファイル名の変更禁止**
4. ❌ **変数名・関数名の変更禁止**
5. ❌ **コメントの追加禁止**
6. ❌ **console.logの追加禁止**（指定箇所のみ許可）
7. ❌ **既存コードの削除禁止**（指定箇所以外）
8. ❌ **npmパッケージのインストール禁止**
9. ❌ **CSSクラス名の独自追加禁止**
10. ❌ **エラーハンドリングの独自追加禁止**

### 必須確認事項
- ✅ 各ステップ実行前に、前提条件を確認
- ✅ 各ステップ実行後に、検証項目を確認
- ✅ エラーが出たら即停止して報告
- ✅ 不明な点があったら実装せずに質問

---

## 📋 STEP 0: 実装前チェックリスト

### 0.1 ファイル存在確認（全て必須）
```bash
# 以下のコマンドを実行して、全てのファイルが存在することを確認
ls -la /Users/hideakimacbookair/Desktop/haqei-analyzer/public/os_analyzer.html
ls -la /Users/hideakimacbookair/Desktop/haqei-analyzer/public/js/os-analyzer-main.js
ls -la /Users/hideakimacbookair/Desktop/haqei-analyzer/public/css/os-analyzer.css
ls -la /Users/hideakimacbookair/Desktop/haqei-analyzer/public/js/core/QuestionManager.js
ls -la /Users/hideakimacbookair/Desktop/haqei-analyzer/public/js/ScreenManager.js
```

**期待結果**: 全てのファイルが存在すること  
**エラー時**: ファイルが見つからない場合は即停止

### 0.2 バックアップ作成（必須）
```bash
# バックアップディレクトリを作成
mkdir -p /Users/hideakimacbookair/Desktop/haqei-analyzer/backup_20250818

# 重要ファイルをバックアップ
cp public/os_analyzer.html backup_20250818/os_analyzer.html.bak
cp public/js/os-analyzer-main.js backup_20250818/os-analyzer-main.js.bak
cp public/css/os-analyzer.css backup_20250818/os-analyzer.css.bak
```

**検証**: backup_20250818ディレクトリに3つのファイルが存在すること

---

## 📋 STEP 1: HTML要素の修正

### 1.1 os_analyzer.htmlを開く
**ファイルパス**: `/Users/hideakimacbookair/Desktop/haqei-analyzer/public/os_analyzer.html`

### 1.2 既存のタブ構造を探す（行番号は目安）
**検索文字列**: `<div class="tabs-container">`  
**予想位置**: 1500-2000行付近

### 1.3 タブ構造の置換（完全置換・一字一句違わずコピー）

#### 【削除する部分】を探す
```html
<!-- この部分を見つけて削除 START -->
<div class="tabs-container">
    <button class="tab-button active" data-tab="basic">基本層</button>
    <button class="tab-button" data-tab="detail">詳細層</button>
    <button class="tab-button" data-tab="expert">専門層</button>
    <button class="tab-button" data-tab="integration">統合層</button>
    <button class="tab-button" data-tab="transparency">透明化</button>
    <button class="tab-button" data-tab="application">活用法</button>
</div>
<!-- この部分を見つけて削除 END -->
```

#### 【新しく挿入する部分】（完全コピー必須）
```html
<!-- 新タブ構造 START - このコメントも含めて完全コピー -->
<div class="tabs-container">
    <button class="tab-button active" data-tab="basic">基本層</button>
    <button class="tab-button" data-tab="synergy">シナジー分析</button>
    <button class="tab-button" data-tab="transparency">透明化</button>
    <button class="tab-button" data-tab="application">活用法</button>
</div>
<!-- 新タブ構造 END -->
```

### 1.4 検証チェック
```javascript
// ブラウザコンソールで実行
document.querySelectorAll('.tab-button').length === 4
// 結果がtrueであることを確認
```

---

## 📋 STEP 2: シナジー分析タブのHTML追加

### 2.1 挿入位置を探す
**検索文字列**: `<div id="basic-content" class="tab-content active">`  
**この要素の閉じタグ`</div>`の直後に挿入**

### 2.2 シナジー分析タブHTML（完全コピー・改変禁止）
```html
<!-- シナジー分析タブ START - 改変禁止 -->
<div id="synergy-content" class="tab-content" style="display:none;">
    <h2 class="result-title">Triple OSシナジー分析</h2>
    
    <!-- Engine×Interface黄金パターン分析 -->
    <div class="synergy-section">
        <h3 class="section-title">⚡ Engine×Interface黄金パターン分析</h3>
        <div id="golden-pattern-analysis" class="golden-pattern">
            <!-- 動的生成される -->
        </div>
        <div class="pattern-grids">
            <div id="success-patterns" class="pattern-grid">
                <!-- 成功パターンが動的生成される -->
            </div>
            <div id="warning-patterns" class="pattern-grid">
                <!-- 要注意パターンが動的生成される -->
            </div>
        </div>
    </div>

    <!-- 3つのOS内部相性診断 -->
    <div class="compatibility-section">
        <h3 class="section-title">🔄 内的一貫性診断</h3>
        <div class="consistency-display">
            <div class="score-circle" id="consistency-circle">
                <span id="consistency-value">--</span>
                <span class="score-label">%</span>
            </div>
            <div id="consistency-type" class="consistency-type-label">判定中...</div>
        </div>
        <div id="compatibility-details" class="compatibility-details">
            <!-- 詳細が動的生成される -->
        </div>
    </div>

    <!-- OS連携メカニズム解説 -->
    <div class="coordination-section">
        <h3 class="section-title">🔗 OS連携フロー</h3>
        <div id="os-flow-chart" class="flow-chart">
            <div class="flow-item engine-flow">
                <div class="flow-label">Engine OS</div>
                <div id="engine-flow-name" class="flow-name">--</div>
            </div>
            <div class="flow-arrow">→</div>
            <div class="flow-item interface-flow">
                <div class="flow-label">Interface OS</div>
                <div id="interface-flow-name" class="flow-name">--</div>
            </div>
            <div class="flow-arrow">→</div>
            <div class="flow-item safemode-flow">
                <div class="flow-label">Safe Mode OS</div>
                <div id="safemode-flow-name" class="flow-name">--</div>
            </div>
        </div>
        <div id="energy-loss-points" class="energy-loss-points">
            <!-- エネルギーロスポイントが動的生成される -->
        </div>
    </div>

    <!-- 最適化アクション -->
    <div class="optimization-section">
        <h3 class="section-title">📈 最適化アクション</h3>
        <div id="optimization-actions" class="action-grid">
            <!-- 4つのアクションが動的生成される -->
        </div>
    </div>
</div>
<!-- シナジー分析タブ END -->
```

### 2.3 検証チェック
```javascript
// ブラウザコンソールで実行
document.getElementById('synergy-content') !== null
// 結果がtrueであることを確認
```

---

## 📋 STEP 3: 削除するタブコンテンツ

### 3.1 以下のIDを持つdiv要素を完全削除

#### 削除対象1
```html
<!-- 削除 START -->
<div id="detail-content" class="tab-content">
    <!-- 中身全て -->
</div>
<!-- 削除 END -->
```

#### 削除対象2
```html
<!-- 削除 START -->
<div id="expert-content" class="tab-content">
    <!-- 中身全て -->
</div>
<!-- 削除 END -->
```

#### 削除対象3
```html
<!-- 削除 START -->
<div id="integration-content" class="tab-content">
    <!-- 中身全て -->
</div>
<!-- 削除 END -->
```

### 3.2 削除検証
```javascript
// ブラウザコンソールで実行
document.getElementById('detail-content') === null &&
document.getElementById('expert-content') === null &&
document.getElementById('integration-content') === null
// 結果がtrueであることを確認
```

---

## 📋 STEP 4: CSS追加（os-analyzer.css）

### 4.1 ファイルを開く
**ファイルパス**: `/Users/hideakimacbookair/Desktop/haqei-analyzer/public/css/os-analyzer.css`

### 4.2 ファイルの最後に以下を追加（完全コピー）
```css
/* ===== シナジー分析タブ専用CSS START ===== */
.synergy-section,
.compatibility-section,
.coordination-section,
.optimization-section {
    margin-bottom: 3rem;
    padding: 2rem;
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(139, 92, 246, 0.05));
    border-radius: 12px;
}

.section-title {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
    color: #4c1d95;
}

/* スコアサークル */
.score-circle {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    background: conic-gradient(
        #6366f1 0%,
        #6366f1 var(--score-percentage, 0%),
        rgba(99, 102, 241, 0.2) var(--score-percentage, 0%),
        rgba(99, 102, 241, 0.2) 100%
    );
    margin: 0 auto 1rem;
}

.score-circle span#consistency-value {
    font-size: 2.5rem;
    font-weight: bold;
    color: #4c1d95;
}

.score-label {
    font-size: 1.2rem;
    color: #6b7280;
}

/* フローチャート */
.flow-chart {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    padding: 2rem;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.flow-item {
    padding: 1rem 1.5rem;
    border-radius: 8px;
    text-align: center;
    min-width: 120px;
}

.engine-flow {
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    color: white;
}

.interface-flow {
    background: linear-gradient(135deg, #60a5fa, #3b82f6);
    color: white;
}

.safemode-flow {
    background: linear-gradient(135deg, #86efac, #22c55e);
    color: white;
}

.flow-arrow {
    font-size: 2rem;
    color: #6b7280;
}

.flow-label {
    font-size: 0.875rem;
    margin-bottom: 0.5rem;
    opacity: 0.9;
}

.flow-name {
    font-size: 1.125rem;
    font-weight: 600;
}

/* パターングリッド */
.pattern-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
}

.pattern-card {
    padding: 1.5rem;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: transform 0.2s;
}

.pattern-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.pattern-card.success {
    border-left: 4px solid #22c55e;
}

.pattern-card.warning {
    border-left: 4px solid #f59e0b;
}

/* アクショングリッド */
.action-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-top: 1.5rem;
}

.action-card {
    padding: 1.5rem;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.action-card h4 {
    color: #4c1d95;
    margin-bottom: 0.75rem;
    font-size: 1.125rem;
}

.action-card p {
    color: #6b7280;
    line-height: 1.6;
}

/* レスポンシブ対応 */
@media (max-width: 768px) {
    .flow-chart {
        flex-direction: column;
    }
    
    .flow-arrow {
        transform: rotate(90deg);
    }
    
    .pattern-grid,
    .action-grid {
        grid-template-columns: 1fr;
    }
}
/* ===== シナジー分析タブ専用CSS END ===== */
```

### 4.3 CSS追加検証
```javascript
// ブラウザで確認
// デベロッパーツールでCSSが読み込まれていることを確認
// Networkタブでos-analyzer.cssが200 OKであることを確認
```

---

## 📋 STEP 5: JavaScript関数の追加（os-analyzer-main.js）

### 5.1 ファイルを開く
**ファイルパス**: `/Users/hideakimacbookair/Desktop/haqei-analyzer/public/js/os-analyzer-main.js`

### 5.2 displayResults関数を探す
**検索文字列**: `function displayResults(`  
**注意**: 既存のdisplayResults関数は削除しない

### 5.3 displayResults関数の最後に以下を追加

#### 追加位置を探す
```javascript
// displayResults関数の最後の方にある以下のような行を探す
displayBasicResults(engineOS, interfaceOS, safeModeOS);
// この行の直後に追加
```

#### 追加するコード（完全コピー）
```javascript
// シナジー分析タブの自動生成 - START
if (document.getElementById('synergy-content')) {
    displaySynergyAnalysis(engineOS, interfaceOS, safeModeOS);
}
// シナジー分析タブの自動生成 - END
```

### 5.4 新しい関数を追加（ファイルの最後に追加）

```javascript
// ===== シナジー分析表示関数 START =====
function displaySynergyAnalysis(engineOS, interfaceOS, safeModeOS) {
    // 1. Engine×Interface黄金パターン分析
    displayGoldenPatternAnalysis(engineOS, interfaceOS);
    
    // 2. 内的一貫性スコア計算と表示
    displayConsistencyScore(engineOS, interfaceOS, safeModeOS);
    
    // 3. OS連携フロー表示
    displayOSFlow(engineOS, interfaceOS, safeModeOS);
    
    // 4. 最適化アクション表示
    displayOptimizationActions(engineOS, interfaceOS, safeModeOS);
}

function displayGoldenPatternAnalysis(engineOS, interfaceOS) {
    const container = document.getElementById('golden-pattern-analysis');
    if (!container) return;
    
    const engineTrigram = engineOS.upperTrigram;
    const interfaceTrigram = interfaceOS.upperTrigram;
    
    // パターン判定
    const patternKey = `${engineTrigram}×${interfaceTrigram}`;
    const patterns = {
        '乾×兌': { type: 'success', name: '革新的コミュニケーター', desc: '創造力と表現力のゴールデンコンビ' },
        '震×坎': { type: 'success', name: '探究型リーダー', desc: '行動力と深い洞察力の併せ持ち' },
        '離×巽': { type: 'success', name: '適応的表現者', desc: '情熱と柔軟性の調和' },
        '艮×坤': { type: 'success', name: '安定型協調者', desc: '着実さと受容性の組み合わせ' },
        '乾×坤': { type: 'warning', name: '内外ギャップ型', desc: '創造的内面と受容的外面のギャップ' },
        '震×艮': { type: 'warning', name: '行動抑制型', desc: 'アクセルとブレーキを同時に踏む状態' },
        '坎×離': { type: 'warning', name: '内向外向型', desc: 'エネルギーの無駄遣いが生じやすい' },
        '巽×兌': { type: 'warning', name: '過度適応型', desc: '本来の個性を見失う危険' }
    };
    
    const pattern = patterns[patternKey] || { 
        type: 'neutral', 
        name: `${engineTrigram}×${interfaceTrigram}型`, 
        desc: '独自の組み合わせパターン' 
    };
    
    container.innerHTML = `
        <div class="pattern-card ${pattern.type}">
            <h4>${pattern.name}</h4>
            <p>${pattern.desc}</p>
            <p>Engine: ${engineOS.name} (${engineTrigram}) × Interface: ${interfaceOS.name} (${interfaceTrigram})</p>
        </div>
    `;
}

function displayConsistencyScore(engineOS, interfaceOS, safeModeOS) {
    // 内的一貫性スコア計算
    const compatibility1 = calculateTrigramCompatibility(engineOS.upperTrigram, interfaceOS.upperTrigram);
    const compatibility2 = calculateTrigramCompatibility(interfaceOS.upperTrigram, safeModeOS.upperTrigram);
    const compatibility3 = calculateTrigramCompatibility(engineOS.upperTrigram, safeModeOS.upperTrigram);
    
    const consistencyScore = Math.round((compatibility1 + compatibility2 + compatibility3) / 3 * 100);
    
    // スコア表示
    const valueElement = document.getElementById('consistency-value');
    const typeElement = document.getElementById('consistency-type');
    const circleElement = document.getElementById('consistency-circle');
    
    if (valueElement) valueElement.textContent = consistencyScore;
    if (circleElement) circleElement.style.setProperty('--score-percentage', `${consistencyScore}%`);
    
    // タイプ判定
    let consistencyType = '判定中...';
    if (consistencyScore >= 80) {
        consistencyType = '調和型 - 高い一貫性';
    } else if (consistencyScore >= 60) {
        consistencyType = '補完型 - バランス良好';
    } else {
        consistencyType = '葛藤型 - 創造的可能性';
    }
    
    if (typeElement) typeElement.textContent = consistencyType;
}

function displayOSFlow(engineOS, interfaceOS, safeModeOS) {
    // フロー名表示
    const engineFlowName = document.getElementById('engine-flow-name');
    const interfaceFlowName = document.getElementById('interface-flow-name');
    const safemodeFlowName = document.getElementById('safemode-flow-name');
    
    if (engineFlowName) engineFlowName.textContent = engineOS.name;
    if (interfaceFlowName) interfaceFlowName.textContent = interfaceOS.name;
    if (safemodeFlowName) safemodeFlowName.textContent = safeModeOS.name;
    
    // エネルギーロスポイント表示
    const lossContainer = document.getElementById('energy-loss-points');
    if (lossContainer) {
        const compatibility1 = calculateTrigramCompatibility(engineOS.upperTrigram, interfaceOS.upperTrigram);
        const compatibility2 = calculateTrigramCompatibility(interfaceOS.upperTrigram, safeModeOS.upperTrigram);
        
        let lossPoints = [];
        if (compatibility1 < 0.5) {
            lossPoints.push('⚠️ Engine→Interface間でエネルギーロス発生');
        }
        if (compatibility2 < 0.5) {
            lossPoints.push('⚠️ Interface→Safe Mode間でエネルギーロス発生');
        }
        
        if (lossPoints.length === 0) {
            lossPoints.push('✅ スムーズなエネルギー伝達');
        }
        
        lossContainer.innerHTML = lossPoints.map(point => `<p>${point}</p>`).join('');
    }
}

function displayOptimizationActions(engineOS, interfaceOS, safeModeOS) {
    const container = document.getElementById('optimization-actions');
    if (!container) return;
    
    const actions = [
        {
            title: '朝の意図設定',
            description: `毎朝、${engineOS.name}の価値観を意識して1日の意図を設定しましょう。`
        },
        {
            title: 'OSブリッジング練習',
            description: `${engineOS.name}の内面を${interfaceOS.name}で表現する練習を日常に取り入れます。`
        },
        {
            title: 'ストレス予防システム',
            description: `${safeModeOS.name}モードに入る前兆を認識し、予防策を講じましょう。`
        },
        {
            title: '統合的自己理解',
            description: '3つのOSの違いを認識し、状況に応じて使い分ける意識を持ちます。'
        }
    ];
    
    container.innerHTML = actions.map(action => `
        <div class="action-card">
            <h4>${action.title}</h4>
            <p>${action.description}</p>
        </div>
    `).join('');
}

// 既存のcalculateTrigramCompatibility関数を使用（変更不要）
// この関数が存在しない場合のみ追加
if (typeof calculateTrigramCompatibility === 'undefined') {
    function calculateTrigramCompatibility(trigram1, trigram2) {
        // 簡易互換性計算（0-1の値を返す）
        const compatibilityMatrix = {
            '乾': { '乾': 0.7, '兌': 0.9, '離': 0.6, '震': 0.7, '巽': 0.5, '坎': 0.4, '艮': 0.3, '坤': 0.2 },
            '兌': { '乾': 0.9, '兌': 0.7, '離': 0.8, '震': 0.6, '巽': 0.7, '坎': 0.5, '艮': 0.4, '坤': 0.6 },
            '離': { '乾': 0.6, '兌': 0.8, '離': 0.7, '震': 0.8, '巽': 0.6, '坎': 0.3, '艮': 0.5, '坤': 0.7 },
            '震': { '乾': 0.7, '兌': 0.6, '離': 0.8, '震': 0.7, '巽': 0.9, '坎': 0.6, '艮': 0.2, '坤': 0.5 },
            '巽': { '乾': 0.5, '兌': 0.7, '離': 0.6, '震': 0.9, '巽': 0.7, '坎': 0.7, '艮': 0.6, '坤': 0.8 },
            '坎': { '乾': 0.4, '兌': 0.5, '離': 0.3, '震': 0.6, '巽': 0.7, '坎': 0.7, '艮': 0.8, '坤': 0.6 },
            '艮': { '乾': 0.3, '兌': 0.4, '離': 0.5, '震': 0.2, '巽': 0.6, '坎': 0.8, '艮': 0.7, '坤': 0.9 },
            '坤': { '乾': 0.2, '兌': 0.6, '離': 0.7, '震': 0.5, '巽': 0.8, '坎': 0.6, '艮': 0.9, '坤': 0.7 }
        };
        
        return compatibilityMatrix[trigram1]?.[trigram2] || 0.5;
    }
}
// ===== シナジー分析表示関数 END =====
```

### 5.5 JavaScript追加検証
```javascript
// ブラウザコンソールで実行
typeof displaySynergyAnalysis === 'function' &&
typeof displayGoldenPatternAnalysis === 'function' &&
typeof displayConsistencyScore === 'function' &&
typeof displayOSFlow === 'function' &&
typeof displayOptimizationActions === 'function'
// 結果がtrueであることを確認
```

---

## 📋 STEP 6: タブ切り替え機能の修正

### 6.1 os-analyzer-main.jsでタブ切り替え関数を探す
**検索文字列**: `addEventListener('click'`  
**タブボタンのクリックイベントを探す**

### 6.2 タブ切り替え処理の修正

#### 既存のコードを探す
```javascript
// このような処理を探す
document.querySelectorAll('.tab-button').forEach(button => {
    button.addEventListener('click', function() {
        // タブ切り替え処理
    });
});
```

#### タブ切り替え処理を確認・修正
```javascript
// タブコンテンツIDのマッピングを確認
const tabContentMap = {
    'basic': 'basic-content',
    'synergy': 'synergy-content',  // この行を追加
    'transparency': 'transparency-content',
    'application': 'application-content'
};
// detail, expert, integrationは削除されていることを確認
```

---

## 📋 STEP 7: 最終動作確認

### 7.1 ローカルサーバー起動
```bash
cd /Users/hideakimacbookair/Desktop/haqei-analyzer
npm run dev
```

### 7.2 ブラウザで確認
1. http://localhost:8788/os_analyzer.html を開く
2. 30問の質問に回答（テスト用にランダム選択でOK）
3. 結果画面が表示されることを確認

### 7.3 タブ動作確認チェックリスト
- [ ] 「基本層」タブをクリック → 3つのOSカードが表示される
- [ ] 「シナジー分析」タブをクリック → シナジー分析が表示される
- [ ] 「透明化」タブをクリック → 分析プロセスが表示される
- [ ] 「活用法」タブをクリック → 実践ガイドが表示される
- [ ] 「詳細層」「専門層」「統合層」タブが存在しないこと

### 7.4 シナジー分析タブ内容確認
- [ ] Engine×Interface黄金パターンが表示される
- [ ] 内的一貫性スコア（%）が表示される
- [ ] OS連携フロー（3つのOS名）が表示される
- [ ] 4つの最適化アクションが表示される

---

## ⚠️ エラー対処法

### エラー1: タブが表示されない
```javascript
// コンソールで確認
console.log(document.querySelectorAll('.tab-button').length); // 4であること
console.log(document.getElementById('synergy-content')); // nullでないこと
```

### エラー2: シナジー分析が空
```javascript
// コンソールで確認
console.log(typeof displaySynergyAnalysis); // 'function'であること
// displayResults関数内で呼ばれているか確認
```

### エラー3: CSSが適用されない
```bash
# CSSファイルの構文チェック
# 最後の } が閉じているか確認
# セミコロンの抜けがないか確認
```

---

## 📝 実装完了報告テンプレート

```
【実装完了報告】
日時: 2025/08/18 XX:XX
実装者: Trae

✅ 完了項目：
- [ ] STEP 0: 事前チェック完了
- [ ] STEP 1: HTML要素修正完了
- [ ] STEP 2: シナジー分析タブHTML追加完了
- [ ] STEP 3: 不要タブ削除完了
- [ ] STEP 4: CSS追加完了
- [ ] STEP 5: JavaScript関数追加完了
- [ ] STEP 6: タブ切り替え修正完了
- [ ] STEP 7: 動作確認完了

問題発生箇所：
（あれば記載）

質問事項：
（あれば記載）
```

---

## 🚨 最終確認事項

1. **この仕様書以外の実装は一切していないこと**
2. **エラーが出た場合は勝手に修正せず報告したこと**
3. **バックアップを取ってあること**
4. **動作確認が全て完了したこと**

以上の手順を順番通りに実行してください。
独自判断での追加実装は厳禁です。