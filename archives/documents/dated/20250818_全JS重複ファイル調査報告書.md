# å…¨JavaScripté‡è¤‡ãƒ•ã‚¡ã‚¤ãƒ«èª¿æŸ»å ±å‘Šæ›¸

**ä½œæˆæ—¥**: 2025å¹´8æœˆ18æ—¥  
**èª¿æŸ»ç¯„å›²**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®JSãƒ•ã‚¡ã‚¤ãƒ«

## ğŸš¨ ç™ºè¦‹ã•ã‚ŒãŸé‡è¤‡ãƒ•ã‚¡ã‚¤ãƒ«

### 1. app.jsï¼ˆ3å€‹ï¼‰
```
./public/js/app.js                    â† æœªä½¿ç”¨ï¼Ÿ
./public/quick-analyzer/js/app.js     â† quick-analyzerå°‚ç”¨
./public/assets/js/app.js             â† os_analyzer.htmlã§ä½¿ç”¨ä¸­
```

**HTMLã§ã®ä½¿ç”¨çŠ¶æ³**:
- `os_analyzer.html`: **assets/js/app.js**ã‚’ä½¿ç”¨
- `quick-analyzer/quick_analyzer.html`: **js/app.js**ã‚’ä½¿ç”¨

### 2. PerformanceOptimizer.jsï¼ˆ2å€‹ï¼‰
```
./public/js/core/PerformanceOptimizer.js
./public/js/PerformanceOptimizer.js
```

### 3. I-Chingé–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå„2å€‹ï¼‰
```
MultiLineInterpreter.js:
  ./public/js/MultiLineInterpreter.js
  ./public/js/iching/MultiLineInterpreter.js   â† æ­£å¼ç‰ˆï¼Ÿ

LineSelector.js:
  ./public/js/LineSelector.js
  ./public/js/iching/LineSelector.js           â† æ­£å¼ç‰ˆï¼Ÿ

KingWenMapping.js:
  ./public/js/KingWenMapping.js
  ./public/js/iching/KingWenMapping.js         â† æ­£å¼ç‰ˆï¼Ÿ

AdvanceProcessor.js:
  ./public/js/AdvanceProcessor.js
  ./public/js/iching/AdvanceProcessor.js       â† æ­£å¼ç‰ˆï¼Ÿ
```

### 4. phase-description.test.jsï¼ˆ2å€‹ï¼‰
```
å ´æ‰€ä¸æ˜ï¼ˆè©³ç´°èª¿æŸ»å¿…è¦ï¼‰
```

### 5. chart.min.jsï¼ˆ2å€‹ï¼‰
```
å ´æ‰€ä¸æ˜ï¼ˆè©³ç´°èª¿æŸ»å¿…è¦ï¼‰
```

## ğŸ“Š å½±éŸ¿åˆ†æ

### å•é¡Œ1: app.jsã®æ··ä¹±
- **3ã¤ã®ç•°ãªã‚‹app.js**ãŒå­˜åœ¨
- os_analyzer.htmlã¯`assets/js/app.js`ã‚’ä½¿ç”¨
- ã—ã‹ã—`public/js/app.js`ã‚‚å­˜åœ¨ï¼ˆæœªä½¿ç”¨ï¼Ÿï¼‰

### å•é¡Œ2: I-Chingé–¢é€£ã®é‡è¤‡
- ã™ã¹ã¦ã®I-Chingé–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ãŒ2ã¤ãšã¤å­˜åœ¨
- `/js/`ç›´ä¸‹ã¨`/js/iching/`é…ä¸‹ã«é‡è¤‡
- ã©ã¡ã‚‰ãŒæ­£å¼ç‰ˆã‹ä¸æ˜

### å•é¡Œ3: PerformanceOptimizerã®é‡è¤‡
- coreãƒ•ã‚©ãƒ«ãƒ€ã¨jsãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«
- åˆæœŸåŒ–æ™‚ã«ç«¶åˆã®å¯èƒ½æ€§

## ğŸ¯ å‰Šé™¤æ¨å¥¨ãƒªã‚¹ãƒˆ

### å„ªå…ˆåº¦ï¼šé«˜ï¼ˆå®‰å…¨ã«å‰Šé™¤å¯èƒ½ï¼‰
```bash
# I-Chingé–¢é€£ã®é‡è¤‡ï¼ˆjsç›´ä¸‹ã‚’å‰Šé™¤ã€ichingãƒ•ã‚©ãƒ«ãƒ€ã‚’æ­£å¼ç‰ˆã¨ã™ã‚‹ï¼‰
rm public/js/MultiLineInterpreter.js
rm public/js/LineSelector.js
rm public/js/KingWenMapping.js
rm public/js/AdvanceProcessor.js

# PerformanceOptimizerã®é‡è¤‡ï¼ˆcoreã‚’æ­£å¼ç‰ˆã¨ã™ã‚‹ï¼‰
rm public/js/PerformanceOptimizer.js
```

### å„ªå…ˆåº¦ï¼šä¸­ï¼ˆç¢ºèªå¾Œå‰Šé™¤ï¼‰
```bash
# æœªä½¿ç”¨ã®app.jsï¼ˆassets/js/app.jsãŒæ­£å¼ç‰ˆï¼‰
rm public/js/app.js  # â† HTMLã§ä½¿ã‚ã‚Œã¦ã„ãªã„
```

### å„ªå…ˆåº¦ï¼šä½ï¼ˆä¿ç•™ï¼‰
- `public/quick-analyzer/js/app.js` - quick-analyzerå°‚ç”¨ãªã®ã§ä¿æŒ
- `public/assets/js/app.js` - os_analyzer.htmlã§ä½¿ç”¨ä¸­ãªã®ã§ä¿æŒ

## ğŸ“ˆ node_modulesé™¤å¤–ã®é‡è¤‡æ•°

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã‚’è€ƒæ…®ã™ã‚‹ã¨ï¼š

| ãƒ•ã‚¡ã‚¤ãƒ«å | é‡è¤‡æ•° | çŠ¶æ…‹ |
|-----------|--------|------|
| app.js | 3å€‹ | è¦æ•´ç† |
| PerformanceOptimizer.js | 2å€‹ | è¦å‰Šé™¤1å€‹ |
| MultiLineInterpreter.js | 2å€‹ | è¦å‰Šé™¤1å€‹ |
| LineSelector.js | 2å€‹ | è¦å‰Šé™¤1å€‹ |
| KingWenMapping.js | 2å€‹ | è¦å‰Šé™¤1å€‹ |
| AdvanceProcessor.js | 2å€‹ | è¦å‰Šé™¤1å€‹ |

## ğŸ”§ æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### STEP 1: I-Chingé–¢é€£ã®æ•´ç†
```bash
# ichingãƒ•ã‚©ãƒ«ãƒ€ã‚’æ­£å¼ç‰ˆã¨ã—ã¦ã€jsç›´ä¸‹ã®é‡è¤‡ã‚’å‰Šé™¤
rm public/js/MultiLineInterpreter.js
rm public/js/LineSelector.js
rm public/js/KingWenMapping.js
rm public/js/AdvanceProcessor.js
```

### STEP 2: PerformanceOptimizerã®æ•´ç†
```bash
# coreã‚’æ­£å¼ç‰ˆã¨ã—ã¦ã€jsç›´ä¸‹ã‚’å‰Šé™¤
rm public/js/PerformanceOptimizer.js
```

### STEP 3: app.jsã®ç¢ºèªã¨æ•´ç†
```bash
# æœªä½¿ç”¨ã®app.jsã‚’å‰Šé™¤
rm public/js/app.js
```

### STEP 4: HTMLãƒ•ã‚¡ã‚¤ãƒ«ã®å‚ç…§ç¢ºèª
```bash
# ã©ã®JSãƒ•ã‚¡ã‚¤ãƒ«ãŒå®Ÿéš›ã«ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
grep -r "<script" public/*.html | grep -v "//" | sort
```

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®æ¨å¥¨

```
public/
  assets/js/
    app.js              # os_analyzerç”¨ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«
    
  js/
    QuestionManager.js  # å˜ä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆæ•´ç†æ¸ˆã¿ï¼‰
    ScreenManager.js    # å˜ä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆæ•´ç†æ¸ˆã¿ï¼‰
    
    core/
      PerformanceOptimizer.js  # æ­£å¼ç‰ˆ
      
    iching/
      MultiLineInterpreter.js  # æ­£å¼ç‰ˆ
      LineSelector.js          # æ­£å¼ç‰ˆ
      KingWenMapping.js        # æ­£å¼ç‰ˆ
      AdvanceProcessor.js      # æ­£å¼ç‰ˆ
      
  quick-analyzer/
    js/
      app.js            # quick-analyzerå°‚ç”¨ï¼ˆä¿æŒï¼‰
```

## çµè«–

**ä¸»è¦ãªé‡è¤‡ãƒ•ã‚¡ã‚¤ãƒ«6ç¨®é¡**ãŒç™ºè¦‹ã•ã‚Œã¾ã—ãŸï¼š
1. app.js - 3å€‹ï¼ˆ1å€‹å‰Šé™¤æ¨å¥¨ï¼‰
2. I-Chingé–¢é€£4ãƒ•ã‚¡ã‚¤ãƒ« - å„2å€‹ï¼ˆå„1å€‹å‰Šé™¤æ¨å¥¨ï¼‰
3. PerformanceOptimizer - 2å€‹ï¼ˆ1å€‹å‰Šé™¤æ¨å¥¨ï¼‰

ã“ã‚Œã‚‰ã‚’æ•´ç†ã™ã‚‹ã“ã¨ã§ã€ã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã‹æ˜ç¢ºã«ãªã‚Šã€åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼ã‚„ç«¶åˆãŒè§£æ¶ˆã•ã‚Œã¾ã™ã€‚