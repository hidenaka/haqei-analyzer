# ğŸ¨ HaQei Triple OS Analyzer è¨­è¨ˆæ›¸ï¼ˆæ—¢å­˜è³‡ç”£æ´»ç”¨ç‰ˆï¼‰

**ä½œæˆæ—¥**: 2025å¹´8æœˆ16æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.0ï¼ˆæ—¢å­˜è³‡ç”£ãƒ™ãƒ¼ã‚¹ï¼‰  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: os_analyzer.htmlå†æ§‹ç¯‰  

---

## 1. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 1.1 æ—¢å­˜ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ç¶­æŒ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              os_analyzer.html                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ãƒ‡ãƒ¼ã‚¿å±¤ï¼ˆå¤‰æ›´ç¦æ­¢ï¼‰                              â”‚
â”‚  â”œâ”€â”€ questions-full.js (36å•ãƒ‡ãƒ¼ã‚¿)              â”‚
â”‚  â”œâ”€â”€ H384H64database.js (384çˆ»ãƒ‡ãƒ¼ã‚¿)            â”‚
â”‚  â”œâ”€â”€ H64_profile_vectors.js                     â”‚
â”‚  â””â”€â”€ action_plan_database.js                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åˆ†æã‚¨ãƒ³ã‚¸ãƒ³å±¤ï¼ˆå¤‰æ›´æœ€å°é™ï¼‰                      â”‚
â”‚  â”œâ”€â”€ TripleOSInteractionAnalyzer.js             â”‚
â”‚  â”œâ”€â”€ ExpressionGenerator.js                     â”‚
â”‚  â”œâ”€â”€ KeywordAnalyzer.js                         â”‚
â”‚  â””â”€â”€ DynamicKeywordGenerator.js                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  UIåˆ¶å¾¡å±¤ï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¯¾è±¡ï¼‰                  â”‚
â”‚  â”œâ”€â”€ app.js (ç”»é¢é·ç§»ãƒ»å›ç­”åé›†)                 â”‚
â”‚  â””â”€â”€ os-analyzer-main.js (åˆ†æå®Ÿè¡Œãƒ»çµæœè¡¨ç¤º)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¡¨ç¤ºå±¤ï¼ˆç°¡æ½”åŒ–å¯¾è±¡ï¼‰                             â”‚
â”‚  â”œâ”€â”€ HTMLæ§‹é€ ï¼ˆæœ€å°é™ã«ï¼‰                        â”‚
â”‚  â””â”€â”€ styles.cssï¼ˆä¸è¦éƒ¨åˆ†å‰Šé™¤ï¼‰                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿é †åºï¼ˆé‡è¦ï¼‰
```html
<!-- HEADå†…ï¼šåŸºç›¤ãƒ‡ãƒ¼ã‚¿ã¨åˆ†æã‚¨ãƒ³ã‚¸ãƒ³ -->
1. H384H64database.js        // æ˜“å¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
2. ExpressionGenerator.js     // è¡¨ç¾ç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³
3. KeywordAnalyzer.js         // ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰åˆ†æ
4. TripleOSInteractionAnalyzer.js // ãƒ¡ã‚¤ãƒ³åˆ†æã‚¨ãƒ³ã‚¸ãƒ³

<!-- BODYæœ«å°¾ï¼šUIåˆ¶å¾¡ã¨ãƒ‡ãƒ¼ã‚¿ -->
5. questions-full.js          // 36å•ãƒ‡ãƒ¼ã‚¿
6. app.js                     // ç”»é¢åˆ¶å¾¡
7. os-analyzer-main.js        // åˆ†æå®Ÿè¡Œ
8. DynamicKeywordGenerator.js // å‹•çš„ç”Ÿæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```

---

## 2. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ

### 2.1 æ—¢å­˜ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ç¶­æŒ
```
[ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›]
    â†“
[app.js: å›ç­”åé›†]
    â†“ userAnswersé…åˆ—
[os-analyzer-main.js: åˆ†æé–‹å§‹]
    â†“
[TripleOSInteractionAnalyzer: åˆ†æå®Ÿè¡Œ]
    â†“ tripleOSResults
[çµæœè¡¨ç¤ºå‡¦ç†]
    â†“
[DOMæ›´æ–°]
```

### 2.2 çŠ¶æ…‹ç®¡ç†ï¼ˆæ—¢å­˜æ§‹é€ ï¼‰
```javascript
// ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ï¼ˆæ—¢å­˜ç¶­æŒï¼‰
window.userAnswers = [];      // 36å€‹ã®å›ç­”ï¼ˆA-Eï¼‰
window.currentQuestionIndex = 0;
window.QUESTIONS = [...];     // questions-full.jsã‹ã‚‰
window.H384_DATA = [...];     // H384H64database.jsã‹ã‚‰
window.criticalCSSAnalyzer = {
    state: {
        tripleOSResults: null,
        answers: []
    }
};
```

---

## 3. HTMLæ§‹é€ è¨­è¨ˆï¼ˆæœ€å°é™æ§‹æˆï¼‰

### 3.1 ã‚¯ãƒªãƒ¼ãƒ³ãªHTMLæ§‹é€ 
```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HaQei Triple OS Analyzer</title>
    
    <!-- ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Critical CSS (ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³) -->
    <style>
        /* åˆæœŸè¡¨ç¤ºã«å¿…è¦ãªæœ€å°é™ã®CSS */
        .screen { display: none; }
        .screen.active { display: block; }
        #welcome-screen { 
            text-align: center; 
            padding: 2rem; 
        }
    </style>
    
    <!-- å¿…é ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ -->
    <script src="assets/H384H64database.js"></script>
    
    <!-- åˆ†æã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆé †åºé‡è¦ï¼‰ -->
    <script src="js/core/ExpressionGenerator.js"></script>
    <script src="js/core/KeywordAnalyzer.js"></script>
    <script src="js/core/TripleOSInteractionAnalyzer.js"></script>
</head>
<body>
    <!-- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ -->
    <div id="app">
        
        <!-- ã‚¦ã‚§ãƒ«ã‚«ãƒ ç”»é¢ -->
        <section id="welcome-screen" class="screen active">
            <h1>HaQei Triple OS Analyzer</h1>
            <p>ã‚ãªãŸã®3ã¤ã®ä»®æƒ³äººæ ¼ã‚’ç™ºè¦‹ã™ã‚‹</p>
            
            <div class="os-intro">
                <div class="os-card">
                    <h3>ğŸ¯ Engine OS</h3>
                    <p>å‰µé€ ã¨æ¨é€²ã®äººæ ¼</p>
                </div>
                <div class="os-card">
                    <h3>ğŸ’¬ Interface OS</h3>
                    <p>èª¿å’Œã¨å”èª¿ã®äººæ ¼</p>
                </div>
                <div class="os-card">
                    <h3>ğŸ›¡ï¸ Safe Mode OS</h3>
                    <p>å®‰å…¨ã¨æ…é‡ã®äººæ ¼</p>
                </div>
            </div>
            
            <button id="start-btn" class="btn-primary">
                åˆ†æã‚’é–‹å§‹ã™ã‚‹
            </button>
        </section>
        
        <!-- è³ªå•ç”»é¢ -->
        <section id="question-screen" class="screen">
            <!-- é€²æ—è¡¨ç¤º -->
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
                <span id="progress-text">1 / 36</span>
            </div>
            
            <!-- è³ªå•è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
            <div id="question-container">
                <!-- å‹•çš„ã«ç”Ÿæˆ -->
            </div>
            
            <!-- é¸æŠè‚¢ã‚¨ãƒªã‚¢ -->
            <div id="options-container">
                <!-- å‹•çš„ã«ç”Ÿæˆ -->
            </div>
            
            <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
            <div class="navigation">
                <button id="prev-btn" class="btn-secondary">å‰ã¸</button>
                <button id="next-btn" class="btn-primary" disabled>æ¬¡ã¸</button>
            </div>
        </section>
        
        <!-- çµæœç”»é¢ -->
        <section id="results-screen" class="screen">
            <h2>ã‚ãªãŸã®Triple OSåˆ†æçµæœ</h2>
            
            <!-- Triple OSã‚«ãƒ¼ãƒ‰è¡¨ç¤º -->
            <div id="os-cards-container">
                <!-- å‹•çš„ã«ç”Ÿæˆ -->
            </div>
            
            <!-- ã‚µãƒãƒªãƒ¼ãƒ“ãƒ¥ãƒ¼ -->
            <div id="summary-view">
                <!-- å‹•çš„ã«ç”Ÿæˆ -->
            </div>
            
            <!-- æ˜“å¦æƒ…å ± -->
            <div id="hexagram-display">
                <!-- å‹•çš„ã«ç”Ÿæˆ -->
            </div>
            
            <!-- 8å¦ã‚¨ãƒãƒ«ã‚®ãƒ¼ãƒãƒ©ãƒ³ã‚¹ -->
            <canvas id="radar-chart"></canvas>
            
            <!-- ãƒªã‚¹ã‚¿ãƒ¼ãƒˆ -->
            <button id="restart-btn" class="btn-primary">
                ã‚‚ã†ä¸€åº¦åˆ†æã™ã‚‹
            </button>
        </section>
        
    </div>
    
    <!-- Chart.js (çµæœè¡¨ç¤ºç”¨) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <!-- è³ªå•ãƒ‡ãƒ¼ã‚¿ -->
    <script src="assets/js/questions-full.js"></script>
    
    <!-- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆ¶å¾¡ -->
    <script src="assets/js/app.js"></script>
    <script src="js/os-analyzer-main.js"></script>
    
    <!-- ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šå‹•çš„ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ  -->
    <script src="js/pages/future-simulator/DynamicKeywordGenerator.js"></script>
</body>
</html>
```

---

## 4. JavaScriptè¨­è¨ˆ

### 4.1 app.jsï¼ˆæ—¢å­˜ãƒ­ã‚¸ãƒƒã‚¯ç¶­æŒãƒ»æ•´ç†ï¼‰
```javascript
// app.js - ç”»é¢åˆ¶å¾¡ã¨å›ç­”åé›†
(function() {
    'use strict';
    
    // çŠ¶æ…‹ç®¡ç†
    let currentQuestionIndex = 0;
    const userAnswers = [];
    
    // DOMè¦ç´ ã‚­ãƒ£ãƒƒã‚·ãƒ¥
    const screens = {
        welcome: document.getElementById('welcome-screen'),
        question: document.getElementById('question-screen'),
        results: document.getElementById('results-screen')
    };
    
    // ç”»é¢é·ç§»
    function showScreen(screenName) {
        Object.values(screens).forEach(s => s.classList.remove('active'));
        screens[screenName].classList.add('active');
    }
    
    // è³ªå•è¡¨ç¤º
    function displayQuestion(index) {
        const question = window.QUESTIONS[index];
        const container = document.getElementById('question-container');
        const optionsContainer = document.getElementById('options-container');
        
        // è³ªå•æ–‡è¡¨ç¤º
        container.innerHTML = `
            <h3>${question.category.title}</h3>
            <p class="question-text">${question.text}</p>
        `;
        
        // é¸æŠè‚¢è¡¨ç¤º
        optionsContainer.innerHTML = question.options.map(opt => `
            <label class="option">
                <input type="radio" name="q${index}" value="${opt.value}">
                <span>${opt.value}. ${opt.text}</span>
            </label>
        `).join('');
        
        // é€²æ—æ›´æ–°
        updateProgress(index);
    }
    
    // é€²æ—è¡¨ç¤ºæ›´æ–°
    function updateProgress(index) {
        const fill = document.getElementById('progress-fill');
        const text = document.getElementById('progress-text');
        
        fill.style.width = `${((index + 1) / 36) * 100}%`;
        text.textContent = `${index + 1} / 36`;
    }
    
    // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š
    function setupEventListeners() {
        // é–‹å§‹ãƒœã‚¿ãƒ³
        document.getElementById('start-btn').addEventListener('click', () => {
            showScreen('question');
            displayQuestion(0);
        });
        
        // æ¬¡ã¸ãƒœã‚¿ãƒ³
        document.getElementById('next-btn').addEventListener('click', () => {
            const selected = document.querySelector(`input[name="q${currentQuestionIndex}"]:checked`);
            if (selected) {
                userAnswers[currentQuestionIndex] = selected.value;
                
                if (currentQuestionIndex < 35) {
                    currentQuestionIndex++;
                    displayQuestion(currentQuestionIndex);
                } else {
                    // åˆ†æå®Ÿè¡Œ
                    startAnalysis();
                }
            }
        });
        
        // å‰ã¸ãƒœã‚¿ãƒ³
        document.getElementById('prev-btn').addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion(currentQuestionIndex);
            }
        });
        
        // é¸æŠè‚¢å¤‰æ›´æ™‚
        document.addEventListener('change', (e) => {
            if (e.target.type === 'radio') {
                document.getElementById('next-btn').disabled = false;
            }
        });
    }
    
    // åˆ†æé–‹å§‹
    function startAnalysis() {
        // os-analyzer-main.jsã®åˆ†æé–¢æ•°ã‚’å‘¼ã³å‡ºã—
        if (window.runTripleOSAnalysis) {
            window.runTripleOSAnalysis(userAnswers);
            showScreen('results');
        }
    }
    
    // åˆæœŸåŒ–
    setupEventListeners();
    
    // ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«å…¬é–‹
    window.userAnswers = userAnswers;
    
})();
```

### 4.2 os-analyzer-main.jsï¼ˆåˆ†æå®Ÿè¡Œã¨çµæœè¡¨ç¤ºï¼‰
```javascript
// os-analyzer-main.js - åˆ†æå®Ÿè¡Œã¨çµæœè¡¨ç¤º
(function() {
    'use strict';
    
    // Triple OSåˆ†æå®Ÿè¡Œ
    function runTripleOSAnalysis(answers) {
        console.log('ğŸ”„ Triple OSåˆ†æé–‹å§‹...');
        
        // TripleOSInteractionAnalyzerã‚’ä½¿ç”¨
        if (typeof TripleOSInteractionAnalyzer !== 'undefined') {
            const analyzer = new TripleOSInteractionAnalyzer();
            
            // 36å•ã®å›ç­”ã‹ã‚‰åˆ†æå®Ÿè¡Œ
            const results = analyzer.analyze(answers);
            
            // çµæœã‚’çŠ¶æ…‹ã«ä¿å­˜
            if (!window.criticalCSSAnalyzer) {
                window.criticalCSSAnalyzer = { state: {} };
            }
            window.criticalCSSAnalyzer.state.tripleOSResults = results;
            
            // çµæœè¡¨ç¤º
            displayResults(results);
        }
    }
    
    // çµæœè¡¨ç¤º
    function displayResults(results) {
        // OSã‚«ãƒ¼ãƒ‰è¡¨ç¤º
        const container = document.getElementById('os-cards-container');
        container.innerHTML = `
            ${createOSCard('Engine OS', results.engineOS)}
            ${createOSCard('Interface OS', results.interfaceOS)}
            ${createOSCard('Safe Mode OS', results.safeModeOS)}
        `;
        
        // ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤º
        if (window.Chart) {
            createRadarChart(results);
        }
    }
    
    // OSã‚«ãƒ¼ãƒ‰ç”Ÿæˆ
    function createOSCard(title, osData) {
        return `
            <div class="os-result-card">
                <h3>${title}</h3>
                <div class="os-score">${Math.round(osData.percentage || 0)}%</div>
                <div class="os-hexagram">
                    #${osData.hexagramId || 'N/A'} 
                    ${osData.hexagramName || 'N/A'}
                </div>
                <p class="os-description">${osData.description || ''}</p>
            </div>
        `;
    }
    
    // ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆä½œæˆ
    function createRadarChart(results) {
        const ctx = document.getElementById('radar-chart').getContext('2d');
        
        new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['ä¹¾', 'å…Œ', 'é›¢', 'éœ‡', 'å·½', 'å', 'è‰®', 'å¤'],
                datasets: [{
                    label: '8å¦ã‚¨ãƒãƒ«ã‚®ãƒ¼ãƒãƒ©ãƒ³ã‚¹',
                    data: calculateBaguaScores(results),
                    backgroundColor: 'rgba(79, 172, 254, 0.2)',
                    borderColor: 'rgba(79, 172, 254, 1)',
                    borderWidth: 2
                }]
            },
            options: {
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 10
                    }
                }
            }
        });
    }
    
    // 8å¦ã‚¹ã‚³ã‚¢è¨ˆç®—
    function calculateBaguaScores(results) {
        // æ—¢å­˜ã®ãƒ­ã‚¸ãƒƒã‚¯ã¾ãŸã¯ç°¡ç•¥ç‰ˆ
        return [
            results.engineOS?.baguaScores?.qian || 5,
            results.engineOS?.baguaScores?.dui || 5,
            results.interfaceOS?.baguaScores?.li || 5,
            results.engineOS?.baguaScores?.zhen || 5,
            results.interfaceOS?.baguaScores?.xun || 5,
            results.engineOS?.baguaScores?.kan || 5,
            results.safeModeOS?.baguaScores?.gen || 5,
            results.safeModeOS?.baguaScores?.kun || 5
        ];
    }
    
    // ã‚°ãƒ­ãƒ¼ãƒãƒ«å…¬é–‹
    window.runTripleOSAnalysis = runTripleOSAnalysis;
    
})();
```

---

## 5. CSSè¨­è¨ˆï¼ˆæœ€å°é™ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰

### 5.1 styles.cssæ§‹é€ 
```css
/* =================== */
/* ãƒªã‚»ãƒƒãƒˆãƒ»åŸºæœ¬è¨­å®š */
/* =================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Noto Sans JP', sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: #fff;
    min-height: 100vh;
}

/* =================== */
/* ç”»é¢åˆ¶å¾¡ */
/* =================== */
.screen {
    display: none;
    padding: 2rem;
    max-width: 800px;
    margin: 0 auto;
}

.screen.active {
    display: block;
    animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* =================== */
/* ãƒœã‚¿ãƒ³ */
/* =================== */
.btn-primary {
    background: #4F7CAC;
    color: white;
    border: none;
    padding: 1rem 2rem;
    border-radius: 8px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-primary:hover {
    background: #3a5f8a;
    transform: translateY(-2px);
}

.btn-primary:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.btn-secondary {
    background: transparent;
    color: white;
    border: 2px solid white;
    padding: 0.8rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
}

/* =================== */
/* é€²æ—ãƒãƒ¼ */
/* =================== */
.progress-bar {
    background: rgba(255, 255, 255, 0.2);
    height: 8px;
    border-radius: 4px;
    margin: 2rem 0;
    position: relative;
}

.progress-fill {
    background: #4F7CAC;
    height: 100%;
    border-radius: 4px;
    transition: width 0.3s ease;
}

/* =================== */
/* è³ªå•ç”»é¢ */
/* =================== */
.question-text {
    font-size: 1.3rem;
    margin: 2rem 0;
}

.option {
    display: block;
    background: rgba(255, 255, 255, 0.1);
    padding: 1rem;
    margin: 0.5rem 0;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.option:hover {
    background: rgba(255, 255, 255, 0.2);
}

.option input[type="radio"] {
    margin-right: 1rem;
}

/* =================== */
/* çµæœç”»é¢ */
/* =================== */
#os-cards-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.os-result-card {
    background: rgba(255, 255, 255, 0.1);
    padding: 1.5rem;
    border-radius: 12px;
    backdrop-filter: blur(10px);
}

.os-score {
    font-size: 2rem;
    font-weight: bold;
    color: #4F7CAC;
    margin: 1rem 0;
}

.os-hexagram {
    font-size: 1.1rem;
    color: rgba(255, 255, 255, 0.9);
    margin: 0.5rem 0;
}

/* =================== */
/* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
/* =================== */
@media (max-width: 768px) {
    .screen {
        padding: 1rem;
    }
    
    #os-cards-container {
        grid-template-columns: 1fr;
    }
}
```

---

## 6. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­è¨ˆ

### 6.1 ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
```javascript
// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆapp.jså†…ã«è¿½åŠ ï¼‰
window.addEventListener('error', (event) => {
    console.error('ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ:', event.error);
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®é€šçŸ¥ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
});

// ãƒ‡ãƒ¼ã‚¿å­˜åœ¨ç¢ºèª
if (!window.QUESTIONS || !window.H384_DATA) {
    console.error('å¿…é ˆãƒ‡ãƒ¼ã‚¿ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã›ã‚“');
}
```

---

## 7. ãƒ†ã‚¹ãƒˆè¨ˆç”»

### 7.1 å‹•ä½œç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
```javascript
// ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
function testSystem() {
    const tests = {
        'questions-full.jsèª­ã¿è¾¼ã¿': !!window.QUESTIONS,
        '36å•å­˜åœ¨ç¢ºèª': window.QUESTIONS?.length === 36,
        'H384ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿': !!window.H384_DATA,
        '384çˆ»å­˜åœ¨ç¢ºèª': window.H384_DATA?.length === 384,
        'TripleOSAnalyzerå­˜åœ¨': typeof TripleOSInteractionAnalyzer !== 'undefined',
        'ExpressionGeneratorå­˜åœ¨': typeof ExpressionGenerator !== 'undefined'
    };
    
    console.table(tests);
    return Object.values(tests).every(t => t);
}
```

---

## 8. ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨­è¨ˆ

### 8.1 ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆï¼ˆæœ¬ç•ªç’°å¢ƒï¼‰
```
public/
â”œâ”€â”€ os_analyzer.html          # ãƒ¡ã‚¤ãƒ³HTML
â”œâ”€â”€ styles.css                # ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ H384H64database.js   # æ˜“å¦ãƒ‡ãƒ¼ã‚¿
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ questions-full.js # è³ªå•ãƒ‡ãƒ¼ã‚¿
â”‚       â””â”€â”€ app.js            # ã‚¢ãƒ—ãƒªåˆ¶å¾¡
â””â”€â”€ js/
    â”œâ”€â”€ core/                 # åˆ†æã‚¨ãƒ³ã‚¸ãƒ³
    â”‚   â”œâ”€â”€ TripleOSInteractionAnalyzer.js
    â”‚   â”œâ”€â”€ ExpressionGenerator.js
    â”‚   â””â”€â”€ KeywordAnalyzer.js
    â””â”€â”€ os-analyzer-main.js   # åˆ†æå®Ÿè¡Œ
```

### 8.2 æœ€é©åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- CSSæœ€å°åŒ–
- JavaScriptçµåˆï¼ˆãŸã ã—èª­ã¿è¾¼ã¿é †åºç¶­æŒï¼‰
- ç”»åƒæœ€é©åŒ–ï¼ˆä½¿ç”¨ã™ã‚‹å ´åˆï¼‰

---

**çµè«–**: æ—¢å­˜ã®å‹•ä½œã—ã¦ã„ã‚‹è³‡ç”£ã‚’æœ€å¤§é™æ´»ç”¨ã—ã€UIå±¤ã®ã¿ã‚’ç°¡æ½”åŒ–ã™ã‚‹ã“ã¨ã§ã€å®‰å…¨ã‹ã¤åŠ¹ç‡çš„ãªå†æ§‹ç¯‰ãŒå¯èƒ½ã€‚