<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Data Setup - HAQEI</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        .section { margin-bottom: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 5px; }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
        button { padding: 10px 20px; margin: 5px; background: #007cba; color: white; border: none; border-radius: 3px; cursor: pointer; }
        button:hover { background: #005a87; }
        .data-display { background: #f5f5f5; padding: 10px; margin-top: 10px; border-radius: 3px; font-family: monospace; white-space: pre-wrap; }
    </style>
</head>
<body>
    <h1>ğŸ§ª HAQEI ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</h1>
    
    <div class="section">
        <h2>1. ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®æŒ¿å…¥</h2>
        <p>ä»®æƒ³äººæ ¼ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ†ã‚¹ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿ã‚’ localStorage ã«æŒ¿å…¥ã—ã¾ã™ã€‚</p>
        <button onclick="setupTestData()">ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’æŒ¿å…¥</button>
        <button onclick="clearTestData()">ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢</button>
        <div id="setup-status"></div>
    </div>
    
    <div class="section">
        <h2>2. ç¾åœ¨ã® localStorage ãƒ‡ãƒ¼ã‚¿ç¢ºèª</h2>
        <button onclick="checkCurrentData()">ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª</button>
        <div id="current-data"></div>
    </div>
    
    <div class="section">
        <h2>3. ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</h2>
        <p>ãƒ‡ãƒ¼ã‚¿æŒ¿å…¥å¾Œã€ä»¥ä¸‹ã®ãƒšãƒ¼ã‚¸ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã§ãã¾ã™ï¼š</p>
        <ul>
            <li><a href="results.html" target="_blank">results.html - ãƒ¡ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸</a></li>
            <li><a href="debug-results.html" target="_blank">debug-results.html - ãƒ‡ãƒãƒƒã‚°ãƒšãƒ¼ã‚¸</a></li>
        </ul>
    </div>

    <script>
        /**
         * ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æŒ¿å…¥æ©Ÿèƒ½
         * 
         * ç›®çš„ï¼š
         * - ä»®æƒ³äººæ ¼ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ†ã‚¹ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿ã‚’localStorageã«æŒ¿å…¥
         * - Triple OSã®å„ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä½œæˆ
         */
        
        function setupTestData() {
            const statusDiv = document.getElementById('setup-status');
            statusDiv.innerHTML = '<div class="info">ğŸ“ ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆä¸­...</div>';
            
            try {
                // Triple OS è¨ºæ–­çµæœãƒ‡ãƒ¼ã‚¿
                const analysisResult = {
                    timestamp: new Date().toISOString(),
                    version: "test-1.0.0",
                    
                    // Engine OS (ä¾¡å€¤è¦³ã‚·ã‚¹ãƒ†ãƒ )
                    engineOS: {
                        osName: "Creative Engine OS",
                        score: 0.78,
                        activation: 0.82,
                        hexagram: {
                            number: 1,
                            name: "ä¹¾",
                            meaning: "å‰µé€ ãƒ»å¤©ã®åŠ›",
                            description: "å¼·åŠ›ãªå‰µé€ æ€§ã¨é©æ–°çš„æ€è€ƒã‚’ç¤ºã—ã¾ã™"
                        },
                        characteristics: {
                            primary_traits: ["å‰µé€ æ€§", "ç‹¬ç«‹æ€§", "ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—", "é©æ–°æ€§"],
                            secondary_traits: ["ç›´æ„ŸåŠ›", "ãƒ“ã‚¸ãƒ§ãƒ³", "æ±ºæ–­åŠ›"],
                            challenges: ["å®Œç’§ä¸»ç¾©", "ä»–è€…ã¨ã®å”èª¿"],
                            strengths: ["å•é¡Œè§£æ±ºèƒ½åŠ›", "æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢å‰µå‡º"]
                        },
                        socialAdaptability: 0.65,
                        defensiveness: 0.45,
                        integration: 0.72,
                        flexibility: 0.85,
                        growthPotential: 0.90
                    },
                    
                    // Interface OS (ç¤¾ä¼šçš„ã‚·ã‚¹ãƒ†ãƒ )
                    interfaceOS: {
                        osName: "Harmony Interface OS",
                        score: 0.68,
                        activation: 0.75,
                        hexagram: {
                            number: 2,
                            name: "å¤",
                            meaning: "å—å®¹ãƒ»å¤§åœ°ã®åŠ›",
                            description: "ä»–è€…ã¸ã®é…æ…®ã¨èª¿å’Œçš„ãªé–¢ä¿‚æ€§ã‚’é‡è¦–ã—ã¾ã™"
                        },
                        characteristics: {
                            primary_traits: ["å”èª¿æ€§", "å…±æ„ŸåŠ›", "é©å¿œæ€§", "ç¤¾äº¤æ€§"],
                            secondary_traits: ["æŸ”è»Ÿæ€§", "åŒ…å®¹åŠ›", "ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯"],
                            challenges: ["è‡ªå·±ä¸»å¼µ", "å¢ƒç•Œè¨­å®š"],
                            strengths: ["äººé–“é–¢ä¿‚æ§‹ç¯‰", "ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³"]
                        },
                        socialAdaptability: 0.88,
                        defensiveness: 0.35,
                        integration: 0.70,
                        flexibility: 0.75,
                        growthPotential: 0.68
                    },
                    
                    // SafeMode OS (é˜²å¾¡ã‚·ã‚¹ãƒ†ãƒ )
                    safeModeOS: {
                        osName: "Analytical SafeMode OS",
                        score: 0.58,
                        activation: 0.62,
                        hexagram: {
                            number: 3,
                            name: "å±¯",
                            meaning: "å›°é›£ã®å…‹æœ",
                            description: "æ…é‡ãªåˆ†æã¨å®‰å…¨æ€§ã‚’æœ€å„ªå…ˆã«è€ƒãˆã¾ã™"
                        },
                        characteristics: {
                            primary_traits: ["æ…é‡æ€§", "åˆ†æåŠ›", "è¨ˆç”»æ€§", "å®‰å®šæ€§"],
                            secondary_traits: ["ãƒªã‚¹ã‚¯ç®¡ç†", "è«–ç†æ€è€ƒ", "æŒç¶šæ€§"],
                            challenges: ["æŸ”è»Ÿæ€§ä¸è¶³", "éåº¦ãªå¿ƒé…"],
                            strengths: ["å•é¡Œäºˆæ¸¬", "å“è³ªç®¡ç†"]
                        },
                        socialAdaptability: 0.45,
                        defensiveness: 0.85,
                        integration: 0.55,
                        flexibility: 0.40,
                        growthPotential: 0.50
                    },
                    
                    // çµ±åˆãƒ¬ãƒ™ãƒ«æƒ…å ±
                    integrationLevel: {
                        overall: 0.68,
                        engineInterface: 0.72,
                        interfaceSafeMode: 0.65,
                        safeModeEngine: 0.58,
                        harmony: 0.70,
                        tension: 0.32
                    },
                    
                    // ãƒ¦ãƒ¼ã‚¶ãƒ¼å›ç­”ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚µãƒ³ãƒ—ãƒ«ï¼‰
                    userAnswers: {
                        q1: 4, q2: 3, q3: 4, q4: 2, q5: 5,
                        q6: 3, q7: 4, q8: 3, q9: 4, q10: 3,
                        // ... ä»–ã®å›ç­”ã‚‚å«ã‚ã‚‹
                    },
                    
                    // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
                    metadata: {
                        processingTime: 2.3,
                        questionCount: 30,
                        completionRate: 1.0,
                        testVersion: "comprehensive-v1"
                    }
                };
                
                // æ´å¯Ÿãƒ‡ãƒ¼ã‚¿
                const insights = {
                    summary: "å‰µé€ æ€§è±Šã‹ãªãƒªãƒ¼ãƒ€ãƒ¼ã‚¿ã‚¤ãƒ—ã§ã‚ã‚ŠãªãŒã‚‰ã€ä»–è€…ã¨ã®èª¿å’Œã‚‚å¤§åˆ‡ã«ã™ã‚‹ãƒãƒ©ãƒ³ã‚¹å‹äººæ ¼ã§ã™ã€‚",
                    keyStrengths: [
                        "é«˜ã„å‰µé€ æ€§ã¨é©æ–°çš„æ€è€ƒ",
                        "å„ªã‚ŒãŸã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›",
                        "ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸæ„æ€æ±ºå®š"
                    ],
                    growthAreas: [
                        "SafeModeã¨ã®çµ±åˆå¼·åŒ–",
                        "å®Œç’§ä¸»ç¾©ã®èª¿æ•´",
                        "æŸ”è»Ÿæ€§ã®å‘ä¸Š"
                    ],
                    recommendations: [
                        "å®šæœŸçš„ãªå†…éƒ¨å¯¾è©±ã®å®Ÿè·µ",
                        "å‰µé€ æ€§ã¨æ…é‡æ€§ã®ãƒãƒ©ãƒ³ã‚¹èª¿æ•´",
                        "ä»–è€…ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®ç©æ¥µçš„ãªæ´»ç”¨"
                    ],
                    metaphor: {
                        story: "ã‚ãªãŸã¯å‰µé€ ã®é¢¨ã¨å¤§åœ°ã®å®‰å®šæ€§ã€ãã—ã¦æ…é‡ãªå±±ã®æ™ºæµã‚’ä½µã›æŒã¤å­˜åœ¨ã§ã™ã€‚",
                        elements: ["é¢¨ï¼ˆå‰µé€ ï¼‰", "å¤§åœ°ï¼ˆèª¿å’Œï¼‰", "å±±ï¼ˆæ…é‡ï¼‰"],
                        integration: "3ã¤ã®åŠ›ãŒèª¿å’Œã™ã‚‹ã“ã¨ã§ã€ç‹¬ç‰¹ãªä¾¡å€¤å‰µé€ ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚"
                    }
                };
                
                // ãƒ‡ãƒ¼ã‚¿ã‚’localStorageã«ä¿å­˜
                localStorage.setItem('haqei_analysis_result', JSON.stringify(analysisResult));
                localStorage.setItem('haqei_insights', JSON.stringify(insights));
                localStorage.setItem('haqei_test_mode', 'true');
                localStorage.setItem('haqei_test_timestamp', new Date().toISOString());
                
                statusDiv.innerHTML = `
                    <div class="success">âœ… ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®æŒ¿å…¥ãŒå®Œäº†ã—ã¾ã—ãŸï¼</div>
                    <div class="info">ğŸ“Š Engine OS: ${(analysisResult.engineOS.score * 100).toFixed(1)}%</div>
                    <div class="info">ğŸ¤ Interface OS: ${(analysisResult.interfaceOS.score * 100).toFixed(1)}%</div>
                    <div class="info">ğŸ›¡ï¸ SafeMode OS: ${(analysisResult.safeModeOS.score * 100).toFixed(1)}%</div>
                    <div class="info">âš–ï¸ çµ±åˆãƒ¬ãƒ™ãƒ«: ${(analysisResult.integrationLevel.overall * 100).toFixed(1)}%</div>
                `;
                
                console.log('âœ… Test data setup completed:', {
                    analysisResult,
                    insights
                });
                
            } catch (error) {
                statusDiv.innerHTML = `<div class="error">âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}</div>`;
                console.error('âŒ Test data setup failed:', error);
            }
        }
        
        function clearTestData() {
            const statusDiv = document.getElementById('setup-status');
            
            try {
                localStorage.removeItem('haqei_analysis_result');
                localStorage.removeItem('haqei_insights');
                localStorage.removeItem('haqei_test_mode');
                localStorage.removeItem('haqei_test_timestamp');
                
                statusDiv.innerHTML = '<div class="success">âœ… ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ</div>';
                console.log('âœ… Test data cleared');
                
            } catch (error) {
                statusDiv.innerHTML = `<div class="error">âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}</div>`;
                console.error('âŒ Test data clear failed:', error);
            }
        }
        
        function checkCurrentData() {
            const dataDiv = document.getElementById('current-data');
            
            try {
                const analysisResult = localStorage.getItem('haqei_analysis_result');
                const insights = localStorage.getItem('haqei_insights');
                const testMode = localStorage.getItem('haqei_test_mode');
                const timestamp = localStorage.getItem('haqei_test_timestamp');
                
                let dataDisplay = '';
                
                if (analysisResult) {
                    const parsed = JSON.parse(analysisResult);
                    dataDisplay += `<h4>è¨ºæ–­çµæœãƒ‡ãƒ¼ã‚¿:</h4>`;
                    dataDisplay += `<div class="data-display">${JSON.stringify(parsed, null, 2)}</div>`;
                }
                
                if (insights) {
                    const parsed = JSON.parse(insights);
                    dataDisplay += `<h4>æ´å¯Ÿãƒ‡ãƒ¼ã‚¿:</h4>`;
                    dataDisplay += `<div class="data-display">${JSON.stringify(parsed, null, 2)}</div>`;
                }
                
                if (testMode) {
                    dataDisplay += `<h4>ãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰:</h4>`;
                    dataDisplay += `<div class="data-display">æœ‰åŠ¹ (${timestamp})</div>`;
                }
                
                if (!dataDisplay) {
                    dataDisplay = '<div class="info">ğŸ“‹ localStorage ã«ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</div>';
                }
                
                dataDiv.innerHTML = dataDisplay;
                
            } catch (error) {
                dataDiv.innerHTML = `<div class="error">âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}</div>`;
                console.error('âŒ Data check failed:', error);
            }
        }
        
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿çŠ¶æ³ã‚’è¡¨ç¤º
        window.addEventListener('load', () => {
            checkCurrentData();
        });
    </script>
</body>
</html>