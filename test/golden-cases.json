{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "HAQEI Golden Test Cases",
  "description": "T06: 回帰防止のための既知良好パターン定義",
  "version": "1.0.0",
  "created": "2025-08-14T06:46:00.000Z",
  "cases": [
    {
      "id": "GC001",
      "name": "全YES - 最大活性パターン",
      "description": "すべての質問にYESと答えた場合",
      "input": {
        "answers": [1, 1, 1, 1, 1, 1, 1, 1],
        "answersBoolean": [true, true, true, true, true, true, true, true]
      },
      "expected": {
        "patternId": "377",
        "decimalId": 255,
        "hexagramId": 32,
        "palace": "震宮",
        "palacePosition": 3,
        "element": "雷",
        "direction": "東",
        "binaryPattern": "11111111"
      }
    },
    {
      "id": "GC002",
      "name": "全NO - 最小活性パターン",
      "description": "すべての質問にNOと答えた場合",
      "input": {
        "answers": [0, 0, 0, 0, 0, 0, 0, 0],
        "answersBoolean": [false, false, false, false, false, false, false, false]
      },
      "expected": {
        "patternId": "000",
        "decimalId": 0,
        "hexagramId": 1,
        "palace": "乾宮",
        "palacePosition": 0,
        "element": "天",
        "direction": "西北",
        "binaryPattern": "00000000"
      }
    },
    {
      "id": "GC003",
      "name": "交互パターンA（YNYNYNYN）",
      "description": "YES/NOが交互に現れるパターン",
      "input": {
        "answers": [1, 0, 1, 0, 1, 0, 1, 0],
        "answersBoolean": [true, false, true, false, true, false, true, false]
      },
      "expected": {
        "patternId": "252",
        "decimalId": 170,
        "hexagramId": 22,
        "palace": "離宮",
        "palacePosition": 6,
        "element": "火",
        "direction": "南",
        "binaryPattern": "10101010"
      }
    },
    {
      "id": "GC004",
      "name": "交互パターンB（NYNYNYNY）",
      "description": "NO/YESが交互に現れるパターン",
      "input": {
        "answers": [0, 1, 0, 1, 0, 1, 0, 1],
        "answersBoolean": [false, true, false, true, false, true, false, true]
      },
      "expected": {
        "patternId": "125",
        "decimalId": 85,
        "hexagramId": 11,
        "palace": "艮宮",
        "palacePosition": 7,
        "element": "山",
        "direction": "東北",
        "binaryPattern": "01010101"
      }
    },
    {
      "id": "GC005",
      "name": "前半YES後半NO",
      "description": "前半4問YES、後半4問NO",
      "input": {
        "answers": [1, 1, 1, 1, 0, 0, 0, 0],
        "answersBoolean": [true, true, true, true, false, false, false, false]
      },
      "expected": {
        "patternId": "360",
        "decimalId": 240,
        "hexagramId": 31,
        "palace": "坤宮",
        "palacePosition": 7,
        "element": "地",
        "direction": "西南",
        "binaryPattern": "11110000"
      }
    },
    {
      "id": "GC006",
      "name": "前半NO後半YES",
      "description": "前半4問NO、後半4問YES",
      "input": {
        "answers": [0, 0, 0, 0, 1, 1, 1, 1],
        "answersBoolean": [false, false, false, false, true, true, true, true]
      },
      "expected": {
        "patternId": "017",
        "decimalId": 15,
        "hexagramId": 2,
        "palace": "坤宮",
        "palacePosition": 0,
        "element": "地",
        "direction": "西南",
        "binaryPattern": "00001111"
      }
    },
    {
      "id": "GC007",
      "name": "中央集中パターン",
      "description": "両端NO、中央YES",
      "input": {
        "answers": [0, 0, 1, 1, 1, 1, 0, 0],
        "answersBoolean": [false, false, true, true, true, true, false, false]
      },
      "expected": {
        "patternId": "074",
        "decimalId": 60,
        "hexagramId": 8,
        "palace": "乾宮",
        "palacePosition": 7,
        "element": "天",
        "direction": "西北",
        "binaryPattern": "00111100"
      }
    },
    {
      "id": "GC008",
      "name": "両端集中パターン",
      "description": "両端YES、中央NO",
      "input": {
        "answers": [1, 1, 0, 0, 0, 0, 1, 1],
        "answersBoolean": [true, true, false, false, false, false, true, true]
      },
      "expected": {
        "patternId": "303",
        "decimalId": 195,
        "hexagramId": 26,
        "palace": "艮宮",
        "palacePosition": 3,
        "element": "風",
        "direction": "東南",
        "binaryPattern": "11000011"
      }
    },
    {
      "id": "GC009",
      "name": "単一YESパターン（最初のみ）",
      "description": "最初の質問のみYES",
      "input": {
        "answers": [1, 0, 0, 0, 0, 0, 0, 0],
        "answersBoolean": [true, false, false, false, false, false, false, false]
      },
      "expected": {
        "patternId": "200",
        "decimalId": 128,
        "hexagramId": 17,
        "palace": "震宮",
        "palacePosition": 7,
        "element": "雷",
        "direction": "東",
        "binaryPattern": "10000000"
      }
    },
    {
      "id": "GC010",
      "name": "単一YESパターン（最後のみ）",
      "description": "最後の質問のみYES",
      "input": {
        "answers": [0, 0, 0, 0, 0, 0, 0, 1],
        "answersBoolean": [false, false, false, false, false, false, false, true]
      },
      "expected": {
        "patternId": "001",
        "decimalId": 1,
        "hexagramId": 1,
        "palace": "乾宮",
        "palacePosition": 0,
        "element": "天",
        "direction": "西北",
        "binaryPattern": "00000001"
      }
    },
    {
      "id": "GC011",
      "name": "坎宮起点パターン",
      "description": "坎宮の最初の卦（水雷屯）へのマッピング",
      "input": {
        "answers": [0, 0, 0, 1, 1, 0, 0, 0],
        "answersBoolean": [false, false, false, true, true, false, false, false]
      },
      "expected": {
        "patternId": "030",
        "decimalId": 24,
        "hexagramId": 4,
        "palace": "艮宮",
        "palacePosition": 3,
        "element": "山",
        "direction": "東北",
        "binaryPattern": "00011000"
      }
    },
    {
      "id": "GC012",
      "name": "八宮境界テスト",
      "description": "八宮の境界値（卦64）へのマッピング",
      "input": {
        "answers": [1, 1, 1, 1, 1, 1, 1, 0],
        "answersBoolean": [true, true, true, true, true, true, true, false]
      },
      "expected": {
        "patternId": "376",
        "decimalId": 254,
        "hexagramId": 32,
        "palace": "震宮",
        "palacePosition": 3,
        "element": "雷",
        "direction": "東",
        "binaryPattern": "11111110"
      }
    }
  ],
  "tripleOSCases": [
    {
      "id": "TC001",
      "name": "バランス型Triple OS",
      "description": "3つのOSが均衡している状態",
      "input": {
        "engineAnswers": [1, 0, 1, 0, 1, 0, 1, 0],
        "interfaceAnswers": [0, 1, 0, 1, 0, 1, 0, 1],
        "safeModeAnswers": [1, 1, 0, 0, 1, 1, 0, 0]
      },
      "expected": {
        "engineOS": {
          "hexagramId": 22,
          "palace": "離宮"
        },
        "interfaceOS": {
          "hexagramId": 11,
          "palace": "艮宮"
        },
        "safeModeOS": {
          "hexagramId": 25,
          "palace": "巽宮"
        },
        "synergyLevel": "moderate"
      }
    },
    {
      "id": "TC002",
      "name": "エンジン優位型",
      "description": "Engine OSが強く、他が弱い状態",
      "input": {
        "engineAnswers": [1, 1, 1, 1, 1, 1, 1, 1],
        "interfaceAnswers": [0, 0, 0, 0, 0, 0, 0, 0],
        "safeModeAnswers": [0, 0, 0, 0, 0, 0, 0, 0]
      },
      "expected": {
        "engineOS": {
          "hexagramId": 32,
          "palace": "震宮"
        },
        "interfaceOS": {
          "hexagramId": 1,
          "palace": "乾宮"
        },
        "safeModeOS": {
          "hexagramId": 1,
          "palace": "乾宮"
        },
        "synergyLevel": "low"
      }
    }
  ],
  "errorCases": [
    {
      "id": "EC001",
      "name": "不正な入力長",
      "description": "8問より少ない/多い入力",
      "input": {
        "answers": [1, 0, 1],
        "shouldFail": true
      },
      "expected": {
        "patternId": "000",
        "error": "Invalid answers array"
      }
    },
    {
      "id": "EC002",
      "name": "不正な値",
      "description": "0/1以外の値を含む",
      "input": {
        "answers": [1, 0, 2, 0, 1, 0, 1, 0],
        "shouldFail": true
      },
      "expected": {
        "patternId": "212",
        "decimalId": 138,
        "note": "Fail-Closed: 不正値は0として処理"
      }
    },
    {
      "id": "EC003",
      "name": "null/undefined入力",
      "description": "null/undefinedの処理",
      "input": {
        "answers": null,
        "shouldFail": true
      },
      "expected": {
        "patternId": "000",
        "error": "Invalid answers array"
      }
    }
  ],
  "regressionChecks": [
    {
      "id": "RC001",
      "name": "8宮マッピング整合性",
      "description": "T02.1で修正した8宮データとの整合性",
      "checks": [
        "64卦すべてが一意の宮に所属",
        "各宮に正確に8つの卦が存在",
        "宮の位置情報（0-7）が正確"
      ]
    },
    {
      "id": "RC002",
      "name": "512パターン完全性",
      "description": "T05で実装したパターンマッピングの完全性",
      "checks": [
        "512パターンすべてが有効な卦にマッピング",
        "パターンIDの8進数表現が正確",
        "10進数変換が正確"
      ]
    }
  ]
}