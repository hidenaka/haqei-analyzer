/* 東洋的美意識統合スタイルシート - HaQei哲学完全対応 */
/* Eastern Aesthetics Integration for HaQei Philosophy */

/* === 1. 余白（間）の美学 - Ma (Space) Aesthetics === */
:root {
  /* 余白の階層 - Hierarchical spacing for Ma */
  --ma-intimate: 0.375rem;    /* 親密な間 */
  --ma-personal: 0.75rem;     /* 個人的な間 */
  --ma-social: 1.5rem;        /* 社会的な間 */
  --ma-contemplative: 3rem;   /* 熟考の間 */
  --ma-transcendent: 6rem;    /* 超越的な間 */
  
  /* 東洋色彩システム - Eastern Color System */
  --zen-white: #fafafa;       /* 禅白 */
  --wabi-grey: #9e9e9e;       /* 侘び灰 */
  --sabi-brown: #8d6e63;      /* 寂び茶 */
  --ink-black: #1a1a1a;       /* 墨黒 */
  --bamboo-green: #689f38;    /* 竹緑 */
  --cherry-pink: #e91e63;     /* 桜桃 */
  --autumn-gold: #ff8f00;     /* 秋金 */
  --sky-blue: #03a9f4;        /* 空青 */
  
  /* 自然素材感 - Natural material textures */
  --paper-texture: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="paper" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><rect width="20" height="20" fill="%23fafafa"/><circle cx="2" cy="2" r="0.5" fill="%23f0f0f0"/><circle cx="18" cy="8" r="0.3" fill="%23f0f0f0"/><circle cx="10" cy="15" r="0.4" fill="%23f0f0f0"/></pattern></defs><rect width="100%" height="100%" fill="url(%23paper)"/></svg>');
  --wood-grain: linear-gradient(90deg, #8d6e63 0%, #795548 50%, #8d6e63 100%);
  --silk-shimmer: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
  
  /* 禅的グリッドシステム - Zen grid system */
  --zen-grid-unit: 1.618rem;  /* 黄金比基準単位 */
  --zen-container: 81rem;      /* 50 * 黄金比 */
  --zen-section: 50rem;        /* 31 * 黄金比 */
  --zen-card: 31rem;           /* 19 * 黄金比 */
  --zen-element: 19rem;        /* 12 * 黄金比 */
}

/* === 2. 非対称バランスの美 - Asymmetrical Harmony === */
.asymmetric-layout {
  display: grid;
  grid-template-columns: 1fr 1.618fr; /* 黄金比分割 */
  gap: var(--ma-contemplative);
  align-items: start;
}

.asymmetric-triple {
  display: grid;
  grid-template-columns: 1fr 1.618fr 1fr; /* 中央重点配置 */
  gap: var(--ma-social);
}

.floating-element {
  position: relative;
  transform: translateX(-0.618rem) translateY(0.382rem); /* 黄金比オフセット */
}

/* === 3. 自然調和色彩システム - Natural Harmony Colors === */
.HaQei-theme {
  /* 四季の色彩 - Four seasons palette */
  --spring-fresh: #66bb6a;    /* 春の新緑 */
  --summer-deep: #2e7d32;     /* 夏の深緑 */
  --autumn-warm: #ff8f00;     /* 秋の暖色 */
  --winter-calm: #37474f;     /* 冬の静寂 */
  
  /* 感情の色彩 - Emotional color mapping */
  --joy-warm: #ffb74d;        /* 喜びの暖色 */
  --anger-intense: #f44336;   /* 怒りの強色 */
  --sadness-cool: #5c6bc0;    /* 悲しみの寒色 */
  --calm-neutral: #90a4ae;    /* 平静の中性色 */
  
  /* 五行色彩 - Five elements colors */
  --wood-green: #4caf50;      /* 木 - 緑 */
  --fire-red: #f44336;        /* 火 - 赤 */
  --earth-yellow: #ff9800;    /* 土 - 黄 */
  --metal-white: #ffffff;     /* 金 - 白 */
  --water-black: #212121;     /* 水 - 黒 */
}

/* === 4. HaQei哲学UI要素 - HaQei Philosophy UI Elements === */

/* 多面性受容インターフェース - Multi-faceted Acceptance Interface */
.HaQei-multifaceted {
  display: grid;
  grid-template-areas: 
    "primary secondary"
    "tertiary quaternary";
  gap: var(--ma-social);
  background: var(--paper-texture);
  padding: var(--ma-contemplative);
  border-radius: 1.618rem;
  position: relative;
}

.HaQei-multifaceted::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--silk-shimmer);
  opacity: 0.3;
  border-radius: inherit;
  pointer-events: none;
}

.facet-primary { grid-area: primary; }
.facet-secondary { grid-area: secondary; }
.facet-tertiary { grid-area: tertiary; }
.facet-quaternary { grid-area: quaternary; }

/* 調和追求レイアウト - Harmony-seeking Layout */
.harmony-container {
  display: flex;
  flex-direction: column;
  gap: var(--ma-contemplative);
  max-width: var(--zen-container);
  margin: 0 auto;
  padding: var(--ma-transcendent) var(--ma-social);
}

.harmony-balance {
  display: grid;
  grid-template-columns: 1.618fr 1fr 1.618fr; /* 対称的不対称 */
  gap: var(--ma-social);
  align-items: center;
}

.harmony-center {
  text-align: center;
  padding: var(--ma-contemplative);
  background: rgba(255, 255, 255, 0.9);
  border-radius: 50%;
  aspect-ratio: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 
    0 1px 3px rgba(0,0,0,0.12),
    0 1px 2px rgba(0,0,0,0.24),
    inset 0 0 1px rgba(255,255,255,0.8);
}

/* 変化受容アニメーション - Change Acceptance Animations */
.change-adaptive {
  transition: all 0.618s cubic-bezier(0.618, 0, 0.382, 1); /* 黄金比ベースイージング */
}

.flowing-transition {
  animation: naturalFlow 3.82s ease-in-out infinite; /* フィボナッチ数列ベース */
}

@keyframes naturalFlow {
  0%, 100% { transform: translateY(0) rotate(0deg); opacity: 1; }
  25% { transform: translateY(-0.382rem) rotate(1deg); opacity: 0.9; }
  50% { transform: translateY(0) rotate(0deg); opacity: 0.8; }
  75% { transform: translateY(0.382rem) rotate(-1deg); opacity: 0.9; }
}

/* 戦略ナビゲーション要素 - Strategic Navigation Elements */
.strategic-compass {
  position: relative;
  width: 12rem;
  height: 12rem;
  margin: var(--ma-contemplative) auto;
}

.compass-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 3rem;
  height: 3rem;
  background: var(--zen-white);
  border: 2px solid var(--ink-black);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: var(--ink-black);
}

.compass-direction {
  position: absolute;
  width: 2rem;
  height: 2rem;
  background: var(--bamboo-green);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 0.75rem;
  cursor: pointer;
  transition: all var(--transition-base);
}

.compass-direction:nth-child(2) { top: 0; left: 50%; transform: translateX(-50%); }
.compass-direction:nth-child(3) { right: 0; top: 50%; transform: translateY(-50%); }
.compass-direction:nth-child(4) { bottom: 0; left: 50%; transform: translateX(-50%); }
.compass-direction:nth-child(5) { left: 0; top: 50%; transform: translateY(-50%); }

.compass-direction:hover {
  transform: scale(1.2);
  background: var(--cherry-pink);
  box-shadow: 0 0 1rem rgba(233, 30, 99, 0.4);
}

/* === 5. Triple OS 東洋的視覚化 - Eastern Triple OS Visualization === */
.triple-os-eastern {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--ma-social);
  padding: var(--ma-contemplative);
  background: 
    radial-gradient(circle at 30% 30%, rgba(104, 159, 56, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 70% 70%, rgba(255, 143, 0, 0.1) 0%, transparent 50%),
    var(--paper-texture);
  border-radius: 1.618rem;
}

.os-element-eastern {
  text-align: center;
  padding: var(--ma-contemplative);
  background: rgba(255, 255, 255, 0.9);
  border-radius: 1rem;
  position: relative;
  overflow: hidden;
}

.os-element-eastern::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: var(--silk-shimmer);
  animation: shimmer 4s ease-in-out infinite;
  opacity: 0.3;
}

@keyframes shimmer {
  0%, 100% { transform: rotate(0deg); }
  50% { transform: rotate(180deg); }
}

.os-engine-eastern {
  background: linear-gradient(135deg, 
    rgba(244, 67, 54, 0.1) 0%, 
    rgba(233, 30, 99, 0.05) 100%);
  border-left: 4px solid var(--fire-red);
}

.os-interface-eastern {
  background: linear-gradient(135deg, 
    rgba(3, 169, 244, 0.1) 0%, 
    rgba(63, 81, 181, 0.05) 100%);
  border-left: 4px solid var(--sky-blue);
}

.os-safemode-eastern {
  background: linear-gradient(135deg, 
    rgba(76, 175, 80, 0.1) 0%, 
    rgba(104, 159, 56, 0.05) 100%);
  border-left: 4px solid var(--bamboo-green);
}

/* === 6. 易経64卦統合ナビゲーション - I Ching 64 Hexagrams Navigation === */
.hexagram-navigation {
  display: grid;
  grid-template-columns: repeat(8, 1fr);
  gap: var(--ma-personal);
  padding: var(--ma-contemplative);
  background: var(--zen-white);
  border-radius: 1.618rem;
  box-shadow: 
    inset 0 0 0 1px rgba(0,0,0,0.1),
    0 4px 12px rgba(0,0,0,0.15);
}

.hexagram-item {
  aspect-ratio: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: var(--paper-texture);
  border-radius: 0.5rem;
  cursor: pointer;
  transition: all var(--transition-base);
  position: relative;
}

.hexagram-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(0,0,0,0.2);
  background: var(--autumn-gold);
  color: white;
}

.hexagram-lines {
  display: flex;
  flex-direction: column;
  gap: 1px;
  margin-bottom: 0.25rem;
}

.hexagram-line {
  width: 1.5rem;
  height: 2px;
  background: currentColor;
}

.hexagram-line--broken {
  position: relative;
  background: transparent;
}

.hexagram-line--broken::before,
.hexagram-line--broken::after {
  content: '';
  position: absolute;
  top: 0;
  width: 0.6rem;
  height: 2px;
  background: currentColor;
}

.hexagram-line--broken::before { left: 0; }
.hexagram-line--broken::after { right: 0; }

.hexagram-number {
  font-size: 0.625rem;
  font-weight: bold;
  opacity: 0.7;
}

/* === 7. 感情・直感重視インタラクション - Emotion-Intuition Interaction === */
.emotional-surface {
  background: var(--paper-texture);
  padding: var(--ma-contemplative);
  border-radius: 1.618rem;
  position: relative;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.618s ease;
}

.emotional-surface::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: radial-gradient(circle, 
    rgba(255, 183, 77, 0.3) 0%, 
    rgba(255, 183, 77, 0.1) 50%, 
    transparent 100%);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: all 0.618s ease;
  pointer-events: none;
}

.emotional-surface:hover::before {
  width: 200%;
  height: 200%;
}

.intuitive-feedback {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(26, 26, 26, 0.9);
  color: var(--zen-white);
  padding: var(--ma-social);
  border-radius: 1rem;
  font-size: 0.875rem;
  pointer-events: none;
  opacity: 0;
  transition: opacity var(--transition-base);
  z-index: var(--z-tooltip);
}

.intuitive-feedback.show {
  opacity: 1;
}

/* === 8. 段階的啓示パターン - Progressive Disclosure Pattern === */
.progressive-container {
  background: var(--zen-white);
  border-radius: 1.618rem;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.disclosure-layer {
  padding: var(--ma-social);
  border-bottom: 1px solid rgba(0,0,0,0.05);
  transition: all var(--transition-base);
}

.disclosure-layer:last-child {
  border-bottom: none;
}

.disclosure-trigger {
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  padding: var(--ma-personal);
  border-radius: 0.5rem;
  transition: background var(--transition-base);
}

.disclosure-trigger:hover {
  background: rgba(104, 159, 56, 0.05);
}

.disclosure-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.618s ease, padding 0.618s ease;
  padding: 0 var(--ma-personal);
}

.disclosure-content.expanded {
  max-height: 100vh;
  padding: var(--ma-social) var(--ma-personal);
}

.disclosure-indicator {
  width: 1rem;
  height: 1rem;
  border-radius: 50%;
  background: var(--bamboo-green);
  position: relative;
  transition: transform var(--transition-base);
}

.disclosure-indicator::before,
.disclosure-indicator::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  background: white;
  transition: all var(--transition-base);
}

.disclosure-indicator::before {
  width: 8px;
  height: 2px;
  transform: translate(-50%, -50%);
}

.disclosure-indicator::after {
  width: 2px;
  height: 8px;
  transform: translate(-50%, -50%);
}

.disclosure-content.expanded + .disclosure-trigger .disclosure-indicator::after {
  opacity: 0;
  transform: translate(-50%, -50%) rotate(90deg);
}

/* === 9. 禅的アニメーション・トランジション - Zen Animations & Transitions === */
.zen-entrance {
  animation: zenFadeIn 1.618s cubic-bezier(0.23, 1, 0.32, 1);
}

@keyframes zenFadeIn {
  0% {
    opacity: 0;
    transform: translateY(2rem) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.zen-exit {
  animation: zenFadeOut 0.618s cubic-bezier(0.755, 0.05, 0.855, 0.06);
}

@keyframes zenFadeOut {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-1rem) scale(0.98);
  }
}

.zen-float {
  animation: zenFloat 6.18s ease-in-out infinite;
}

@keyframes zenFloat {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

.zen-breath {
  animation: zenBreath 4s ease-in-out infinite;
}

@keyframes zenBreath {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.9;
  }
}

/* === 10. レスポンシブ東洋美学 - Responsive Eastern Aesthetics === */
@media (max-width: 768px) {
  :root {
    --ma-intimate: 0.25rem;
    --ma-personal: 0.5rem;
    --ma-social: 1rem;
    --ma-contemplative: 2rem;
    --ma-transcendent: 3rem;
  }
  
  .asymmetric-layout {
    grid-template-columns: 1fr;
    gap: var(--ma-social);
  }
  
  .harmony-balance {
    grid-template-columns: 1fr;
    gap: var(--ma-personal);
  }
  
  .triple-os-eastern {
    grid-template-columns: 1fr;
    gap: var(--ma-personal);
  }
  
  .hexagram-navigation {
    grid-template-columns: repeat(4, 1fr);
    gap: var(--ma-intimate);
  }
}

@media (prefers-reduced-motion: reduce) {
  .change-adaptive,
  .flowing-transition,
  .zen-entrance,
  .zen-exit,
  .zen-float,
  .zen-breath {
    animation: none;
    transition: none;
  }
}

/* === 11. 文化的適応性支援 - Cultural Adaptability Support === */
[lang="en"] .HaQei-theme {
  font-family: 'Georgia', 'Times New Roman', serif;
}

[lang="ja"] .HaQei-theme {
  font-family: 'Hiragino Sans', 'Yu Gothic', 'Meiryo', sans-serif;
}

[lang="zh"] .HaQei-theme {
  font-family: 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
}

[lang="ko"] .HaQei-theme {
  font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
}

/* RTL言語サポート */
[dir="rtl"] .asymmetric-layout {
  grid-template-columns: 1.618fr 1fr;
}

[dir="rtl"] .floating-element {
  transform: translateX(0.618rem) translateY(0.382rem);
}

/* === 12. アクセシビリティ強化 - Enhanced Accessibility === */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.focus-visible {
  outline: 2px solid var(--bamboo-green);
  outline-offset: 2px;
  border-radius: 0.25rem;
}

.high-contrast {
  --zen-white: #ffffff;
  --ink-black: #000000;
  --bamboo-green: #00ff00;
  --cherry-pink: #ff00ff;
  --sky-blue: #0000ff;
}

@media (prefers-contrast: high) {
  :root {
    --zen-white: #ffffff;
    --ink-black: #000000;
    --bamboo-green: #00ff00;
    --cherry-pink: #ff00ff;
    --sky-blue: #0000ff;
  }
}

/* === 13. パフォーマンス最適化 - Performance Optimization === */
.will-change-transform {
  will-change: transform;
}

.will-change-opacity {
  will-change: opacity;
}

.hardware-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
}

.gpu-optimized {
  transform: translate3d(0, 0, 0);
}