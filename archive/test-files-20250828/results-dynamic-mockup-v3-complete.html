<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HAQEI - 動的データ対応結果画面</title>
    <style>
        /* ==========================================================================
           HAQEI 動的データ対応版デザイン
           ========================================================================== */
        
        :root {
            /* カラーパレット */
            --primary-blue: #3b82f6;
            --primary-blue-dark: #2563eb;
            --secondary-blue: #6366f1;
            --light-blue: #dbeafe;
            --very-light-blue: #f0f9ff;
            
            /* Engine OS カラー */
            --engine-color: #f59e0b;
            --engine-light: #fef3c7;
            --engine-dark: #d97706;
            
            /* Interface OS カラー */
            --interface-color: #10b981;
            --interface-light: #d1fae5;
            --interface-dark: #059669;
            
            /* SafeMode OS カラー */
            --safemode-color: #8b5cf6;
            --safemode-light: #e9d5ff;
            --safemode-dark: #7c3aed;
            
            /* グレースケール */
            --white: #ffffff;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-600: #374151;
            --gray-700: #1f2937;
            --gray-900: #030712;
            
            /* スペーシング */
            --spacing-xs: 0.5rem;
            --spacing-sm: 0.75rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            
            /* シャドウ */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--gray-900);
            background: var(--gray-50);
            margin: 0;
            padding: var(--spacing-lg);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--white);
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
        }

        /* ヘッダー */
        .header {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            color: white;
            padding: var(--spacing-xl);
            text-align: center;
        }

        .header h1 {
            margin: 0 0 var(--spacing-sm) 0;
            font-size: 1.75rem;
            font-weight: 700;
        }

        /* メインコンテンツ */
        .main-content {
            padding: var(--spacing-xl);
        }

        /* スタイル省略（前のモックアップと同じ） */
        .section-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-lg);
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--gray-900);
        }

        .os-detailed-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
        }

        .os-detail-card {
            background: var(--white);
            border-radius: 12px;
            box-shadow: var(--shadow-md);
            overflow: hidden;
        }

        .os-card-header {
            padding: var(--spacing-lg);
            background: var(--gray-50);
        }

        .os-card-content {
            padding: var(--spacing-lg);
        }

        /* 動的データ表示のためのクラス */
        .dynamic-content {
            color: var(--primary-blue-dark);
            font-weight: 600;
        }

        .balance-bar {
            height: 12px;
            border-radius: 6px;
            display: flex;
            overflow: hidden;
            background: var(--gray-200);
        }

        .balance-segment {
            height: 100%;
            transition: width 0.5s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>🎯 動的データ対応テストページ</h1>
        </header>

        <main class="main-content">
            <h2 class="section-title">
                <span>📊</span>
                このページは実際のデータに応じて動的に変化します
            </h2>

            <!-- データシミュレーター -->
            <div style="background: var(--very-light-blue); padding: var(--spacing-lg); border-radius: 8px; margin-bottom: var(--spacing-xl);">
                <h3>🔧 データシミュレーター</h3>
                <p>以下のボタンをクリックすると、異なる診断結果パターンを確認できます</p>
                
                <div style="display: flex; gap: var(--spacing-md); flex-wrap: wrap; margin-top: var(--spacing-md);">
                    
                    <button onclick="loadPattern('innovator')" style="padding: 0.5rem 1rem; background: var(--primary-blue); color: white; border: none; border-radius: 6px; cursor: pointer;">
                        パターン1: イノベーター型
                    </button>
                    <button onclick="loadPattern('supporter')" style="padding: 0.5rem 1rem; background: var(--interface-color); color: white; border: none; border-radius: 6px; cursor: pointer;">
                        パターン2: サポーター型
                    </button>
                    <button onclick="loadPattern('balanced')" style="padding: 0.5rem 1rem; background: var(--safemode-color); color: white; border: none; border-radius: 6px; cursor: pointer;">
                        パターン3: バランス型
                    </button>
                    <button onclick="loadPattern('revolutionary')" style="padding: 0.5rem 1rem; background: #ef4444; color: white; border: none; border-radius: 6px; cursor: pointer;">
                        パターン4: 革命型
                    </button>
                    <button onclick="loadPattern('stabilizer')" style="padding: 0.5rem 1rem; background: #6b7280; color: white; border: none; border-radius: 6px; cursor: pointer;">
                        パターン5: 安定型
                    </button>
                </div>
            </div>

            <!-- 動的コンテンツエリア -->
            <div id="dynamicContent"></div>
        </main>
    </div>

    <!-- V3データベースシミュレーション -->
    <script>
        // V3データベースの完全版（必要な卦のみ）
        const v3Database = {
            "乾為天": {
          "id": 1,
          "symbol": "☰",
          "element": "天",
          "nickname": "イノベーター",
          "emoji": "🚀",
          "asEngineOS": {
                    "profile": {
                              "type": "革新追求エンジン",
                              "description": "常に『もっと良い方法はないか？』を追い求める",
                              "metaphor": "新しい技術やサービスを発見した時のような興奮で動く"
                    },
                    "normalState": {
                              "whatHappens": "頭の中で常に新しいアイデアや改善案が生まれている",
                              "example": "会議中も『この仕組み、根本から変えられないか』と考える",
                              "energyLevel": "🔋🔋🔋 (70%) - 常時アイデア生成中"
                    },
                    "superMode": {
                              "when": "困難な課題や、誰もが『不可能』と言う状況に直面した時",
                              "whatHappens": "全リソースを創造的解決に投入！ブレイクスルーモード",
                              "example": "予算削減でも品質向上を求められた時、全く新しいアプローチを生み出す",
                              "energyLevel": "🔋🔋🔋🔋🔋 (100%) - フルパワー稼働"
                    },
                    "restMode": {
                              "whatHappens": "次のイノベーション機会を探索中",
                              "howToRest": "最新技術の記事を読む、新しいサービスを試す",
                              "note": "完全に休むことは苦手。何か考えていないと落ち着かない"
                    },
                    "maintenance": {
                              "whatYouNeed": "新しい挑戦、未踏領域への進出機会",
                              "howToCharge": "新規プロジェクトの立ち上げ、未知の分野への挑戦",
                              "warning": "ルーティンワークが続くとパフォーマンス低下",
                              "tip": "定期的に新しいチャレンジを設定しよう"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "ビジョナリーリーダー型",
                              "description": "『こちらに向かおう』と明確な方向性を示すタイプ",
                              "metaphor": "スタートアップのCEOのようなリーダーシップスタイル"
                    },
                    "howToTalk": {
                              "style": "ストレートかつビジョナリー",
                              "example": "『これをやるべき理由は○○、目指すゴールは△△』と明確に伝える",
                              "goodAt": "ビジョンの共有、モチベーション向上、方向性の提示",
                              "notGoodAt": "細かい調整、全員のペースに合わせること"
                    },
                    "bestEnvironment": {
                              "where": "革新と変化を重視する環境",
                              "example": "新規事業開発、R&D部門、起業、改革プロジェクト",
                              "withWho": "変化を恐れず、共に挑戦してくれる仲間",
                              "avoid": "官僚的で変化を嫌う組織"
                    },
                    "relationshipTips": {
                              "strength": "人々を新しい未来へ導く力",
                              "weakness": "時に周囲を置き去りにしてしまう",
                              "advice": "定期的に立ち止まり、チームの声に耳を傾けよう"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "前進突破型",
                              "description": "困難に直面したら、より大胆に前進する",
                              "metaphor": "将棋で守りより攻めを選ぶような戦略"
                    },
                    "stressResponse": {
                              "whatYouDo": "新しい突破口を見つけて状況を打開",
                              "example": "プロジェクトが停滞 → 全く新しいアプローチを開発",
                              "goodPoint": "前向きな問題解決、イノベーションの創出",
                              "badPoint": "時に問題の本質から目を逸らしてしまう"
                    },
                    "emergencyMode": {
                              "whatHappens": "独力で全てを解決しようとする",
                              "example": "チームが機能不全 → 『自分が全部やる』モード",
                              "recovery": "新プロジェクトの立ち上げで気分一新",
                              "timeToRecover": "2-3日（新しい目標を見つければ即回復）"
                    },
                    "howToRecover": {
                              "bestWay": "全く新しい分野への挑戦",
                              "example": "仕事で挫折 → 別業界の勉強会に参加",
                              "environment": "自由度の高い環境、制約の少ない状況",
                              "support": "可能性を信じてくれる人、新しい視点をくれる人"
                    }
          },
          "osBalance": {
                    "idealBalance": "革新60% : リーダーシップ25% : 前進力15%",
                    "whenBalanced": "革新的リーダーとして組織や社会に変革をもたらす",
                    "whenImbalanced": "アイデア倒れ、または独善的になるリスク",
                    "tip": "構想→実行→共有→フィードバック のサイクルを回そう"
          }
},
            "坤為地": {
          "id": 2,
          "symbol": "☷",
          "element": "地",
          "nickname": "サポーター",
          "emoji": "🌱",
          "asEngineOS": {
                    "profile": {
                              "type": "育成支援エンジン",
                              "description": "他者の成長と組織の調和を原動力とする",
                              "metaphor": "植物を育てる庭師のような、じっくりと成果を育む姿勢"
                    },
                    "normalState": {
                              "whatHappens": "周囲の状況を観察し、必要なサポートを察知",
                              "example": "会議で発言しづらそうな人に気づき、発言機会を作る",
                              "energyLevel": "🔋🔋 (50%) - 省エネで持続的"
                    },
                    "superMode": {
                              "when": "チームが危機に直面、関係性が崩れそうな時",
                              "whatHappens": "全力でチームを支え、調和を取り戻す",
                              "example": "プロジェクトメンバー間の対立を調整し、チームを再結束",
                              "energyLevel": "🔋🔋🔋🔋 (90%) - 献身的サポートモード"
                    },
                    "restMode": {
                              "whatHappens": "静かに充電、自己回復の時間",
                              "howToRest": "瞑想、読書、自然の中での散歩",
                              "note": "定期的な一人時間が必要不可欠"
                    },
                    "maintenance": {
                              "whatYouNeed": "感謝の言葉、成長の実感、調和の実現",
                              "howToCharge": "誰かの成長を見守る、チームの成功に貢献",
                              "warning": "自己犠牲が過ぎるとバーンアウトのリスク",
                              "tip": "他者を支えると同時に、自分のケアも忘れずに"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "共感的ファシリテーター型",
                              "description": "全員の声を聞き、調和を生み出すタイプ",
                              "metaphor": "優れたカウンセラーやコーチのような存在"
                    },
                    "howToTalk": {
                              "style": "傾聴と共感をベースにした双方向型",
                              "example": "『なるほど、その視点は重要ですね』と相手を認める",
                              "goodAt": "信頼関係構築、チームビルディング、対立調整",
                              "notGoodAt": "強い主張、即断即決、厳しい指摘"
                    },
                    "bestEnvironment": {
                              "where": "協調性と成長を重視する環境",
                              "example": "人材育成部門、カスタマーサポート、NPO、教育機関",
                              "withWho": "互いを尊重し合える仲間",
                              "avoid": "競争が激しく、個人主義的な環境"
                    },
                    "relationshipTips": {
                              "strength": "誰からも信頼される安心感",
                              "weakness": "自己主張が弱く、意見が通りにくい",
                              "advice": "時には自分の意見も明確に。NOと言う勇気も大切"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "受容統合型",
                              "description": "すべてを受け止め、時間をかけて消化する",
                              "metaphor": "大地が雨を吸収するように、じっくりと処理"
                    },
                    "stressResponse": {
                              "whatYouDo": "一旦すべてを受け入れ、ゆっくり整理",
                              "example": "批判を受けた → 感情を落ち着けてから建設的に振り返る",
                              "goodPoint": "冷静さを保ち、長期的視点で対処",
                              "badPoint": "ストレスを内に溜め込みすぎる傾向"
                    },
                    "emergencyMode": {
                              "whatHappens": "一時的な撤退と内省",
                              "example": "対人関係の疲労 → 距離を置いて回復を図る",
                              "recovery": "安全な環境でゆっくりと充電",
                              "timeToRecover": "1-2週間（じっくり時間をかけて）"
                    },
                    "howToRecover": {
                              "bestWay": "自然との触れ合い、静寂な環境",
                              "example": "森林浴、温泉、ヨガ、瞑想",
                              "environment": "プレッシャーのない安心できる場所",
                              "support": "見守ってくれる理解者の存在"
                    }
          },
          "osBalance": {
                    "idealBalance": "支援40% : 共感35% : 自己保護25%",
                    "whenBalanced": "組織の要として、持続的な成長を支える存在",
                    "whenImbalanced": "自己犠牲による疲弊、または過度な引きこもり",
                    "tip": "支援→自己ケア→再び支援 の健全なサイクルを保とう"
          }
},
            "水雷屯": {
          "id": 3,
          "symbol": "☲☳",
          "element": "水雷",
          "nickname": "パイオニア",
          "emoji": "🌱",
          "asEngineOS": {
                    "profile": {
                              "type": "開拓挑戦エンジン",
                              "description": "困難な状況でこそ力を発揮する開拓者精神",
                              "metaphor": "荒野を開拓する冒険者のような情熱"
                    },
                    "normalState": {
                              "whatHappens": "新しい道を切り開く機会を常に探している",
                              "example": "『誰もやっていないなら、自分がやろう』と考える",
                              "energyLevel": "🔋🔋🔋 (65%) - 挑戦センサー起動中"
                    },
                    "superMode": {
                              "when": "前例のない問題、未開拓の領域に出会った時",
                              "whatHappens": "困難を楽しみながら突破！パイオニアモード",
                              "example": "新市場開拓、新規事業立ち上げで本領発揮",
                              "energyLevel": "🔋🔋🔋🔋🔋 (95%) - 開拓者魂全開"
                    },
                    "restMode": {
                              "whatHappens": "次の挑戦に向けて準備と計画",
                              "howToRest": "新しい分野の勉強、スキルアップ",
                              "note": "完全に止まることはない、常に前進準備"
                    },
                    "maintenance": {
                              "whatYouNeed": "未知への挑戦、開拓の自由",
                              "howToCharge": "新しい分野への参入、ゼロからの構築",
                              "warning": "既存の枠組みに縛られると窒息する",
                              "tip": "小さくてもいいから『初めて』を作り続けよう"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "先駆者ガイド型",
                              "description": "新しい道を示し、仲間を導くタイプ",
                              "metaphor": "探検隊のリーダーのような存在"
                    },
                    "howToTalk": {
                              "style": "情熱的で説得力のある語り",
                              "example": "『この道は困難だけど、必ず価値がある』と伝える",
                              "goodAt": "モチベーション喚起、新規開拓への誘導",
                              "notGoodAt": "既存ルールの説明、慎重な調整"
                    },
                    "bestEnvironment": {
                              "where": "フロンティア精神が評価される環境",
                              "example": "スタートアップ、新規事業、研究開発",
                              "withWho": "リスクを恐れない冒険心のある仲間",
                              "avoid": "保守的で前例主義の組織"
                    },
                    "relationshipTips": {
                              "strength": "困難を共に乗り越える絆を作る",
                              "weakness": "安定志向の人とのすれ違い",
                              "advice": "全員が冒険者ではないことを理解しよう"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "試行錯誤型",
                              "description": "失敗を恐れず、何度でも挑戦する",
                              "metaphor": "ゲームで何度もリトライするような粘り強さ"
                    },
                    "stressResponse": {
                              "whatYouDo": "別のアプローチを次々試す",
                              "example": "Aがダメならb、Bもダメならc...と柔軟に対応",
                              "goodPoint": "諦めない粘り強さ、柔軟な対応力",
                              "badPoint": "時に無謀な挑戦を続けてしまう"
                    },
                    "emergencyMode": {
                              "whatHappens": "基本に立ち返って再スタート",
                              "example": "大失敗 → 『ゼロからやり直そう』",
                              "recovery": "新しい挑戦で前の失敗を忘れる",
                              "timeToRecover": "3-5日（次の目標が見つかれば）"
                    },
                    "howToRecover": {
                              "bestWay": "小さな成功体験の積み重ね",
                              "example": "簡単なタスクから再開、徐々にレベルアップ",
                              "environment": "失敗を許容してくれる環境",
                              "support": "共に挑戦してくれる仲間"
                    }
          },
          "osBalance": {
                    "idealBalance": "開拓45% : 導き35% : 粘り強さ20%",
                    "whenBalanced": "新しい領域を切り開くパイオニアとして活躍",
                    "whenImbalanced": "無謀な挑戦の連続、または挫折からの停滞",
                    "tip": "挑戦→学習→改善→再挑戦 のサイクルを大切に"
          }
},
            "山水蒙": {
          "id": 4,
          "symbol": "☶☵",
          "element": "山水",
          "nickname": "育成者",
          "emoji": "📚",
          "asEngineOS": {
                    "profile": {
                              "type": "教育啓発エンジン",
                              "description": "知識と経験を次世代に伝える使命感",
                              "metaphor": "優れた教師のような、人を育てる情熱"
                    },
                    "normalState": {
                              "whatHappens": "常に『どう教えたら伝わるか』を考えている",
                              "example": "相手のレベルに合わせて説明方法を変える",
                              "energyLevel": "🔋🔋🔋 (60%) - 教育モード常時ON"
                    },
                    "superMode": {
                              "when": "誰かが成長の壁にぶつかっている時",
                              "whatHappens": "全力で導き、突破をサポート",
                              "example": "後輩の悩みに寄り添い、成長を全力支援",
                              "energyLevel": "🔋🔋🔋🔋 (85%) - メンターモード"
                    },
                    "restMode": {
                              "whatHappens": "新しい知識の吸収と整理",
                              "howToRest": "読書、セミナー参加、自己研鑽",
                              "note": "学ぶことが最高のリフレッシュ"
                    },
                    "maintenance": {
                              "whatYouNeed": "教える機会、成長の実感",
                              "howToCharge": "誰かの『わかった！』という瞬間",
                              "warning": "教える相手がいないと意欲低下",
                              "tip": "常に誰かの成長に関わる機会を持とう"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "メンター型",
                              "description": "相手の可能性を引き出すタイプ",
                              "metaphor": "信頼される先輩、頼れる師匠"
                    },
                    "howToTalk": {
                              "style": "わかりやすく、段階的に説明",
                              "example": "『まずはここから始めてみよう』と導く",
                              "goodAt": "教育、指導、スキル伝承",
                              "notGoodAt": "同レベルでの競争、対等な議論"
                    },
                    "bestEnvironment": {
                              "where": "教育と成長が重視される環境",
                              "example": "教育機関、研修部門、技術伝承",
                              "withWho": "学ぶ意欲のある人々",
                              "avoid": "即戦力のみ求められる環境"
                    },
                    "relationshipTips": {
                              "strength": "人を育てる喜びと信頼関係",
                              "weakness": "教える立場に固執しがち",
                              "advice": "時には学ぶ側に回ることも大切"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "基本回帰型",
                              "description": "原点に戻って着実に対処",
                              "metaphor": "教科書通りの確実な方法を選ぶ"
                    },
                    "stressResponse": {
                              "whatYouDo": "基礎から見直し、確実に解決",
                              "example": "問題発生 → マニュアル確認 → 手順通り対応",
                              "goodPoint": "確実性、ミスの少なさ",
                              "badPoint": "柔軟性に欠ける場合がある"
                    },
                    "emergencyMode": {
                              "whatHappens": "信頼できる先輩や専門家に相談",
                              "example": "自分で解決困難 → 『教えてください』",
                              "recovery": "新しい学びを得て成長",
                              "timeToRecover": "1週間（学びを整理する時間）"
                    },
                    "howToRecover": {
                              "bestWay": "体系的な学習と振り返り",
                              "example": "失敗から学び、次に活かす",
                              "environment": "学習を支援してくれる環境",
                              "support": "良き師匠、先輩の存在"
                    }
          },
          "osBalance": {
                    "idealBalance": "教育40% : 指導30% : 学習30%",
                    "whenBalanced": "知識と経験を次世代に伝える優れた育成者",
                    "whenImbalanced": "教えることに固執、または自信喪失",
                    "tip": "教える→学ぶ→改善→また教える のサイクル"
          }
},
            "水天需": {
          "id": 5,
          "symbol": "☵☰",
          "element": "水天",
          "nickname": "戦略家",
          "emoji": "♟️",
          "asEngineOS": {
                    "profile": {
                              "type": "戦略立案エンジン",
                              "description": "最適なタイミングと方法を見極める",
                              "metaphor": "チェスプレイヤーのような先読み思考"
                    },
                    "normalState": {
                              "whatHappens": "常に複数のシナリオを想定している",
                              "example": "『もしAなら○○、Bなら△△』と準備",
                              "energyLevel": "🔋🔋🔋 (55%) - 分析モード継続"
                    },
                    "superMode": {
                              "when": "重要な決断、大きな勝負どころ",
                              "whatHappens": "全データを分析、最適解を導出",
                              "example": "重要な交渉で、相手の出方を全て想定済み",
                              "energyLevel": "🔋🔋🔋🔋 (90%) - 戦略的思考フル回転"
                    },
                    "restMode": {
                              "whatHappens": "情報収集と次の戦略準備",
                              "howToRest": "データ分析、トレンド研究",
                              "note": "休んでいても頭は動いている"
                    },
                    "maintenance": {
                              "whatYouNeed": "十分な情報と考える時間",
                              "howToCharge": "戦略が的中した時の達成感",
                              "warning": "急かされると判断ミスのリスク",
                              "tip": "時には直感も大切にしよう"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "アドバイザー型",
                              "description": "的確な助言で方向性を示すタイプ",
                              "metaphor": "信頼される参謀、ブレーン的存在"
                    },
                    "howToTalk": {
                              "style": "論理的で説得力のある説明",
                              "example": "『データによると、この選択が最適です』",
                              "goodAt": "戦略提案、リスク分析、計画立案",
                              "notGoodAt": "感情的な共感、即興的な対応"
                    },
                    "bestEnvironment": {
                              "where": "戦略性が評価される環境",
                              "example": "経営企画、コンサルティング、分析部門",
                              "withWho": "論理的思考を評価する人々",
                              "avoid": "感情優先、即断即決の環境"
                    },
                    "relationshipTips": {
                              "strength": "的確な判断と信頼性",
                              "weakness": "時に冷たく見られがち",
                              "advice": "論理だけでなく、感情も考慮しよう"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "待機観察型",
                              "description": "最適なタイミングまで待つ",
                              "metaphor": "嵐が過ぎるのを待つような忍耐"
                    },
                    "stressResponse": {
                              "whatYouDo": "一旦距離を置いて状況分析",
                              "example": "感情的な対立 → 冷静に状況を観察",
                              "goodPoint": "冷静な判断力、客観性",
                              "badPoint": "行動が遅れることがある"
                    },
                    "emergencyMode": {
                              "whatHappens": "全選択肢を検討してから行動",
                              "example": "危機 → 全シナリオ分析 → 最適解選択",
                              "recovery": "論理的に整理して納得",
                              "timeToRecover": "3-7日（分析が完了すれば）"
                    },
                    "howToRecover": {
                              "bestWay": "データと論理で状況を整理",
                              "example": "問題を図表化、解決策をリスト化",
                              "environment": "静かで集中できる環境",
                              "support": "論理的に話せる相談相手"
                    }
          },
          "osBalance": {
                    "idealBalance": "戦略50% : 助言30% : 観察20%",
                    "whenBalanced": "組織の頭脳として最適な判断を提供",
                    "whenImbalanced": "分析麻痺、または軽率な判断",
                    "tip": "分析→決断→実行→検証 のバランスを保とう"
          }
},
            "天水訟": {
          "id": 6,
          "symbol": "☰☵",
          "element": "天水",
          "nickname": "交渉人",
          "emoji": "⚖️",
          "asEngineOS": {
                    "profile": {
                              "type": "正義追求エンジン",
                              "description": "公正さと真実を追い求める",
                              "metaphor": "弁護士のような正義感と論理性"
                    },
                    "normalState": {
                              "whatHappens": "物事の矛盾や不公正を見逃さない",
                              "example": "『それ、理屈が通らないよね』と指摘",
                              "energyLevel": "🔋🔋🔋 (65%) - 正義センサー作動中"
                    },
                    "superMode": {
                              "when": "不正や矛盾と戦う必要がある時",
                              "whatHappens": "論理と証拠で徹底的に立証",
                              "example": "不当な扱いに対して、理路整然と反論",
                              "energyLevel": "🔋🔋🔋🔋🔋 (95%) - 弁論モード全開"
                    },
                    "restMode": {
                              "whatHappens": "次の論点を整理、証拠収集",
                              "howToRest": "法律や倫理の勉強、判例研究",
                              "note": "常に何かを検証している"
                    },
                    "maintenance": {
                              "whatYouNeed": "議論の機会、正義の実現",
                              "howToCharge": "論理で勝利した時の達成感",
                              "warning": "全てを白黒つけようとすると疲れる",
                              "tip": "グレーゾーンも受け入れる柔軟性を"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "ディベーター型",
                              "description": "議論と交渉で最善を導くタイプ",
                              "metaphor": "優れた交渉人、調停者"
                    },
                    "howToTalk": {
                              "style": "論理的で説得力のある議論",
                              "example": "『論点を整理すると...』と体系的に説明",
                              "goodAt": "交渉、議論、問題解決",
                              "notGoodAt": "感情的な慰め、曖昧な会話"
                    },
                    "bestEnvironment": {
                              "where": "論理と公正が重視される環境",
                              "example": "法務、コンプライアンス、交渉担当",
                              "withWho": "理性的で公正な人々",
                              "avoid": "感情論が支配的な環境"
                    },
                    "relationshipTips": {
                              "strength": "公正な判断と説得力",
                              "weakness": "理屈っぽく見られがち",
                              "advice": "時には感情も大切な判断材料"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "論理武装型",
                              "description": "理論と証拠で自己を守る",
                              "metaphor": "法廷での弁護のような防御"
                    },
                    "stressResponse": {
                              "whatYouDo": "論理的に反論、正当性を主張",
                              "example": "批判 → 『その根拠は？』と論理で返す",
                              "goodPoint": "感情に流されない冷静さ",
                              "badPoint": "頑固に見られることがある"
                    },
                    "emergencyMode": {
                              "whatHappens": "全ての論点を洗い出して対抗",
                              "example": "攻撃 → 論理的矛盾を指摘して防御",
                              "recovery": "論理的に納得できれば回復",
                              "timeToRecover": "2-5日（論点整理が済めば）"
                    },
                    "howToRecover": {
                              "bestWay": "問題を論理的に整理",
                              "example": "議論の記録作成、論点の整理",
                              "environment": "冷静に考えられる環境",
                              "support": "論理的に話せる相談相手"
                    }
          },
          "osBalance": {
                    "idealBalance": "正義45% : 交渉35% : 防御20%",
                    "whenBalanced": "公正な判断者として信頼される存在",
                    "whenImbalanced": "融通が利かない、または優柔不断",
                    "tip": "論理と感情、正義と現実のバランスを"
          }
},
            "離為火": {
          "id": 30,
          "symbol": "☲",
          "element": "火",
          "nickname": "情熱者",
          "emoji": "🔥",
          "asEngineOS": {
                    "profile": {
                              "type": "情熱燃焼エンジン",
                              "description": "燃えるような情熱で突き進む",
                              "metaphor": "永遠に燃え続ける炎"
                    },
                    "normalState": {
                              "whatHappens": "常に何かに情熱を注ぐ",
                              "example": "仕事も趣味も全力投球",
                              "energyLevel": "🔋🔋🔋🔋 (75%) - 燃焼モード"
                    },
                    "superMode": {
                              "when": "情熱の対象を見つけた時",
                              "whatHappens": "全身全霊で燃え上がる",
                              "example": "寝食を忘れて没頭",
                              "energyLevel": "🔋🔋🔋🔋🔋 (100%) - 完全燃焼"
                    },
                    "restMode": {
                              "whatHappens": "次の燃料を探す",
                              "howToRest": "新しい刺激、インスピレーション",
                              "note": "完全に消えることはない"
                    },
                    "maintenance": {
                              "whatYouNeed": "燃える対象と燃料",
                              "howToCharge": "情熱を注げる何か",
                              "warning": "燃え尽きに注意",
                              "tip": "適度に燃料補給を"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "熱血伝道型",
                              "description": "情熱を周りに伝染させる",
                              "metaphor": "炎のような感染力"
                    },
                    "howToTalk": {
                              "style": "熱く語り、感動させる",
                              "example": "『これは素晴らしい！』と熱弁",
                              "goodAt": "感動、説得、巻き込み",
                              "notGoodAt": "冷静な分析、客観性"
                    },
                    "bestEnvironment": {
                              "where": "情熱が評価される環境",
                              "example": "営業、プレゼン、エンタメ",
                              "withWho": "熱い心を持つ人々",
                              "avoid": "冷めた環境"
                    },
                    "relationshipTips": {
                              "strength": "人を熱くさせる力",
                              "weakness": "暑苦しいと感じられる",
                              "advice": "相手の温度も考慮しよう"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "激情爆発型",
                              "description": "感情の炎で全てを燃やす",
                              "metaphor": "怒りの炎で敵を焼き尽くす"
                    },
                    "stressResponse": {
                              "whatYouDo": "激しく燃えて発散",
                              "example": "怒り → 爆発的な感情表出",
                              "goodPoint": "溜め込まない",
                              "badPoint": "周りを巻き込む"
                    },
                    "emergencyMode": {
                              "whatHappens": "全てを燃やし尽くす",
                              "example": "破壊的な情熱の爆発",
                              "recovery": "灰から再生",
                              "timeToRecover": "1-2週間（燃え尽きてから）"
                    },
                    "howToRecover": {
                              "bestWay": "新しい情熱を見つける",
                              "example": "新しい目標、新しい恋",
                              "environment": "刺激的な環境",
                              "support": "情熱を共有できる仲間"
                    }
          },
          "osBalance": {
                    "idealBalance": "情熱50% : 伝染30% : 制御20%",
                    "whenBalanced": "周りを明るく照らす存在",
                    "whenImbalanced": "燃え尽き、または冷淡",
                    "tip": "燃える→照らす→補給→また燃える"
          }
},
            "坎為水": {
          "id": 29,
          "symbol": "☵",
          "element": "水",
          "nickname": "流動者",
          "emoji": "💧",
          "asEngineOS": {
                    "profile": {
                              "type": "流動適応エンジン",
                              "description": "水のように形を変えて進む",
                              "metaphor": "川の流れのような柔軟性"
                    },
                    "normalState": {
                              "whatHappens": "障害を避けて流れる",
                              "example": "抵抗の少ない道を自然に選ぶ",
                              "energyLevel": "🔋🔋 (50%) - 流動モード"
                    },
                    "superMode": {
                              "when": "大きな障害に直面した時",
                              "whatHappens": "あらゆる隙間を見つけて流れる",
                              "example": "どんな困難も迂回して進む",
                              "energyLevel": "🔋🔋🔋🔋 (80%) - 浸透モード"
                    },
                    "restMode": {
                              "whatHappens": "静かに留まる",
                              "howToRest": "瞑想、静寂、停滞",
                              "note": "流れを止めて充電"
                    },
                    "maintenance": {
                              "whatYouNeed": "自由な流れと変化",
                              "howToCharge": "スムーズに流れる感覚",
                              "warning": "停滞すると濁る",
                              "tip": "常に流れ続けよう"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "柔軟対応型",
                              "description": "相手に合わせて形を変える",
                              "metaphor": "水のような適応力"
                    },
                    "howToTalk": {
                              "style": "相手の器に合わせる",
                              "example": "硬い人には柔らかく、柔らかい人には形を",
                              "goodAt": "適応、調整、浸透",
                              "notGoodAt": "強い主張、固定的な立場"
                    },
                    "bestEnvironment": {
                              "where": "流動的な環境",
                              "example": "変化の多い職場、フリーランス",
                              "withWho": "柔軟な人々",
                              "avoid": "硬直的な環境"
                    },
                    "relationshipTips": {
                              "strength": "どんな人とも合わせられる",
                              "weakness": "主体性がないように見える",
                              "advice": "時には形を保つことも"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "流体回避型",
                              "description": "水のように逃げて守る",
                              "metaphor": "掴もうとすると逃げる水"
                    },
                    "stressResponse": {
                              "whatYouDo": "形を変えて逃げる",
                              "example": "圧力 → すり抜けて回避",
                              "goodPoint": "直接対決を避ける",
                              "badPoint": "逃げ癖がつく"
                    },
                    "emergencyMode": {
                              "whatHappens": "完全に流動化",
                              "example": "掴まえられない存在になる",
                              "recovery": "安全になったら形を取り戻す",
                              "timeToRecover": "1週間（流れ次第）"
                    },
                    "howToRecover": {
                              "bestWay": "自然な流れに身を任せる",
                              "example": "時の流れ、自然のリズム",
                              "environment": "制約のない自由な空間",
                              "support": "流れを理解してくれる人"
                    }
          },
          "osBalance": {
                    "idealBalance": "流動45% : 適応35% : 浸透20%",
                    "whenBalanced": "どんな環境でも生き抜く",
                    "whenImbalanced": "形を失う、または硬直",
                    "tip": "流れる→浸透→変化→また流れる"
          }
},
            "震為雷": {
          "id": 51,
          "symbol": "☳",
          "element": "雷",
          "nickname": "衝撃者",
          "emoji": "⚡",
          "asEngineOS": {
                    "profile": {
                              "type": "衝撃起動エンジン",
                              "description": "雷のような瞬発力で動く",
                              "metaphor": "稲妻のような瞬間的パワー"
                    },
                    "normalState": {
                              "whatHappens": "エネルギーを蓄積",
                              "example": "静かにパワーをチャージ",
                              "energyLevel": "🔋🔋 (50%) - 充電中"
                    },
                    "superMode": {
                              "when": "爆発的な力が必要な時",
                              "whatHappens": "雷のような衝撃を与える",
                              "example": "一瞬で状況を変える",
                              "energyLevel": "🔋🔋🔋🔋🔋 (100%) - 放電！"
                    },
                    "restMode": {
                              "whatHappens": "完全に静止",
                              "howToRest": "エネルギー温存",
                              "note": "次の雷に備える"
                    },
                    "maintenance": {
                              "whatYouNeed": "放電の機会",
                              "howToCharge": "静電気のように蓄積",
                              "warning": "暴発に注意",
                              "tip": "適切なタイミングで放電"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "インパクト型",
                              "description": "強烈な印象を与える",
                              "metaphor": "忘れられない衝撃"
                    },
                    "howToTalk": {
                              "style": "短く強烈なメッセージ",
                              "example": "一言で核心を突く",
                              "goodAt": "インパクト、記憶に残る",
                              "notGoodAt": "長い会話、穏やかな交流"
                    },
                    "bestEnvironment": {
                              "where": "瞬発力が必要な環境",
                              "example": "緊急対応、スポーツ、プレゼン",
                              "withWho": "スピード感のある人々",
                              "avoid": "ゆったりした環境"
                    },
                    "relationshipTips": {
                              "strength": "忘れられない存在",
                              "weakness": "威圧的に感じられる",
                              "advice": "時には穏やかさも"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "電撃反撃型",
                              "description": "雷で反撃する",
                              "metaphor": "触れたら感電"
                    },
                    "stressResponse": {
                              "whatYouDo": "瞬間的に爆発",
                              "example": "攻撃 → 即座に雷撃",
                              "goodPoint": "強力な防御",
                              "badPoint": "周囲も巻き込む"
                    },
                    "emergencyMode": {
                              "whatHappens": "全エネルギー放出",
                              "example": "最大出力で反撃",
                              "recovery": "放電後は充電必要",
                              "timeToRecover": "1週間（再充電）"
                    },
                    "howToRecover": {
                              "bestWay": "静かに充電",
                              "example": "一人で静養",
                              "environment": "刺激の少ない場所",
                              "support": "そっとしておいてくれる人"
                    }
          },
          "osBalance": {
                    "idealBalance": "衝撃45% : 蓄積35% : 制御20%",
                    "whenBalanced": "適切なタイミングで力を発揮",
                    "whenImbalanced": "暴発、または不発",
                    "tip": "蓄積→放電→休息→また蓄積"
          }
},
            "艮為山": {
          "id": 52,
          "symbol": "☶",
          "element": "山",
          "nickname": "不動者",
          "emoji": "⛰️",
          "asEngineOS": {
                    "profile": {
                              "type": "不動安定エンジン",
                              "description": "山のように動じない",
                              "metaphor": "何があっても揺るがない山"
                    },
                    "normalState": {
                              "whatHappens": "どっしりと構える",
                              "example": "周りが騒いでも動じない",
                              "energyLevel": "🔋🔋🔋 (60%) - 安定稼働"
                    },
                    "superMode": {
                              "when": "絶対的な安定が必要な時",
                              "whatHappens": "完全に不動の構え",
                              "example": "嵐の中でも微動だにしない",
                              "energyLevel": "🔋🔋🔋🔋 (80%) - 完全不動"
                    },
                    "restMode": {
                              "whatHappens": "もともと動かない",
                              "howToRest": "そのまま",
                              "note": "常に休息状態"
                    },
                    "maintenance": {
                              "whatYouNeed": "動かない自由",
                              "howToCharge": "静寂と安定",
                              "warning": "固まりすぎに注意",
                              "tip": "時には動くことも"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "安定供給型",
                              "description": "いつも同じ安心感",
                              "metaphor": "頼れる山のような存在"
                    },
                    "howToTalk": {
                              "style": "落ち着いた一定のトーン",
                              "example": "いつも同じペースで話す",
                              "goodAt": "安心感、信頼性、一貫性",
                              "notGoodAt": "変化、柔軟性、即応"
                    },
                    "bestEnvironment": {
                              "where": "安定が求められる環境",
                              "example": "守衛、管理、基幹業務",
                              "withWho": "落ち着いた人々",
                              "avoid": "変化の激しい環境"
                    },
                    "relationshipTips": {
                              "strength": "絶対的な安心感",
                              "weakness": "つまらないと思われる",
                              "advice": "たまには変化も見せよう"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "完全停止型",
                              "description": "動かないことで守る",
                              "metaphor": "岩になる"
                    },
                    "stressResponse": {
                              "whatYouDo": "完全に動きを止める",
                              "example": "何を言われても無反応",
                              "goodPoint": "攻撃を受け流す",
                              "badPoint": "機会も逃す"
                    },
                    "emergencyMode": {
                              "whatHappens": "石化する",
                              "example": "完全に反応を止める",
                              "recovery": "時間が解決",
                              "timeToRecover": "1ヶ月以上（ゆっくり）"
                    },
                    "howToRecover": {
                              "bestWay": "自然に任せる",
                              "example": "時の流れに任せる",
                              "environment": "変化のない環境",
                              "support": "待ってくれる人"
                    }
          },
          "osBalance": {
                    "idealBalance": "不動50% : 安定35% : 柔軟15%",
                    "whenBalanced": "組織の礎として機能",
                    "whenImbalanced": "化石化、または不安定",
                    "tip": "守る→維持→時々動く→また守る"
          }
},
            "巽為風": {
          "id": 57,
          "symbol": "☴",
          "element": "風",
          "nickname": "浸透者",
          "emoji": "🌬️",
          "asEngineOS": {
                    "profile": {
                              "type": "浸透拡散エンジン",
                              "description": "じわじわと浸透して広がる",
                              "metaphor": "風のように隅々まで届く"
                    },
                    "normalState": {
                              "whatHappens": "静かに影響を広げる",
                              "example": "気づかないうちに考えを浸透させる",
                              "energyLevel": "🔋🔋🔋 (55%) - 浸透モード"
                    },
                    "superMode": {
                              "when": "大きな変化を起こす時",
                              "whatHappens": "組織全体に影響を与える",
                              "example": "新しい文化を組織に浸透させる",
                              "energyLevel": "🔋🔋🔋🔋 (90%) - 拡散モード"
                    },
                    "restMode": {
                              "whatHappens": "静かに観察",
                              "howToRest": "流れを読む時間",
                              "note": "次の浸透先を探す"
                    },
                    "maintenance": {
                              "whatYouNeed": "浸透できる隙間",
                              "howToCharge": "影響力の実感",
                              "warning": "押し付けにならない",
                              "tip": "自然な流れで浸透させよう"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "影響力型",
                              "description": "さりげなく影響を与える",
                              "metaphor": "そよ風のような優しい影響"
                    },
                    "howToTalk": {
                              "style": "穏やかで説得力のある話し方",
                              "example": "『こんな考え方もありますよ』",
                              "goodAt": "説得、影響、浸透",
                              "notGoodAt": "強制、命令、対立"
                    },
                    "bestEnvironment": {
                              "where": "柔軟な環境",
                              "example": "コンサルティング、教育、広報",
                              "withWho": "開かれた心の人々",
                              "avoid": "硬直的な環境"
                    },
                    "relationshipTips": {
                              "strength": "自然に人を動かす",
                              "weakness": "影が薄いことも",
                              "advice": "時には存在感も必要"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "回避浸透型",
                              "description": "風のようにすり抜ける",
                              "metaphor": "隙間から逃げる風"
                    },
                    "stressResponse": {
                              "whatYouDo": "柔らかく回避",
                              "example": "対立 → 風のように流れる",
                              "goodPoint": "摩擦を避ける",
                              "badPoint": "直面しない"
                    },
                    "emergencyMode": {
                              "whatHappens": "完全に拡散",
                              "example": "形を失って逃げる",
                              "recovery": "少しずつ集まる",
                              "timeToRecover": "1-2週間（自然に）"
                    },
                    "howToRecover": {
                              "bestWay": "自然な流れに任せる",
                              "example": "風の向きに従う",
                              "environment": "開放的な空間",
                              "support": "自由を理解する人"
                    }
          },
          "osBalance": {
                    "idealBalance": "浸透45% : 影響35% : 柔軟20%",
                    "whenBalanced": "組織に良い変化をもたらす",
                    "whenImbalanced": "影響力なし、または押し付け",
                    "tip": "浸透→影響→定着→また浸透"
          }
},
            "兌為澤": {
          "id": 58,
          "symbol": "☱",
          "element": "澤",
          "nickname": "喜悦者",
          "emoji": "😊",
          "asEngineOS": {
                    "profile": {
                              "type": "喜び生成エンジン",
                              "description": "喜びと楽しさを生み出す",
                              "metaphor": "笑顔の泉"
                    },
                    "normalState": {
                              "whatHappens": "常に楽しいことを探す",
                              "example": "どんな状況でも楽しみを見つける",
                              "energyLevel": "🔋🔋🔋🔋 (70%) - ハッピーモード"
                    },
                    "superMode": {
                              "when": "みんなを喜ばせる時",
                              "whatHappens": "最高の喜びを提供",
                              "example": "サプライズで感動を演出",
                              "energyLevel": "🔋🔋🔋🔋🔋 (100%) - 歓喜モード"
                    },
                    "restMode": {
                              "whatHappens": "静かな喜びを味わう",
                              "howToRest": "小さな幸せを感じる",
                              "note": "充電も楽しく"
                    },
                    "maintenance": {
                              "whatYouNeed": "笑顔と喜びの共有",
                              "howToCharge": "人の笑顔",
                              "warning": "空元気に注意",
                              "tip": "本物の喜びを大切に"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "ムードメーカー型",
                              "description": "場を明るくする",
                              "metaphor": "太陽のような明るさ"
                    },
                    "howToTalk": {
                              "style": "明るく楽しい会話",
                              "example": "『楽しいね！』が口癖",
                              "goodAt": "雰囲気作り、励まし",
                              "notGoodAt": "深刻な話、批判"
                    },
                    "bestEnvironment": {
                              "where": "明るい雰囲気の環境",
                              "example": "サービス業、エンタメ、イベント",
                              "withWho": "ポジティブな人々",
                              "avoid": "暗い雰囲気の場所"
                    },
                    "relationshipTips": {
                              "strength": "みんなを元気にする",
                              "weakness": "軽く見られることも",
                              "advice": "真剣さも時には必要"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "笑顔防御型",
                              "description": "笑顔で辛さを隠す",
                              "metaphor": "涙を笑顔で隠す"
                    },
                    "stressResponse": {
                              "whatYouDo": "無理に笑顔を作る",
                              "example": "辛い → でも笑顔",
                              "goodPoint": "周りを心配させない",
                              "badPoint": "本心が伝わらない"
                    },
                    "emergencyMode": {
                              "whatHappens": "過剰な明るさ",
                              "example": "異常なハイテンション",
                              "recovery": "本当の感情を出す",
                              "timeToRecover": "1週間（素直になれば）"
                    },
                    "howToRecover": {
                              "bestWay": "本当の気持ちを話す",
                              "example": "信頼できる人に本音",
                              "environment": "安心できる場所",
                              "support": "本心を受け止める人"
                    }
          },
          "osBalance": {
                    "idealBalance": "喜び50% : 共有35% : 真実15%",
                    "whenBalanced": "本物の喜びを広げる",
                    "whenImbalanced": "空虚な笑顔、または暗い",
                    "tip": "喜ぶ→分かち合う→充電→また喜ぶ"
          }
},
            "澤火革": {
          "id": 49,
          "symbol": "☲☱",
          "element": "澤火",
          "nickname": "革命者",
          "emoji": "🔥",
          "asEngineOS": {
                    "profile": {
                              "type": "変革革命エンジン",
                              "description": "古いものを壊し新しいものを作る",
                              "metaphor": "革命の炎を燃やす"
                    },
                    "normalState": {
                              "whatHappens": "常に変革の種を探す",
                              "example": "『これは変えるべきだ』と感じる",
                              "energyLevel": "🔋🔋🔋 (70%) - 革命準備"
                    },
                    "superMode": {
                              "when": "大きな変革の時が来た時",
                              "whatHappens": "既存の体制を覆す",
                              "example": "組織や社会に革命を起こす",
                              "energyLevel": "🔋🔋🔋🔋🔋 (100%) - 革命実行"
                    },
                    "restMode": {
                              "whatHappens": "次の革命を計画",
                              "howToRest": "新しいビジョンを描く",
                              "note": "静かに革命の準備"
                    },
                    "maintenance": {
                              "whatYouNeed": "変革すべき対象",
                              "howToCharge": "革命の成功",
                              "warning": "破壊だけにならない",
                              "tip": "創造的な破壊を"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "変革促進型",
                              "description": "みんなに変化を促す",
                              "metaphor": "革命のリーダー"
                    },
                    "howToTalk": {
                              "style": "熱く変革を語る",
                              "example": "『今こそ変わる時だ！』",
                              "goodAt": "変革促進、意識改革",
                              "notGoodAt": "現状維持、妥協"
                    },
                    "bestEnvironment": {
                              "where": "変革が必要な環境",
                              "example": "改革プロジェクト、社会運動",
                              "withWho": "変化を求める人々",
                              "avoid": "保守的な環境"
                    },
                    "relationshipTips": {
                              "strength": "変化を起こす力",
                              "weakness": "過激に見られる",
                              "advice": "段階的な変化も考慮"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "全面改革型",
                              "description": "全てを変えて守る",
                              "metaphor": "焼き畑農業のような再生"
                    },
                    "stressResponse": {
                              "whatYouDo": "根本から変える",
                              "example": "問題 → システム全体を変革",
                              "goodPoint": "根本的解決",
                              "badPoint": "リスクが大きい"
                    },
                    "emergencyMode": {
                              "whatHappens": "革命的行動",
                              "example": "既存の全てを否定",
                              "recovery": "新体制の確立",
                              "timeToRecover": "1-3ヶ月（変革完了まで）"
                    },
                    "howToRecover": {
                              "bestWay": "新しいシステムの構築",
                              "example": "ゼロから作り直す",
                              "environment": "変化を許容する環境",
                              "support": "革命を共にする仲間"
                    }
          },
          "osBalance": {
                    "idealBalance": "革命45% : 創造35% : 安定20%",
                    "whenBalanced": "建設的な変革を実現",
                    "whenImbalanced": "破壊的、または停滞",
                    "tip": "壊す→創る→定着→また変革"
          }
},
            "火風鼎": {
          "id": 50,
          "symbol": "☴☲",
          "element": "火風",
          "nickname": "創造者",
          "emoji": "🎨",
          "asEngineOS": {
                    "profile": {
                              "type": "創造変容エンジン",
                              "description": "素材を組み合わせて新しいものを創る",
                              "metaphor": "錬金術師のような創造力"
                    },
                    "normalState": {
                              "whatHappens": "常に何かを創造している",
                              "example": "異なるものを組み合わせて新しい価値",
                              "energyLevel": "🔋🔋🔋 (65%) - 創造モード"
                    },
                    "superMode": {
                              "when": "創造のインスピレーション",
                              "whatHappens": "天才的な創造力を発揮",
                              "example": "誰も思いつかないものを生み出す",
                              "energyLevel": "🔋🔋🔋🔋🔋 (95%) - 天才モード"
                    },
                    "restMode": {
                              "whatHappens": "素材を集める",
                              "howToRest": "インプットの時間",
                              "note": "創造の準備期間"
                    },
                    "maintenance": {
                              "whatYouNeed": "創造の自由と素材",
                              "howToCharge": "創造の喜び",
                              "warning": "完成させることも大切",
                              "tip": "創造と完成のバランス"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "クリエイター型",
                              "description": "創造的な関わり方",
                              "metaphor": "アーティストのような感性"
                    },
                    "howToTalk": {
                              "style": "創造的で独特な表現",
                              "example": "『こんなのどう？』と新しい提案",
                              "goodAt": "創造的提案、発想転換",
                              "notGoodAt": "定型的対応、ルーティン"
                    },
                    "bestEnvironment": {
                              "where": "創造性が評価される環境",
                              "example": "クリエイティブ業界、研究開発",
                              "withWho": "創造的な人々",
                              "avoid": "型にはまった環境"
                    },
                    "relationshipTips": {
                              "strength": "新しい価値を生む",
                              "weakness": "現実離れすることも",
                              "advice": "実現可能性も考慮"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "創造逃避型",
                              "description": "創造の世界に逃げ込む",
                              "metaphor": "芸術に没頭して現実逃避"
                    },
                    "stressResponse": {
                              "whatYouDo": "創造活動に逃げる",
                              "example": "問題 → 創作に没頭",
                              "goodPoint": "創造的昇華",
                              "badPoint": "現実から目を背ける"
                    },
                    "emergencyMode": {
                              "whatHappens": "創造の世界に籠る",
                              "example": "現実を忘れて創作",
                              "recovery": "作品完成で満足",
                              "timeToRecover": "作品次第（数日〜数ヶ月）"
                    },
                    "howToRecover": {
                              "bestWay": "創造活動を通じて",
                              "example": "作品を作り上げる",
                              "environment": "創作できる環境",
                              "support": "創造を理解する人"
                    }
          },
          "osBalance": {
                    "idealBalance": "創造50% : 実現30% : 休息20%",
                    "whenBalanced": "価値ある作品を生み出す",
                    "whenImbalanced": "未完成の山、または枯渇",
                    "tip": "創る→完成→休む→また創る"
          }
},
            "水火既済": {
          "id": 63,
          "symbol": "☲☵",
          "element": "水火",
          "nickname": "完成者",
          "emoji": "✅",
          "asEngineOS": {
                    "profile": {
                              "type": "完成達成エンジン",
                              "description": "物事を完璧に仕上げる",
                              "metaphor": "最後のピースを埋める"
                    },
                    "normalState": {
                              "whatHappens": "常に完成を目指す",
                              "example": "中途半端を許さない",
                              "energyLevel": "🔋🔋🔋 (70%) - 完成モード"
                    },
                    "superMode": {
                              "when": "大きなプロジェクトの完成時",
                              "whatHappens": "完璧な仕上がりを実現",
                              "example": "細部まで完璧に仕上げる",
                              "energyLevel": "🔋🔋🔋🔋🔋 (100%) - 完璧モード"
                    },
                    "restMode": {
                              "whatHappens": "完成の満足感に浸る",
                              "howToRest": "達成感を味わう",
                              "note": "次の目標を探す"
                    },
                    "maintenance": {
                              "whatYouNeed": "完成させる対象",
                              "howToCharge": "完成の達成感",
                              "warning": "完璧主義の罠",
                              "tip": "完了も大切"
                    }
          },
          "asInterfaceOS": {
                    "profile": {
                              "type": "仕上げ型",
                              "description": "最後まできっちり仕上げる",
                              "metaphor": "フィニッシャー"
                    },
                    "howToTalk": {
                              "style": "完結を重視する話し方",
                              "example": "『最後まで仕上げましょう』",
                              "goodAt": "完成、締結、仕上げ",
                              "notGoodAt": "中途半端、妥協"
                    },
                    "bestEnvironment": {
                              "where": "完成が評価される環境",
                              "example": "プロジェクト管理、製造、建築",
                              "withWho": "完璧を求める人々",
                              "avoid": "未完成を許容する環境"
                    },
                    "relationshipTips": {
                              "strength": "物事を完成させる力",
                              "weakness": "融通が利かない",
                              "advice": "過程も大切にしよう"
                    }
          },
          "asSafeModeOS": {
                    "profile": {
                              "type": "完成固執型",
                              "description": "完成させることに固執",
                              "metaphor": "未完成が許せない"
                    },
                    "stressResponse": {
                              "whatYouDo": "何が何でも完成させる",
                              "example": "障害 → 完成まで諦めない",
                              "goodPoint": "最後まで諦めない",
                              "badPoint": "柔軟性を失う"
                    },
                    "emergencyMode": {
                              "whatHappens": "完成への執念",
                              "example": "寝食を忘れて完成させる",
                              "recovery": "完成と共に解放",
                              "timeToRecover": "完成次第（即〜長期）"
                    },
                    "howToRecover": {
                              "bestWay": "完成させて満足",
                              "example": "プロジェクト完了",
                              "environment": "完成できる環境",
                              "support": "完成を助ける人"
                    }
          },
          "osBalance": {
                    "idealBalance": "完成50% : 品質30% : 効率20%",
                    "whenBalanced": "高品質な成果を生み出す",
                    "whenImbalanced": "完璧主義、または未完成",
                    "tip": "計画→実行→完成→次へ"
          }
}
        };

        // データパターン定義（V3データベースの卦を使用）
        
        const dataPatterns = {
            innovator: {
                engineOS: { hexagram: "乾為天", score: 92 },
                interfaceOS: { hexagram: "離為火", score: 75 },
                safeModeOS: { hexagram: "震為雷", score: 68 }
            },
            supporter: {
                engineOS: { hexagram: "坤為地", score: 85 },
                interfaceOS: { hexagram: "山水蒙", score: 88 },
                safeModeOS: { hexagram: "艮為山", score: 72 }
            },
            balanced: {
                engineOS: { hexagram: "水天需", score: 80 },
                interfaceOS: { hexagram: "巽為風", score: 79 },
                safeModeOS: { hexagram: "坎為水", score: 81 }
            },
            revolutionary: {
                engineOS: { hexagram: "澤火革", score: 89 },
                interfaceOS: { hexagram: "火風鼎", score: 86 },
                safeModeOS: { hexagram: "天水訟", score: 73 }
            },
            stabilizer: {
                engineOS: { hexagram: "艮為山", score: 77 },
                interfaceOS: { hexagram: "水火既済", score: 82 },
                safeModeOS: { hexagram: "兌為澤", score: 78 }
            }
        };

        // エネルギーレベルの動的説明生成
        function generateEnergyDescription(level) {
            // levelが既に数値として渡されている
            
            if (level >= 90) {
                return {
                    title: "⚡ エネルギー消費レベル：最大",
                    desc: `現在${level}%のエネルギーで稼働中。この状態は短期間なら最高のパフォーマンスを発揮しますが、長続きすると疲労します。`
                };
            } else if (level >= 70) {
                return {
                    title: "🔥 エネルギー消費レベル：高め",
                    desc: `現在${level}%のエネルギーで活動中。積極的な活動に適した状態ですが、定期的な休息も必要です。`
                };
            } else if (level >= 50) {
                return {
                    title: "🔋 エネルギー消費レベル：中程度",
                    desc: `現在${level}%のエネルギーで稼働中。持続可能なペースで、長期的な活動に適しています。`
                };
            } else {
                return {
                    title: "🌱 エネルギー消費レベル：省エネモード",
                    desc: `現在${level}%の省エネモードで活動中。無理をせず、着実に進むペースです。`
                };
            }
        }

        // バランス計算（スコアに基づく動的計算）
        function calculateBalance(data) {
            const total = data.engineOS.score + data.interfaceOS.score + data.safeModeOS.score;
            return {
                engine: Math.round((data.engineOS.score / total) * 100),
                interface: Math.round((data.interfaceOS.score / total) * 100),
                safeMode: Math.round((data.safeModeOS.score / total) * 100)
            };
        }

        // バランス解釈の生成
        function interpretBalance(balance, data) {
            let dominant = 'engine';
            let dominantValue = balance.engine;
            
            if (balance.interface > dominantValue) {
                dominant = 'interface';
                dominantValue = balance.interface;
            }
            if (balance.safeMode > dominantValue) {
                dominant = 'safeMode';
                dominantValue = balance.safeMode;
            }

            const interpretations = {
                engine: {
                    name: "革新・創造優勢型",
                    desc: "新しいアイデアと変革を追求する傾向が強く表れています",
                    advice: "創造性を活かしつつ、時には現実的な視点も取り入れましょう"
                },
                interface: {
                    name: "社交・調和優勢型",
                    desc: "人との関わりと調和を重視する傾向が強く表れています",
                    advice: "協調性を活かしつつ、自己主張も大切にしましょう"
                },
                safeMode: {
                    name: "安定・支援優勢型",
                    desc: "安定と他者への支援を重視する傾向が強く表れています",
                    advice: "支援力を活かしつつ、新しい挑戦も恐れずに"
                }
            };

            // バランスの差を計算
            const diff = Math.max(balance.engine, balance.interface, balance.safeMode) - 
                         Math.min(balance.engine, balance.interface, balance.safeMode);
            
            const balanceLevel = diff < 10 ? "非常にバランスが取れています" :
                                diff < 20 ? "適度なバランスです" :
                                "特定の傾向が強く出ています";

            return {
                dominant: interpretations[dominant],
                balanceLevel: balanceLevel,
                distribution: `Engine(${balance.engine}%) : Interface(${balance.interface}%) : SafeMode(${balance.safeMode}%)`
            };
        }

        // 動的コンテンツの生成
        function generateDynamicContent(pattern) {
            const data = dataPatterns[pattern];
            const balance = calculateBalance(data);
            const interpretation = interpretBalance(balance, data);
            
            // 各OSのV3データを取得（存在しない場合はデフォルトを使用）
            const engineData = v3Database[data.engineOS.hexagram] || v3Database["乾為天"];
            const interfaceData = v3Database[data.interfaceOS.hexagram] || v3Database["兌為澤"];
            const safeData = v3Database[data.safeModeOS.hexagram] || v3Database["坤為地"];

            return `
                <section style="background: var(--very-light-blue); border-radius: 12px; padding: var(--spacing-xl); margin-bottom: var(--spacing-xl);">
                    <h2 class="section-title">
                        <span>📊</span>
                        診断結果サマリー
                    </h2>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md); margin-bottom: var(--spacing-lg);">
                        <div style="background: white; padding: var(--spacing-md); border-radius: 8px; border-left: 4px solid var(--engine-color);">
                            <h4 style="margin: 0 0 0.5rem 0;">Engine OS</h4>
                            <div style="font-size: 1.5rem;">${engineData.emoji} ${data.engineOS.hexagram}</div>
                            <div style="font-size: 0.9rem; color: var(--gray-600);">${engineData.nickname}</div>
                            <div style="font-size: 2rem; font-weight: bold; color: var(--engine-color); margin-top: 0.5rem;">${data.engineOS.score}</div>
                        </div>
                        
                        <div style="background: white; padding: var(--spacing-md); border-radius: 8px; border-left: 4px solid var(--interface-color);">
                            <h4 style="margin: 0 0 0.5rem 0;">Interface OS</h4>
                            <div style="font-size: 1.5rem;">${interfaceData.emoji} ${data.interfaceOS.hexagram}</div>
                            <div style="font-size: 0.9rem; color: var(--gray-600);">${interfaceData.nickname}</div>
                            <div style="font-size: 2rem; font-weight: bold; color: var(--interface-color); margin-top: 0.5rem;">${data.interfaceOS.score}</div>
                        </div>
                        
                        <div style="background: white; padding: var(--spacing-md); border-radius: 8px; border-left: 4px solid var(--safemode-color);">
                            <h4 style="margin: 0 0 0.5rem 0;">SafeMode OS</h4>
                            <div style="font-size: 1.5rem;">${safeData.emoji} ${data.safeModeOS.hexagram}</div>
                            <div style="font-size: 0.9rem; color: var(--gray-600);">${safeData.nickname}</div>
                            <div style="font-size: 2rem; font-weight: bold; color: var(--safemode-color); margin-top: 0.5rem;">${data.safeModeOS.score}</div>
                        </div>
                    </div>

                    <!-- 動的バランスバー -->
                    <div style="background: white; padding: var(--spacing-lg); border-radius: 8px;">
                        <h4 style="margin: 0 0 var(--spacing-md) 0;">バランス分析（スコアから自動計算）</h4>
                        <div class="balance-bar">
                            <div class="balance-segment" style="background: var(--engine-color); width: ${balance.engine}%;"></div>
                            <div class="balance-segment" style="background: var(--interface-color); width: ${balance.interface}%;"></div>
                            <div class="balance-segment" style="background: var(--safemode-color); width: ${balance.safeMode}%;"></div>
                        </div>
                        
                        <div style="margin-top: var(--spacing-md); padding: var(--spacing-md); background: var(--gray-50); border-radius: 6px;">
                            <div style="font-weight: 600; margin-bottom: 0.5rem;">📊 計算式</div>
                            <div style="font-size: 0.9rem; color: var(--gray-700);">
                                各OSのスコア合計: ${data.engineOS.score + data.interfaceOS.score + data.safeModeOS.score}<br>
                                Engine OS: ${data.engineOS.score} ÷ 合計 = ${balance.engine}%<br>
                                Interface OS: ${data.interfaceOS.score} ÷ 合計 = ${balance.interface}%<br>
                                SafeMode OS: ${data.safeModeOS.score} ÷ 合計 = ${balance.safeMode}%
                            </div>
                        </div>

                        <div style="margin-top: var(--spacing-md); padding: var(--spacing-md); background: var(--very-light-blue); border-radius: 6px;">
                            <div style="font-weight: 600; color: var(--primary-blue-dark);">🎯 ${interpretation.dominant.name}</div>
                            <p style="margin: 0.5rem 0; font-size: 0.95rem;">${interpretation.dominant.desc}</p>
                            <p style="margin: 0.5rem 0; font-size: 0.95rem; color: var(--gray-600);">バランス状態: ${interpretation.balanceLevel}</p>
                            <p style="margin: 0; font-size: 0.9rem; color: var(--gray-700);">💡 ${interpretation.dominant.advice}</p>
                        </div>
                    </div>
                </section>

                <!-- 3つのOS詳細（動的データ） -->
                <div style="display: grid; gap: var(--spacing-xl);">
                    <!-- Engine OS詳細 -->
                    <section style="background: white; border: 1px solid var(--gray-200); border-radius: 12px; padding: var(--spacing-lg); border-top: 4px solid var(--engine-color);">
                        <h3 style="display: flex; align-items: center; gap: var(--spacing-sm); margin-bottom: var(--spacing-lg);">
                            ${engineData.emoji} Engine OS: ${data.engineOS.hexagram}「${engineData.nickname}」
                            <span style="margin-left: auto; background: var(--engine-color); color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 1rem;">スコア: ${data.engineOS.score}</span>
                        </h3>
                        
                        <!-- 基本情報バー -->
                        ${engineData.id ? `
                            <div style="display: flex; gap: var(--spacing-md); margin-bottom: var(--spacing-md); padding: var(--spacing-sm); background: linear-gradient(90deg, var(--engine-light) 0%, transparent 100%); border-radius: 6px; font-size: 0.85rem;">
                                <span>📍 第${engineData.id}卦</span>
                                <span>卦象: ${engineData.symbol || ''}</span>
                                <span>五行: ${engineData.element || ''}</span>
                            </div>
                        ` : ''}
                        
                        ${engineData.asEngineOS ? `
                            <!-- プロファイル -->
                            <div style="background: var(--gray-50); padding: var(--spacing-md); border-radius: 8px; margin-bottom: var(--spacing-md);">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">🔧 ${engineData.asEngineOS.profile.type}</div>
                                <p style="margin: 0 0 0.5rem 0;">${engineData.asEngineOS.profile.description}</p>
                                ${engineData.asEngineOS.profile.metaphor ? `
                                    <p style="margin: 0; font-size: 0.9rem; color: var(--gray-600); font-style: italic;">
                                        📖 ${engineData.asEngineOS.profile.metaphor}
                                    </p>
                                ` : ''}
                            </div>

                            <!-- 通常の状態 -->
                            <div style="margin-bottom: var(--spacing-md);">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">💫 通常の状態</div>
                                <p style="margin: 0 0 0.5rem 0;">${engineData.asEngineOS.normalState.whatHappens}</p>
                                <div style="background: var(--engine-light); padding: var(--spacing-sm); border-radius: 6px; margin-bottom: 0.5rem;">
                                    例: ${engineData.asEngineOS.normalState.example}
                                </div>
                                ${(() => {
                                    const energyStr = engineData.asEngineOS.normalState.energyLevel;
                                    const match = energyStr.match(/(\d+)%/);
                                    const level = match ? parseInt(match[1]) : 50;
                                    const energy = generateEnergyDescription(level);
                                    
                                    // エネルギーレベルに応じた色を決定
                                    const getEnergyColor = (level) => {
                                        if (level >= 80) return '#ef4444'; // 赤（高エネルギー）
                                        if (level >= 60) return '#f59e0b'; // オレンジ
                                        if (level >= 40) return '#10b981'; // 緑（適度）
                                        return '#3b82f6'; // 青（省エネ）
                                    };
                                    
                                    const color = getEnergyColor(level);
                                    
                                    return `
                                        <div style="background: var(--gray-50); padding: var(--spacing-sm); border-radius: 6px;">
                                            <div style="font-weight: 600; font-size: 0.9rem;">${energy.title}</div>
                                            <div style="font-size: 0.85rem; color: var(--gray-600); margin-bottom: 0.5rem;">${energy.desc}</div>
                                            
                                            <!-- エネルギーバー -->
                                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                                <div style="flex: 1; height: 20px; background: var(--gray-200); border-radius: 10px; overflow: hidden; position: relative;">
                                                    <div style="height: 100%; width: ${level}%; background: linear-gradient(90deg, ${color} 0%, ${color}dd 100%); transition: width 0.5s ease; position: relative;">
                                                        <div style="position: absolute; right: 5px; top: 50%; transform: translateY(-50%); color: white; font-size: 0.75rem; font-weight: bold;">
                                                            ${level}%
                                                        </div>
                                                    </div>
                                                </div>
                                                <div style="font-size: 0.85rem; color: var(--gray-700); min-width: 60px;">
                                                    ${engineData.asEngineOS.normalState.energyLevel.match(/🔋/g) ? engineData.asEngineOS.normalState.energyLevel.match(/🔋/g).join('') : '🔋'}
                                                </div>
                                            </div>
                                            
                                            <div style="font-size: 0.75rem; color: var(--gray-500); margin-top: 0.25rem;">
                                                ${engineData.asEngineOS.normalState.energyLevel}
                                            </div>
                                        </div>
                                    `;
                                })()}
                            </div>

                            <!-- スーパーモード -->
                            <div style="margin-bottom: var(--spacing-md);">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">🔥 スーパーモード</div>
                                <p style="margin: 0 0 0.5rem 0;">発動条件: ${engineData.asEngineOS.superMode.when}</p>
                                <p style="margin: 0 0 0.5rem 0;">${engineData.asEngineOS.superMode.whatHappens}</p>
                                ${engineData.asEngineOS.superMode.example ? `
                                    <div style="background: #fef3c7; padding: var(--spacing-sm); border-radius: 6px; margin-bottom: 0.5rem;">
                                        例: ${engineData.asEngineOS.superMode.example}
                                    </div>
                                ` : ''}
                                ${engineData.asEngineOS.superMode.energyLevel ? `
                                    <p style="margin: 0; font-size: 0.9rem; color: var(--gray-600);">
                                        エネルギー: ${engineData.asEngineOS.superMode.energyLevel}
                                    </p>
                                ` : ''}
                            </div>

                            <!-- 休息モード -->
                            ${engineData.asEngineOS.restMode ? `
                                <div style="margin-bottom: var(--spacing-md);">
                                    <div style="font-weight: 600; margin-bottom: 0.5rem;">😴 休息モード</div>
                                    <p style="margin: 0 0 0.5rem 0;">${engineData.asEngineOS.restMode.whatHappens}</p>
                                    <p style="margin: 0 0 0.5rem 0;">休息方法: ${engineData.asEngineOS.restMode.howToRest}</p>
                                    ${engineData.asEngineOS.restMode.note ? `
                                        <p style="margin: 0; font-size: 0.9rem; color: var(--gray-600); font-style: italic;">
                                            💭 ${engineData.asEngineOS.restMode.note}
                                        </p>
                                    ` : ''}
                                </div>
                            ` : ''}

                            <!-- メンテナンス -->
                            <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: var(--spacing-md); border-radius: 8px;">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">🔧 メンテナンス情報</div>
                                <div style="display: grid; gap: var(--spacing-sm);">
                                    ${engineData.asEngineOS.maintenance.whatYouNeed ? `
                                        <div style="font-size: 0.9rem;">
                                            <strong>必要なもの:</strong> ${engineData.asEngineOS.maintenance.whatYouNeed}
                                        </div>
                                    ` : ''}
                                    ${engineData.asEngineOS.maintenance.howToCharge ? `
                                        <div style="font-size: 0.9rem;">
                                            <strong>充電方法:</strong> ${engineData.asEngineOS.maintenance.howToCharge}
                                        </div>
                                    ` : ''}
                                    <div style="font-size: 0.9rem; color: #92400e;">
                                        <strong>⚠️ 注意:</strong> ${engineData.asEngineOS.maintenance.warning}
                                    </div>
                                    <div style="font-size: 0.9rem; color: #059669;">
                                        <strong>💡 ヒント:</strong> ${engineData.asEngineOS.maintenance.tip}
                                    </div>
                                </div>
                            </div>
                        ` : `
                            <div style="background: var(--gray-50); padding: var(--spacing-md); border-radius: 8px;">
                                <p style="margin: 0;">Engine OSとしての詳細データを表示</p>
                            </div>
                        `}
                    </section>

                    <!-- Interface OS詳細 -->
                    <section style="background: white; border: 1px solid var(--gray-200); border-radius: 12px; padding: var(--spacing-lg); border-top: 4px solid var(--interface-color);">
                        <h3 style="display: flex; align-items: center; gap: var(--spacing-sm); margin-bottom: var(--spacing-lg);">
                            ${interfaceData.emoji} Interface OS: ${data.interfaceOS.hexagram}「${interfaceData.nickname}」
                            <span style="margin-left: auto; background: var(--interface-color); color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 1rem;">スコア: ${data.interfaceOS.score}</span>
                        </h3>
                        
                        <!-- 基本情報バー -->
                        ${interfaceData.id ? `
                            <div style="display: flex; gap: var(--spacing-md); margin-bottom: var(--spacing-md); padding: var(--spacing-sm); background: linear-gradient(90deg, var(--interface-light) 0%, transparent 100%); border-radius: 6px; font-size: 0.85rem;">
                                <span>📍 第${interfaceData.id}卦</span>
                                <span>卦象: ${interfaceData.symbol || ''}</span>
                                <span>五行: ${interfaceData.element || ''}</span>
                            </div>
                        ` : ''}
                        
                        ${interfaceData.asInterfaceOS ? `
                            <!-- プロファイル -->
                            <div style="background: var(--gray-50); padding: var(--spacing-md); border-radius: 8px; margin-bottom: var(--spacing-md);">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">🔗 ${interfaceData.asInterfaceOS.profile.type}</div>
                                <p style="margin: 0 0 0.5rem 0;">${interfaceData.asInterfaceOS.profile.description}</p>
                                ${interfaceData.asInterfaceOS.profile.metaphor ? `
                                    <p style="margin: 0; font-size: 0.9rem; color: var(--gray-600); font-style: italic;">
                                        📖 ${interfaceData.asInterfaceOS.profile.metaphor}
                                    </p>
                                ` : ''}
                            </div>

                            <!-- コミュニケーションスタイル -->
                            <div style="margin-bottom: var(--spacing-md);">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">🗣️ コミュニケーションスタイル</div>
                                <div style="display: grid; gap: var(--spacing-sm);">
                                    <div>
                                        <span style="font-weight: 500;">話し方:</span> ${interfaceData.asInterfaceOS.howToTalk.style}
                                    </div>
                                    <div style="background: var(--interface-light); padding: var(--spacing-sm); border-radius: 6px;">
                                        <strong>例:</strong> ${interfaceData.asInterfaceOS.howToTalk.example}
                                    </div>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-sm);">
                                        <div style="background: #dcfce7; padding: var(--spacing-sm); border-radius: 6px;">
                                            <div style="font-size: 0.9rem; color: #166534;">
                                                <strong>✅ 得意:</strong> ${interfaceData.asInterfaceOS.howToTalk.goodAt}
                                            </div>
                                        </div>
                                        ${interfaceData.asInterfaceOS.howToTalk.notGoodAt ? `
                                            <div style="background: #fee2e2; padding: var(--spacing-sm); border-radius: 6px;">
                                                <div style="font-size: 0.9rem; color: #991b1b;">
                                                    <strong>⚠️ 苦手:</strong> ${interfaceData.asInterfaceOS.howToTalk.notGoodAt}
                                                </div>
                                            </div>
                                        ` : ''}
                                    </div>
                                </div>
                            </div>

                            <!-- 最適環境 -->
                            ${interfaceData.asInterfaceOS.bestEnvironment ? `
                                <div style="margin-bottom: var(--spacing-md); background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%); padding: var(--spacing-md); border-radius: 8px;">
                                    <div style="font-weight: 600; margin-bottom: 0.5rem;">🌟 最適環境</div>
                                    <div style="display: grid; gap: var(--spacing-sm);">
                                        <div style="font-size: 0.9rem;">
                                            <strong>場所:</strong> ${interfaceData.asInterfaceOS.bestEnvironment.where}
                                        </div>
                                        <div style="font-size: 0.9rem;">
                                            <strong>例:</strong> ${interfaceData.asInterfaceOS.bestEnvironment.example}
                                        </div>
                                        <div style="font-size: 0.9rem;">
                                            <strong>相性の良い人:</strong> ${interfaceData.asInterfaceOS.bestEnvironment.withWho}
                                        </div>
                                        ${interfaceData.asInterfaceOS.bestEnvironment.avoid ? `
                                            <div style="font-size: 0.9rem; color: #7c2d12;">
                                                <strong>避けるべき環境:</strong> ${interfaceData.asInterfaceOS.bestEnvironment.avoid}
                                            </div>
                                        ` : ''}
                                    </div>
                                </div>
                            ` : ''}

                            <!-- 関係性のコツ -->
                            ${interfaceData.asInterfaceOS.relationshipTips ? `
                                <div style="background: var(--gray-50); padding: var(--spacing-md); border-radius: 8px;">
                                    <div style="font-weight: 600; margin-bottom: 0.5rem;">💝 関係性のコツ</div>
                                    <div style="display: grid; gap: var(--spacing-sm);">
                                        <div style="font-size: 0.9rem;">
                                            <strong>👍 強み:</strong> ${interfaceData.asInterfaceOS.relationshipTips.strength}
                                        </div>
                                        <div style="font-size: 0.9rem;">
                                            <strong>⚠️ 弱み:</strong> ${interfaceData.asInterfaceOS.relationshipTips.weakness}
                                        </div>
                                        <div style="font-size: 0.9rem; background: #fef3c7; padding: var(--spacing-sm); border-radius: 6px;">
                                            <strong>💡 アドバイス:</strong> ${interfaceData.asInterfaceOS.relationshipTips.advice}
                                        </div>
                                    </div>
                                </div>
                            ` : ''}
                        ` : `
                            <div style="background: var(--gray-50); padding: var(--spacing-md); border-radius: 8px;">
                                <p style="margin: 0;">Interface OSとしての詳細データを表示</p>
                            </div>
                        `}
                    </section>

                    <!-- SafeMode OS詳細 -->
                    <section style="background: white; border: 1px solid var(--gray-200); border-radius: 12px; padding: var(--spacing-lg); border-top: 4px solid var(--safemode-color);">
                        <h3 style="display: flex; align-items: center; gap: var(--spacing-sm); margin-bottom: var(--spacing-lg);">
                            ${safeData.emoji} SafeMode OS: ${data.safeModeOS.hexagram}「${safeData.nickname}」
                            <span style="margin-left: auto; background: var(--safemode-color); color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 1rem;">スコア: ${data.safeModeOS.score}</span>
                        </h3>
                        
                        <!-- 基本情報バー -->
                        ${safeData.id ? `
                            <div style="display: flex; gap: var(--spacing-md); margin-bottom: var(--spacing-md); padding: var(--spacing-sm); background: linear-gradient(90deg, var(--safemode-light) 0%, transparent 100%); border-radius: 6px; font-size: 0.85rem;">
                                <span>📍 第${safeData.id}卦</span>
                                <span>卦象: ${safeData.symbol || ''}</span>
                                <span>五行: ${safeData.element || ''}</span>
                            </div>
                        ` : ''}
                        
                        ${safeData.asSafeModeOS ? `
                            <!-- プロファイル -->
                            <div style="background: var(--gray-50); padding: var(--spacing-md); border-radius: 8px; margin-bottom: var(--spacing-md);">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">🛡️ ${safeData.asSafeModeOS.profile.type}</div>
                                <p style="margin: 0 0 0.5rem 0;">${safeData.asSafeModeOS.profile.description}</p>
                                ${safeData.asSafeModeOS.profile.metaphor ? `
                                    <p style="margin: 0; font-size: 0.9rem; color: var(--gray-600); font-style: italic;">
                                        📖 ${safeData.asSafeModeOS.profile.metaphor}
                                    </p>
                                ` : ''}
                            </div>

                            <!-- ストレス対処法 -->
                            <div style="margin-bottom: var(--spacing-md);">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">😰 ストレス対処法</div>
                                <div style="display: grid; gap: var(--spacing-sm);">
                                    <div>
                                        <strong>対処方法:</strong> ${safeData.asSafeModeOS.stressResponse.whatYouDo}
                                    </div>
                                    <div style="background: var(--safemode-light); padding: var(--spacing-sm); border-radius: 6px;">
                                        <strong>例:</strong> ${safeData.asSafeModeOS.stressResponse.example}
                                    </div>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-sm);">
                                        <div style="background: #dcfce7; padding: var(--spacing-sm); border-radius: 6px;">
                                            <div style="font-size: 0.9rem; color: #166534;">
                                                <strong>👍 良い点:</strong> ${safeData.asSafeModeOS.stressResponse.goodPoint}
                                            </div>
                                        </div>
                                        <div style="background: #fee2e2; padding: var(--spacing-sm); border-radius: 6px;">
                                            <div style="font-size: 0.9rem; color: #991b1b;">
                                                <strong>⚠️ 注意点:</strong> ${safeData.asSafeModeOS.stressResponse.badPoint}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 緊急モード -->
                            ${safeData.asSafeModeOS.emergencyMode ? `
                                <div style="margin-bottom: var(--spacing-md); background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%); padding: var(--spacing-md); border-radius: 8px;">
                                    <div style="font-weight: 600; margin-bottom: 0.5rem;">🚨 緊急モード</div>
                                    <div style="display: grid; gap: var(--spacing-sm);">
                                        <div style="font-size: 0.9rem;">
                                            <strong>反応:</strong> ${safeData.asSafeModeOS.emergencyMode.whatHappens}
                                        </div>
                                        <div style="background: white; padding: var(--spacing-sm); border-radius: 6px;">
                                            <strong>例:</strong> ${safeData.asSafeModeOS.emergencyMode.example}
                                        </div>
                                        ${safeData.asSafeModeOS.emergencyMode.recovery ? `
                                            <div style="font-size: 0.9rem;">
                                                <strong>回復プロセス:</strong> ${safeData.asSafeModeOS.emergencyMode.recovery}
                                            </div>
                                        ` : ''}
                                        <div style="font-size: 0.9rem;">
                                            <strong>⏱️ 回復時間:</strong> ${safeData.asSafeModeOS.emergencyMode.timeToRecover}
                                        </div>
                                    </div>
                                </div>
                            ` : ''}

                            <!-- 回復方法 -->
                            ${safeData.asSafeModeOS.howToRecover ? `
                                <div style="background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%); padding: var(--spacing-md); border-radius: 8px;">
                                    <div style="font-weight: 600; margin-bottom: 0.5rem;">💚 回復方法</div>
                                    <div style="display: grid; gap: var(--spacing-sm);">
                                        <div style="font-size: 0.9rem;">
                                            <strong>ベストな方法:</strong> ${safeData.asSafeModeOS.howToRecover.bestWay}
                                        </div>
                                        <div style="background: white; padding: var(--spacing-sm); border-radius: 6px;">
                                            <strong>例:</strong> ${safeData.asSafeModeOS.howToRecover.example}
                                        </div>
                                        ${safeData.asSafeModeOS.howToRecover.environment ? `
                                            <div style="font-size: 0.9rem;">
                                                <strong>🏡 環境:</strong> ${safeData.asSafeModeOS.howToRecover.environment}
                                            </div>
                                        ` : ''}
                                        ${safeData.asSafeModeOS.howToRecover.support ? `
                                            <div style="font-size: 0.9rem;">
                                                <strong>🤝 サポート:</strong> ${safeData.asSafeModeOS.howToRecover.support}
                                            </div>
                                        ` : ''}
                                    </div>
                                </div>
                            ` : ''}
                        ` : `
                            <div style="background: var(--gray-50); padding: var(--spacing-md); border-radius: 8px;">
                                <p style="margin: 0;">SafeMode OSとしての詳細データを表示</p>
                            </div>
                        `}
                    </section>
                </div>

                <!-- OSバランス分析（全データ活用） -->
                <section style="background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%); border-radius: 12px; padding: var(--spacing-xl); margin-top: var(--spacing-xl);">
                    <h2 class="section-title">
                        <span>⚖️</span>
                        OSバランス総合分析
                    </h2>
                    
                    <!-- 現在の組み合わせ表示 -->
                    <div style="background: white; padding: var(--spacing-lg); border-radius: 8px; margin-bottom: var(--spacing-lg); box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                        <div style="font-weight: 600; margin-bottom: var(--spacing-md); font-size: 1.1rem; color: var(--gray-900);">
                            📊 現在のOS構成
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md);">
                            <div style="display: flex; align-items: center; gap: var(--spacing-sm); padding: var(--spacing-sm); background: linear-gradient(90deg, var(--engine-light) 0%, transparent 100%); border-radius: 6px;">
                                <span style="font-size: 1.5rem;">${engineData.emoji}</span>
                                <div>
                                    <div style="font-size: 0.85rem; color: var(--gray-600);">Engine OS</div>
                                    <div style="font-weight: 600;">${data.engineOS.hexagram}「${engineData.nickname}」</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: var(--spacing-sm); padding: var(--spacing-sm); background: linear-gradient(90deg, var(--interface-light) 0%, transparent 100%); border-radius: 6px;">
                                <span style="font-size: 1.5rem;">${interfaceData.emoji}</span>
                                <div>
                                    <div style="font-size: 0.85rem; color: var(--gray-600);">Interface OS</div>
                                    <div style="font-weight: 600;">${data.interfaceOS.hexagram}「${interfaceData.nickname}」</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: var(--spacing-sm); padding: var(--spacing-sm); background: linear-gradient(90deg, var(--safemode-light) 0%, transparent 100%); border-radius: 6px;">
                                <span style="font-size: 1.5rem;">${safeData.emoji}</span>
                                <div>
                                    <div style="font-size: 0.85rem; color: var(--gray-600);">SafeMode OS</div>
                                    <div style="font-weight: 600;">${data.safeModeOS.hexagram}「${safeData.nickname}」</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: grid; gap: var(--spacing-lg);">
                        <!-- Engine OSバランス -->
                        ${engineData.osBalance ? `
                            <div style="background: white; padding: var(--spacing-md); border-radius: 8px; border-left: 4px solid var(--engine-color);">
                                <div style="font-weight: 600; margin-bottom: 0.5rem; color: var(--engine-dark);">
                                    🚀 Engine OS（${data.engineOS.hexagram}）のバランス
                                </div>
                                <div style="display: grid; gap: var(--spacing-sm);">
                                    <div style="font-size: 0.9rem;">
                                        <strong>理想的なバランス:</strong> ${engineData.osBalance.idealBalance}
                                    </div>
                                    ${engineData.osBalance.whenBalanced ? `
                                        <div style="font-size: 0.9rem; background: #dcfce7; padding: var(--spacing-sm); border-radius: 6px;">
                                            <strong>✅ バランスが取れている時:</strong> ${engineData.osBalance.whenBalanced}
                                        </div>
                                    ` : ''}
                                    ${engineData.osBalance.whenImbalanced ? `
                                        <div style="font-size: 0.9rem; background: #fee2e2; padding: var(--spacing-sm); border-radius: 6px;">
                                            <strong>⚠️ バランスが崩れた時:</strong> ${engineData.osBalance.whenImbalanced}
                                        </div>
                                    ` : ''}
                                    ${engineData.osBalance.tip ? `
                                        <div style="font-size: 0.9rem; background: #fef3c7; padding: var(--spacing-sm); border-radius: 6px;">
                                            <strong>💡 ヒント:</strong> ${engineData.osBalance.tip}
                                        </div>
                                    ` : ''}
                                </div>
                            </div>
                        ` : ''}

                        <!-- Interface OSバランス -->
                        ${interfaceData.osBalance ? `
                            <div style="background: white; padding: var(--spacing-md); border-radius: 8px; border-left: 4px solid var(--interface-color);">
                                <div style="font-weight: 600; margin-bottom: 0.5rem; color: var(--interface-dark);">
                                    🔗 Interface OS（${data.interfaceOS.hexagram}）のバランス
                                </div>
                                <div style="display: grid; gap: var(--spacing-sm);">
                                    <div style="font-size: 0.9rem;">
                                        <strong>理想的なバランス:</strong> ${interfaceData.osBalance.idealBalance}
                                    </div>
                                    ${interfaceData.osBalance.whenBalanced ? `
                                        <div style="font-size: 0.9rem; background: #dcfce7; padding: var(--spacing-sm); border-radius: 6px;">
                                            <strong>✅ バランスが取れている時:</strong> ${interfaceData.osBalance.whenBalanced}
                                        </div>
                                    ` : ''}
                                    ${interfaceData.osBalance.whenImbalanced ? `
                                        <div style="font-size: 0.9rem; background: #fee2e2; padding: var(--spacing-sm); border-radius: 6px;">
                                            <strong>⚠️ バランスが崩れた時:</strong> ${interfaceData.osBalance.whenImbalanced}
                                        </div>
                                    ` : ''}
                                    ${interfaceData.osBalance.tip ? `
                                        <div style="font-size: 0.9rem; background: #fef3c7; padding: var(--spacing-sm); border-radius: 6px;">
                                            <strong>💡 ヒント:</strong> ${interfaceData.osBalance.tip}
                                        </div>
                                    ` : ''}
                                </div>
                            </div>
                        ` : ''}

                        <!-- SafeMode OSバランス -->
                        ${safeData.osBalance ? `
                            <div style="background: white; padding: var(--spacing-md); border-radius: 8px; border-left: 4px solid var(--safemode-color);">
                                <div style="font-weight: 600; margin-bottom: 0.5rem; color: var(--safemode-dark);">
                                    🛡️ SafeMode OS（${data.safeModeOS.hexagram}）のバランス
                                </div>
                                <div style="display: grid; gap: var(--spacing-sm);">
                                    <div style="font-size: 0.9rem;">
                                        <strong>理想的なバランス:</strong> ${safeData.osBalance.idealBalance}
                                    </div>
                                    ${safeData.osBalance.whenBalanced ? `
                                        <div style="font-size: 0.9rem; background: #dcfce7; padding: var(--spacing-sm); border-radius: 6px;">
                                            <strong>✅ バランスが取れている時:</strong> ${safeData.osBalance.whenBalanced}
                                        </div>
                                    ` : ''}
                                    ${safeData.osBalance.whenImbalanced ? `
                                        <div style="font-size: 0.9rem; background: #fee2e2; padding: var(--spacing-sm); border-radius: 6px;">
                                            <strong>⚠️ バランスが崩れた時:</strong> ${safeData.osBalance.whenImbalanced}
                                        </div>
                                    ` : ''}
                                    ${safeData.osBalance.tip ? `
                                        <div style="font-size: 0.9rem; background: #fef3c7; padding: var(--spacing-sm); border-radius: 6px;">
                                            <strong>💡 ヒント:</strong> ${safeData.osBalance.tip}
                                        </div>
                                    ` : ''}
                                </div>
                            </div>
                        ` : ''}
                    </div>
                </section>
            `;
        }

        // パターンロード関数
        function loadPattern(patternName) {
            const content = generateDynamicContent(patternName);
            document.getElementById('dynamicContent').innerHTML = content;
        }

        // 初期表示
        window.onload = () => {
            loadPattern('innovator');
        };
    </script>
</body>
</html>