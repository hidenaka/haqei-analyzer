# HAQEIçµ±ä¸€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ  - ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰

## ğŸ“‹ æ¦‚è¦

æœ¬ã‚¬ã‚¤ãƒ‰ã¯ã€HAQEIã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼ã¸ã®çµ±ä¸€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã®æ®µéšçš„ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚’èª¬æ˜ã—ã¾ã™ã€‚
æ—¢å­˜ã®225ãƒ•ã‚¡ã‚¤ãƒ«ã®JavaScriptã‚³ãƒ¼ãƒ‰ã¨ã®100%å¾Œæ–¹äº’æ›æ€§ã‚’ç¶­æŒã—ãªãŒã‚‰ã€0ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ã§ã®ç§»è¡Œã‚’å®Ÿç¾ã—ã¾ã™ã€‚

### ğŸ¯ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆç›®æ¨™

- **0ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ç§»è¡Œ**: ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢ãªã—ã§ã®æ®µéšçš„å°å…¥
- **100%å¾Œæ–¹äº’æ›æ€§**: æ—¢å­˜æ©Ÿèƒ½ã®å®Œå…¨ä¿æŒ
- **æ®µéšçš„ãƒªã‚¹ã‚¯ç®¡ç†**: å„æ®µéšã§ã®æ¤œè¨¼ã¨å®‰å…¨ãªé€²è¡Œ
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¶­æŒ**: æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¸ã®å½±éŸ¿æœ€å°åŒ–

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

### æ ¸å¿ƒã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

1. **UnifiedErrorHandler.js** - bunenjinå“²å­¦çµ±åˆã®ãƒ¡ã‚¤ãƒ³ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
2. **GlobalErrorSystemInitializer.js** - ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®åˆæœŸåŒ–ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
3. **HAQEIErrorSystemBootstrap.js** - è‡ªå‹•ãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—ãƒ­ãƒ¼ãƒ€ãƒ¼
4. **HAQEIConfigurationManager.js** - å‹•çš„è¨­å®šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
5. **OSAnalyzerIntegrationPatch.js** - os_analyzer.htmlçµ±åˆãƒ‘ãƒƒãƒ
6. **BackwardCompatibilityValidator.js** - å¾Œæ–¹äº’æ›æ€§æ¤œè¨¼ã‚·ã‚¹ãƒ†ãƒ 
7. **HAQEIIntegrationTestSuite.js** - åŒ…æ‹¬çš„çµ±åˆãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ

### çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HAQEIçµ±ä¸€ã‚¨ãƒ©ãƒ¼ã‚·ã‚¹ãƒ†ãƒ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Bootstrap â†’ Initialize â†’ Configure â†’ Integrate â†’ Monitor   â”‚
â”‚     â†“             â†“           â†“          â†“          â†“       â”‚
â”‚  Auto-Load    System Init   Dynamic    Existing    Real-    â”‚
â”‚  & Setup      & Discovery   Config     Code       time      â”‚
â”‚                                       Wrapper     Metrics   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ 100% å¾Œæ–¹äº’æ›ãƒ¬ã‚¤ãƒ¤ãƒ¼ â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ—¢å­˜HAQEIã‚·ã‚¹ãƒ†ãƒ                           â”‚
â”‚  ErrorHandler | VirtualQuestionFlow | TripleOSEngine       â”‚
â”‚  app.js | HelpSystem | PerformanceOptimizer | ãã®ä»–225ãƒ•ã‚¡ã‚¤ãƒ« â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ˆ æ®µéšçš„ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæˆ¦ç•¥

### Phase 1: æº–å‚™ãƒ»æ¤œè¨¼æ®µéšï¼ˆ1-2æ—¥ï¼‰

#### 1.1 äº‹å‰ç’°å¢ƒç¢ºèª

```bash
# ç¾åœ¨ã®ç’°å¢ƒçŠ¶æ…‹ç¢ºèª
curl -s http://localhost/os_analyzer.html | grep -E "(ErrorHandler|error-handler)" | wc -l

# æ—¢å­˜ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®å‹•ä½œç¢ºèª
open http://localhost/os_analyzer.html
# ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§: window.errorHandler ? "OK" : "NG"
```

#### 1.2 ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ

```bash
# é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp -r public/js/ public/js.backup.$(date +%Y%m%d)
cp public/os_analyzer.html public/os_analyzer.html.backup.$(date +%Y%m%d)

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp claude-mcp-config.json claude-mcp-config.json.backup.$(date +%Y%m%d)
```

#### 1.3 çµ±ä¸€ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚¡ã‚¤ãƒ«ã®é…ç½®

```bash
# æ–°ã—ã„ã‚³ã‚¢ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®
cp js/core/UnifiedErrorHandler.js public/js/core/
cp js/core/GlobalErrorSystemInitializer.js public/js/core/
cp js/core/HAQEIErrorSystemBootstrap.js public/js/core/
cp js/core/HAQEIConfigurationManager.js public/js/core/
cp js/core/OSAnalyzerIntegrationPatch.js public/js/core/
cp js/core/BackwardCompatibilityValidator.js public/js/core/
cp js/core/HAQEIIntegrationTestSuite.js public/js/core/
```

### Phase 2: ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã®çµ±åˆæ¤œè¨¼ï¼ˆ2-3æ—¥ï¼‰

#### 2.1 ãƒ†ã‚¹ãƒˆç’°å¢ƒæ§‹ç¯‰

```html
<!-- test-unified-error-system.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>HAQEIçµ±ä¸€ã‚¨ãƒ©ãƒ¼ã‚·ã‚¹ãƒ†ãƒ  ãƒ†ã‚¹ãƒˆ</title>
    
    <!-- æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ èª­ã¿è¾¼ã¿ -->
    <script src="/js/shared/core/ErrorHandler.js"></script>
    <script src="/js/error-handler.js"></script>
    
    <!-- çµ±ä¸€ã‚·ã‚¹ãƒ†ãƒ èª­ã¿è¾¼ã¿ -->
    <script src="/js/core/HAQEIConfigurationManager.js"></script>
    <script src="/js/core/UnifiedErrorHandler.js"></script>
    <script src="/js/core/GlobalErrorSystemInitializer.js"></script>
    <script src="/js/core/HAQEIErrorSystemBootstrap.js"></script>
    <script src="/js/core/BackwardCompatibilityValidator.js"></script>
    <script src="/js/core/HAQEIIntegrationTestSuite.js"></script>
</head>
<body>
    <div id="test-container">
        <h1>çµ±ä¸€ã‚¨ãƒ©ãƒ¼ã‚·ã‚¹ãƒ†ãƒ  ãƒ†ã‚¹ãƒˆç’°å¢ƒ</h1>
        <button onclick="runIntegrationTests()">çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
        <button onclick="runCompatibilityTests()">äº’æ›æ€§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
        <div id="test-results"></div>
    </div>
    
    <script>
        // ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
        async function runIntegrationTests() {
            console.log("ğŸ§ª çµ±åˆãƒ†ã‚¹ãƒˆé–‹å§‹...");
            
            const testSuite = new HAQEIIntegrationTestSuite({
                verbose: true,
                generateReport: true
            });
            
            const results = await testSuite.runTests();
            
            document.getElementById('test-results').innerHTML = `
                <h2>çµ±åˆãƒ†ã‚¹ãƒˆçµæœ</h2>
                <p>æˆåŠŸç‡: ${results.success ? '100%' : (results.summary.passed / results.summary.total * 100).toFixed(1)}%</p>
                <p>å®Ÿè¡Œæ™‚é–“: ${results.metrics.duration.toFixed(2)}ms</p>
                <pre>${JSON.stringify(results.summary, null, 2)}</pre>
            `;
        }
        
        async function runCompatibilityTests() {
            console.log("âœ… å¾Œæ–¹äº’æ›æ€§ãƒ†ã‚¹ãƒˆé–‹å§‹...");
            
            const validator = new BackwardCompatibilityValidator({
                strictMode: true,
                continuousMonitoring: false
            });
            
            const results = await validator.runValidation();
            
            document.getElementById('test-results').innerHTML = `
                <h2>äº’æ›æ€§ãƒ†ã‚¹ãƒˆçµæœ</h2>
                <p>äº’æ›æ€§ã‚¹ã‚³ã‚¢: ${results.results.compatibilityScore.toFixed(1)}%</p>
                <p>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ${results.results.overallStatus}</p>
                <pre>${JSON.stringify(results.results.recommendations, null, 2)}</pre>
            `;
        }
    </script>
</body>
</html>
```

#### 2.2 ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚¢ã‚¯ã‚»ã‚¹
open http://localhost/test-unified-error-system.html

# è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
curl -X POST http://localhost/api/test/integration
curl -X POST http://localhost/api/test/compatibility
```

### Phase 3: æ®µéšçš„æœ¬ç•ªçµ±åˆï¼ˆ3-5æ—¥ï¼‰

#### 3.1 Stage 1: Bootstrapèª­ã¿è¾¼ã¿ï¼ˆãƒªã‚¹ã‚¯: æ¥µä½ï¼‰

```html
<!-- os_analyzer.html ã¸ã®æœ€å°çµ±åˆ -->
<head>
    <!-- æ—¢å­˜ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆä¿æŒï¼‰ -->
    <script src="/js/user-friendly-error-handler-fixed.js"></script>
    
    <!-- æ–°è¦è¿½åŠ : Bootstrapï¼ˆè‡ªå‹•åˆæœŸåŒ–ç„¡åŠ¹ï¼‰ -->
    <script src="/js/core/HAQEIErrorSystemBootstrap.js"></script>
    <script>
        // Bootstrapç„¡åŠ¹åŒ–ï¼ˆå®‰å…¨ç¢ºèªã®ãŸã‚ï¼‰
        if (window.HAQEIErrorSystemBootstrap) {
            window.HAQEIErrorSystemBootstrap.prototype.config = 
                Object.assign(window.HAQEIErrorSystemBootstrap.prototype.config || {}, {
                    autoInitialize: false
                });
        }
    </script>
</head>
```

**æ¤œè¨¼é …ç›®:**
- ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿é€Ÿåº¦ã«å¤‰åŒ–ãŒãªã„ã“ã¨
- æ—¢å­˜ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒæ­£å¸¸å‹•ä½œã™ã‚‹ã“ã¨
- ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„ã“ã¨

#### 3.2 Stage 2: è¨­å®šãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼çµ±åˆï¼ˆãƒªã‚¹ã‚¯: ä½ï¼‰

```html
<!-- è¨­å®šãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼è¿½åŠ  -->
<script src="/js/core/HAQEIConfigurationManager.js"></script>
<script>
    // è¨­å®šãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼åˆæœŸåŒ–ï¼ˆé–‹ç™ºãƒ¢ãƒ¼ãƒ‰ï¼‰
    if (window.HAQEIConfigurationManager) {
        window.haqeiConfig = new HAQEIConfigurationManager({
            system: { 
                debugMode: true,
                environment: 'staging' 
            }
        });
    }
</script>
```

**æ¤œè¨¼é …ç›®:**
- è¨­å®šå¤‰æ›´ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§åæ˜ ã•ã‚Œã‚‹ã“ã¨
- LocalStorageã«è¨­å®šãŒä¿å­˜ã•ã‚Œã‚‹ã“ã¨
- æ—¢å­˜æ©Ÿèƒ½ã«å½±éŸ¿ãŒãªã„ã“ã¨

#### 3.3 Stage 3: çµ±ä¸€ãƒãƒ³ãƒ‰ãƒ©ãƒ¼å°å…¥ï¼ˆãƒªã‚¹ã‚¯: ä¸­ï¼‰

```html
<!-- çµ±ä¸€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼è¿½åŠ  -->
<script src="/js/core/UnifiedErrorHandler.js"></script>
<script src="/js/core/GlobalErrorSystemInitializer.js"></script>
<script>
    // æ®µéšçš„åˆæœŸåŒ–
    document.addEventListener('DOMContentLoaded', async function() {
        try {
            // æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®ä¸¦è¡Œé‹ç”¨ãƒ¢ãƒ¼ãƒ‰
            if (window.GlobalErrorSystemInitializer) {
                const initializer = new GlobalErrorSystemInitializer({
                    migrationStrategy: 'gradual',
                    backwardCompatibility: true,
                    debugMode: true
                });
                
                const result = await initializer.initialize();
                console.log('ğŸ¯ çµ±ä¸€ã‚¨ãƒ©ãƒ¼ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–:', result);
            }
        } catch (error) {
            console.warn('âš ï¸ çµ±ä¸€ã‚¨ãƒ©ãƒ¼ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–å¤±æ•—ï¼ˆæ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã§ç¶™ç¶šï¼‰:', error);
        }
    });
</script>
```

**æ¤œè¨¼é …ç›®:**
- æ—¢å­˜ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¨çµ±ä¸€ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®ä¸¦è¡Œå‹•ä½œ
- ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¤‡ãŒãªã„ã“ã¨
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–ãŒãªã„ã“ã¨

#### 3.4 Stage 4: å®Œå…¨çµ±åˆï¼ˆãƒªã‚¹ã‚¯: ä¸­é«˜ï¼‰

```html
<!-- OSAnalyzerçµ±åˆãƒ‘ãƒƒãƒé©ç”¨ -->
<script src="/js/core/OSAnalyzerIntegrationPatch.js"></script>
<script>
    // å®Œå…¨çµ±åˆãƒ¢ãƒ¼ãƒ‰
    document.addEventListener('DOMContentLoaded', function() {
        // çµ±åˆãƒ‘ãƒƒãƒè‡ªå‹•é©ç”¨ï¼ˆæ—¢ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§å®Ÿè£…æ¸ˆã¿ï¼‰
        console.log('ğŸ”§ OSAnalyzerçµ±åˆãƒ‘ãƒƒãƒé©ç”¨æ¸ˆã¿');
    });
</script>
```

**æ¤œè¨¼é …ç›®:**
- å…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒçµ±ä¸€ã‚·ã‚¹ãƒ†ãƒ çµŒç”±ã§å‹•ä½œ
- ã‚¨ãƒ©ãƒ¼å›å¾©æ©Ÿèƒ½ã®æ­£å¸¸å‹•ä½œ
- UI/UX ã®ç¶­æŒ

### Phase 4: ç›£è¦–ãƒ»æœ€é©åŒ–æ®µéšï¼ˆç¶™ç¶šé‹ç”¨ï¼‰

#### 4.1 ç¶™ç¶šç›£è¦–ã‚·ã‚¹ãƒ†ãƒ 

```javascript
// ç¶™ç¶šç›£è¦–ã®è¨­å®š
window.haqeiConfig.set('performance.enableMetricsCollection', true);
window.haqeiConfig.set('system.verboseLogging', false); // æœ¬ç•ªã§ã¯ç„¡åŠ¹

// ç›£è¦–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
setInterval(() => {
    if (window.HAQEIErrorHandler) {
        const stats = window.HAQEIErrorHandler.getErrorStatistics();
        console.log('ğŸ“Š ã‚¨ãƒ©ãƒ¼çµ±è¨ˆ:', stats);
        
        // ç•°å¸¸æ¤œçŸ¥
        if (stats.recent > 10) {
            console.warn('âš ï¸ ç•°å¸¸: ç›´è¿‘ã®ã‚¨ãƒ©ãƒ¼æ•°ãŒå¤šã„', stats);
        }
    }
}, 60000); // 1åˆ†é–“éš”
```

#### 4.2 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

```javascript
// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
const performanceObserver = new PerformanceObserver((list) => {
    for (const entry of list.getEntries()) {
        if (entry.duration > 100) { // 100msä»¥ä¸Šã®å‡¦ç†
            console.warn('âš ï¸ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è­¦å‘Š:', entry.name, entry.duration);
        }
    }
});

performanceObserver.observe({ entryTypes: ['measure', 'navigation'] });
```

## ğŸš¨ ç·Šæ€¥æ™‚å¯¾å¿œæ‰‹é †

### ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ‰‹é †

#### æ®µéšçš„ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯

```bash
# Stage 4ã‹ã‚‰Stage 3ã¸ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
sed -i.bak '/OSAnalyzerIntegrationPatch/d' public/os_analyzer.html

# Stage 3ã‹ã‚‰Stage 2ã¸ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯  
sed -i.bak '/UnifiedErrorHandler\|GlobalErrorSystemInitializer/d' public/os_analyzer.html

# Stage 2ã‹ã‚‰Stage 1ã¸ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
sed -i.bak '/HAQEIConfigurationManager/d' public/os_analyzer.html

# å®Œå…¨ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
cp public/os_analyzer.html.backup.$(date +%Y%m%d) public/os_analyzer.html
```

#### ç·Šæ€¥åœæ­¢

```javascript
// ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç·Šæ€¥åœæ­¢
if (window.haqeiErrorBootstrap) {
    window.haqeiErrorBootstrap.cleanup();
}

if (window.HAQEIErrorHandler) {
    window.HAQEIErrorHandler.cleanup();
}

// å¼·åˆ¶çš„ã«æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã«æˆ»ã™
window.HAQEIErrorHandler = null;
```

### å•é¡Œè¨ºæ–­

```javascript
// è¨ºæ–­ã‚³ãƒãƒ³ãƒ‰
function diagnoseHAQEISystem() {
    const report = {
        bootstrap: !!window.haqeiErrorBootstrap,
        unifiedHandler: !!window.HAQEIErrorHandler,
        config: !!window.haqeiConfig,
        integrationPatch: !!window.osAnalyzerPatch,
        compatibility: null,
        performance: null
    };
    
    // äº’æ›æ€§ãƒã‚§ãƒƒã‚¯
    if (window.BackwardCompatibilityValidator) {
        const validator = new BackwardCompatibilityValidator();
        validator.runQuickValidation().then(result => {
            report.compatibility = result;
        });
    }
    
    // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒã‚§ãƒƒã‚¯
    if (performance.memory) {
        report.performance = {
            memory: performance.memory.usedJSHeapSize,
            timing: performance.now()
        };
    }
    
    console.log('ğŸ” HAQEI System Diagnosis:', report);
    return report;
}

// ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§å®Ÿè¡Œ: diagnoseHAQEISystem()
```

## ğŸ“Š ç›£è¦–æŒ‡æ¨™ã¨ã‚¢ãƒ©ãƒ¼ãƒˆ

### é‡è¦æŒ‡æ¨™ï¼ˆKPIï¼‰

1. **ã‚¨ãƒ©ãƒ¼å‡¦ç†æˆåŠŸç‡**: 95%ä»¥ä¸Šç¶­æŒ
2. **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“**: çµ±åˆå‰å¾Œã§20%ä»¥å†…ã®å¢—åŠ 
3. **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: 15%ä»¥å†…ã®å¢—åŠ 
4. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“**: æ—¢å­˜æ©Ÿèƒ½ã®100%å‹•ä½œ

### ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š

```javascript
// ã‚¢ãƒ©ãƒ¼ãƒˆæ¡ä»¶
const alertThresholds = {
    errorRate: 0.05,           // 5%ä»¥ä¸Šã®ã‚¨ãƒ©ãƒ¼ç‡
    responseTime: 200,         // 200msä»¥ä¸Šã®å‡¦ç†æ™‚é–“
    memoryIncrease: 0.20,      // 20%ä»¥ä¸Šã®ãƒ¡ãƒ¢ãƒªå¢—åŠ 
    failedIntegrations: 1      // 1ã¤ã§ã‚‚çµ±åˆå¤±æ•—
};

// ã‚¢ãƒ©ãƒ¼ãƒˆé–¢æ•°
function checkSystemHealth() {
    const health = window.HAQEIErrorHandler.performHealthCheck();
    
    if (health.score < 80) {
        console.error('ğŸš¨ ã‚·ã‚¹ãƒ†ãƒ ãƒ˜ãƒ«ã‚¹ç•°å¸¸:', health);
        // å¿…è¦ã«å¿œã˜ã¦é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ã¨é€£æº
    }
}

setInterval(checkSystemHealth, 300000); // 5åˆ†é–“éš”
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–

### ç¶™ç¶šçš„çµ±åˆãƒ†ã‚¹ãƒˆ

```bash
#!/bin/bash
# ci-test-haqei-integration.sh

echo "ğŸ§ª HAQEIçµ±åˆãƒ†ã‚¹ãƒˆé–‹å§‹..."

# Node.jsã§ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
node << 'EOF'
const puppeteer = require('puppeteer');

(async () => {
    const browser = await puppeteer.launch();
    const page = await browser.newPage();
    
    // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿
    await page.goto('http://localhost/os_analyzer.html');
    
    // çµ±ä¸€ã‚·ã‚¹ãƒ†ãƒ ã®ç¢ºèª
    const systemStatus = await page.evaluate(() => {
        return {
            bootstrap: !!window.haqeiErrorBootstrap,
            unifiedHandler: !!window.HAQEIErrorHandler,
            config: !!window.haqeiConfig,
            integrationPatch: !!window.osAnalyzerPatch
        };
    });
    
    console.log('ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹:', systemStatus);
    
    // çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
    if (systemStatus.unifiedHandler) {
        await page.evaluate(async () => {
            const testSuite = new HAQEIIntegrationTestSuite();
            const results = await testSuite.runTests();
            console.log('âœ… çµ±åˆãƒ†ã‚¹ãƒˆçµæœ:', results.summary);
            return results.success;
        });
    }
    
    await browser.close();
    console.log('ğŸ§ª ãƒ†ã‚¹ãƒˆå®Œäº†');
})();
EOF
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯

```javascript
// performance-benchmark.js
async function runPerformanceBenchmark() {
    const iterations = 100;
    const results = {
        beforeIntegration: [],
        afterIntegration: []
    };
    
    // çµ±åˆå‰ã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ï¼ˆæ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ï¼‰
    for (let i = 0; i < iterations; i++) {
        const start = performance.now();
        
        if (window.errorHandler) {
            await window.errorHandler.handleError(
                new Error(`Benchmark test ${i}`),
                'performance-test'
            );
        }
        
        results.beforeIntegration.push(performance.now() - start);
    }
    
    // çµ±åˆå¾Œã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ï¼ˆçµ±ä¸€ã‚·ã‚¹ãƒ†ãƒ ï¼‰
    for (let i = 0; i < iterations; i++) {
        const start = performance.now();
        
        if (window.HAQEIErrorHandler) {
            await window.HAQEIErrorHandler.handleError(
                new Error(`Benchmark test ${i}`),
                { test: true, iteration: i }
            );
        }
        
        results.afterIntegration.push(performance.now() - start);
    }
    
    // çµæœåˆ†æ
    const avgBefore = results.beforeIntegration.reduce((a, b) => a + b, 0) / iterations;
    const avgAfter = results.afterIntegration.reduce((a, b) => a + b, 0) / iterations;
    const improvement = ((avgBefore - avgAfter) / avgBefore * 100).toFixed(2);
    
    console.log('ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯çµæœ:');
    console.log(`çµ±åˆå‰å¹³å‡: ${avgBefore.toFixed(2)}ms`);
    console.log(`çµ±åˆå¾Œå¹³å‡: ${avgAfter.toFixed(2)}ms`);
    console.log(`æ”¹å–„ç‡: ${improvement}%`);
    
    return { avgBefore, avgAfter, improvement: parseFloat(improvement) };
}
```

## ğŸ“š é‹ç”¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### æ—¥å¸¸é‹ç”¨ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ã‚¨ãƒ©ãƒ¼çµ±è¨ˆã®ç¢ºèªï¼ˆæ—¥æ¬¡ï¼‰
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®ç¢ºèªï¼ˆæ—¥æ¬¡ï¼‰
- [ ] äº’æ›æ€§ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œï¼ˆé€±æ¬¡ï¼‰
- [ ] è¨­å®šãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®å–å¾—ï¼ˆé€±æ¬¡ï¼‰
- [ ] ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæœˆæ¬¡ï¼‰

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

1. **çµ±ä¸€ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒåˆæœŸåŒ–ã•ã‚Œãªã„**
   ```javascript
   // æ‰‹å‹•åˆæœŸåŒ–
   if (!window.HAQEIErrorHandler && window.HAQEIErrorSystemBootstrap) {
       const bootstrap = new HAQEIErrorSystemBootstrap();
       bootstrap.bootstrap().then(result => {
           console.log('æ‰‹å‹•åˆæœŸåŒ–å®Œäº†:', result);
       });
   }
   ```

2. **æ—¢å­˜ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã¨ã®ç«¶åˆ**
   ```javascript
   // ç«¶åˆè§£æ±º
   if (window.haqeiConfig) {
       window.haqeiConfig.set('integration.backwardCompatibility', true);
       window.haqeiConfig.set('integration.migrationStrategy', 'gradual');
   }
   ```

3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–**
   ```javascript
   // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
   if (window.haqeiConfig) {
       window.haqeiConfig.set('performance.enableLazyLoading', true);
       window.haqeiConfig.set('performance.memoryOptimization', true);
   }
   ```

## ğŸ¯ æˆåŠŸåŸºæº–

### Phaseåˆ¥æˆåŠŸåŸºæº–

| Phase | æˆåŠŸåŸºæº– | æ¸¬å®šæ–¹æ³• |
|-------|----------|----------|
| Phase 1 | ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®å®Œäº†ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å–å¾— | æ‰‹å‹•ç¢ºèª |
| Phase 2 | çµ±åˆãƒ†ã‚¹ãƒˆæˆåŠŸç‡95%ä»¥ä¸Š | è‡ªå‹•ãƒ†ã‚¹ãƒˆ |
| Phase 3 | æ—¢å­˜æ©Ÿèƒ½100%å‹•ä½œã€ã‚¨ãƒ©ãƒ¼ç‡5%æœªæº€ | ç›£è¦–æŒ‡æ¨™ |
| Phase 4 | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–15%æœªæº€ | ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ |

### æœ€çµ‚æˆåŠŸåŸºæº–

- âœ… æ—¢å­˜225ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã®100%äº’æ›æ€§
- âœ… 0ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ã§ã®ç§»è¡Œå®Œäº†
- âœ… ã‚¨ãƒ©ãƒ¼å‡¦ç†èƒ½åŠ›ã®å‘ä¸Š
- âœ… é‹ç”¨ç›£è¦–ä½“åˆ¶ã®ç¢ºç«‹

## ğŸ“ ã‚µãƒãƒ¼ãƒˆä½“åˆ¶

### ç·Šæ€¥é€£çµ¡ä½“åˆ¶

1. **ãƒ¬ãƒ™ãƒ«1**: è‡ªå‹•å¾©æ—§ï¼ˆã‚·ã‚¹ãƒ†ãƒ å†…è”µï¼‰
2. **ãƒ¬ãƒ™ãƒ«2**: æ‰‹å‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆé‹ç”¨æ‹…å½“ï¼‰
3. **ãƒ¬ãƒ™ãƒ«3**: é–‹ç™ºãƒãƒ¼ãƒ ä»‹å…¥ï¼ˆé‡å¤§éšœå®³ï¼‰

### é€£çµ¡å…ˆ

- é–‹ç™ºãƒãƒ¼ãƒ : developer@haqei.com
- é‹ç”¨ãƒãƒ¼ãƒ : operations@haqei.com
- ç·Šæ€¥æ™‚: emergency@haqei.com

---

**ğŸ“ æ³¨æ„äº‹é …:**
- æœ¬ã‚¬ã‚¤ãƒ‰ã¯æ®µéšçš„ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚’å‰æã¨ã—ã¦ã„ã¾ã™
- å„æ®µéšã§å¿…ãšæ¤œè¨¼ã‚’è¡Œã£ã¦ã‹ã‚‰æ¬¡æ®µéšã«é€²ã‚“ã§ãã ã•ã„
- å•é¡Œç™ºç”Ÿæ™‚ã¯è¿…é€Ÿã«ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
- å®šæœŸçš„ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’å–å¾—ã—ã€å¾©æ—§å¯èƒ½æ€§ã‚’ç¢ºä¿ã—ã¦ãã ã•ã„

**ğŸ“… æƒ³å®šã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«:**
- Phase 1: 1-2æ—¥
- Phase 2: 2-3æ—¥  
- Phase 3: 3-5æ—¥
- Phase 4: ç¶™ç¶šé‹ç”¨

**åˆè¨ˆæ‰€è¦æœŸé–“: ç´„1-2é€±é–“**

**æœ€çµ‚æ›´æ–°:** 2025å¹´8æœˆ5æ—¥
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³:** 1.0.0-deployment-guide