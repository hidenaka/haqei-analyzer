<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Results.html ãƒ‡ãƒ¼ã‚¿æŠ•å…¥ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f172a;
            color: #f8fafc;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .section {
            background: rgba(30, 41, 59, 0.95);
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        button {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin: 0.5rem;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }
        .status {
            padding: 1rem;
            margin: 1rem 0;
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 8px;
        }
        pre {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.875rem;
        }
        .error {
            background: rgba(239, 68, 68, 0.1);
            border-color: rgba(239, 68, 68, 0.3);
        }
    </style>
</head>
<body>
    <h1>Results.html ãƒ‡ãƒ¼ã‚¿æŠ•å…¥ãƒ†ã‚¹ãƒˆ</h1>
    
    <div class="section">
        <h2>ğŸ¯ ãƒ†ã‚¹ãƒˆæ¦‚è¦</h2>
        <p>results.htmlã«æ­£ã—ã„åˆ†æçµæœãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ã—ã¦ã€ç”»é¢ãŒæ­£å¸¸ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
        
        <button onclick="injectCompleteData()">å®Œå…¨ãªåˆ†æçµæœã‚’æŠ•å…¥</button>
        <button onclick="openResultsPage()">Results.htmlã‚’é–‹ã</button>
        <button onclick="checkCurrentData()">ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª</button>
        <button onclick="clearAllData()">å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢</button>
        
        <div id="status" class="status" style="display: none;"></div>
    </div>
    
    <div class="section">
        <h2>ğŸ“Š æŠ•å…¥ã™ã‚‹åˆ†æçµæœãƒ‡ãƒ¼ã‚¿</h2>
        <pre id="data-preview"></pre>
    </div>

    <script>
        // å®Œå…¨ãªåˆ†æçµæœãƒ‡ãƒ¼ã‚¿
        const completeAnalysisData = {
            engineOS: {
                hexagramId: "11",
                hexagramName: "åœ°å¤©æ³°",
                hexagramSymbol: "â˜·â˜°",
                primaryElement: "earth",
                traits: ["å®‰å®šæ€§", "èª¿å’Œ", "è±Šã‹ã•"],
                scores: {
                    authenticity: 85,
                    consistency: 78,
                    influence: 82
                },
                description: "ã‚ãªãŸã®ä¾¡å€¤è¦³ã‚·ã‚¹ãƒ†ãƒ ã¯ã€Œåœ°å¤©æ³°ã€ã®ã‚ˆã†ã«ã€å¤©åœ°ãŒèª¿å’Œã—ã€ã™ã¹ã¦ãŒé †èª¿ã«é€²ã‚€çŠ¶æ…‹ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚å†…ãªã‚‹ä¾¡å€¤è¦³ãŒæ˜ç¢ºã§ã€ãã‚Œã«åŸºã¥ã„ã¦å®‰å®šã—ãŸåˆ¤æ–­ãŒã§ãã¾ã™ã€‚"
            },
            interfaceOS: {
                hexagramId: "17",
                hexagramName: "æ²¢é›·éš",
                hexagramSymbol: "â˜±â˜³",
                primaryElement: "lake",
                traits: ["æŸ”è»Ÿæ€§", "é©å¿œåŠ›", "å…±æ„ŸåŠ›"],
                scores: {
                    adaptability: 75,
                    expressiveness: 70,
                    socialAlignment: 73
                },
                description: "ç¤¾ä¼šçš„ãªå ´é¢ã§ã¯ã€Œæ²¢é›·éšã€ã®ã‚ˆã†ã«ã€çŠ¶æ³ã«å¿œã˜ã¦æŸ”è»Ÿã«å¯¾å¿œã—ã€äººã€…ã¨ã®èª¿å’Œã‚’é‡è¦–ã—ã¾ã™ã€‚ç›¸æ‰‹ã«åˆã‚ã›ãªãŒã‚‰ã‚‚ã€è‡ªåˆ†ã‚‰ã—ã•ã‚’å¤±ã‚ãªã„çµ¶å¦™ãªãƒãƒ©ãƒ³ã‚¹ã‚’ä¿ã£ã¦ã„ã¾ã™ã€‚"
            },
            safeModeOS: {
                hexagramId: "51",
                hexagramName: "éœ‡ç‚ºé›·",
                hexagramSymbol: "â˜³â˜³",
                primaryElement: "thunder",
                traits: ["ç¬ç™ºåŠ›", "è­¦æˆ’å¿ƒ", "å›å¾©åŠ›"],
                scores: {
                    reactivity: 88,
                    resilience: 80,
                    protectionLevel: 85
                },
                description: "é˜²å¾¡ã‚·ã‚¹ãƒ†ãƒ ã¯ã€Œéœ‡ç‚ºé›·ã€ã®ã‚ˆã†ã«ã€å±æ©Ÿã‚’ç´ æ—©ãå¯ŸçŸ¥ã—ã€é›·é³´ã®ã‚ˆã†ãªç¬ç™ºåŠ›ã§å¯¾å¿œã—ã¾ã™ã€‚ä¸€æ™‚çš„ã«å‹•æºã—ã¦ã‚‚ã€ã™ãã«ç«‹ã¡ç›´ã‚‹å¼·ã„å›å¾©åŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚"
            },
            tripleOSBalance: {
                dominantOS: "engineOS",
                balanceScore: 78,
                interactions: {
                    engineInterface: {
                        compatibility: 75,
                        dynamic: "complementary",
                        description: "ä¾¡å€¤è¦³ã¨ç¤¾ä¼šçš„è¡¨ç¾ãŒè‰¯å¥½ã«é€£æº"
                    },
                    engineSafeMode: {
                        compatibility: 68,
                        dynamic: "tension",
                        description: "ç†æƒ³ã¨é˜²å¾¡æœ¬èƒ½ã®é–“ã«å‰µé€ çš„ãªç·Šå¼µ"
                    },
                    interfaceSafeMode: {
                        compatibility: 72,
                        dynamic: "supportive",
                        description: "ç¤¾ä¼šæ€§ã¨é˜²å¾¡ãŒç›¸äº’ã«ã‚µãƒãƒ¼ãƒˆ"
                    }
                }
            },
            insights: {
                core: "ã‚ãªãŸã¯æ˜ç¢ºãªä¾¡å€¤è¦³ã‚’æŒã¡ãªãŒã‚‰ã€çŠ¶æ³ã«å¿œã˜ã¦æŸ”è»Ÿã«å¯¾å¿œã§ãã‚‹ç¨€æœ‰ãªãƒãƒ©ãƒ³ã‚¹ã‚’æŒã£ã¦ã„ã¾ã™ã€‚",
                strengths: [
                    "ä¾¡å€¤è¦³ã«åŸºã¥ã„ãŸä¸€è²«ã—ãŸåˆ¤æ–­åŠ›",
                    "ç¤¾ä¼šçš„ãªå ´é¢ã§ã®é©å¿œåŠ›ã¨å…±æ„ŸåŠ›",
                    "å±æ©Ÿã«å¯¾ã™ã‚‹ç´ æ—©ã„åå¿œã¨å›å¾©åŠ›"
                ],
                opportunities: [
                    "ä¾¡å€¤è¦³ã¨ç¤¾ä¼šçš„æœŸå¾…ã®ãƒãƒ©ãƒ³ã‚¹ã‚’ã•ã‚‰ã«æœ€é©åŒ–",
                    "é˜²å¾¡åå¿œã‚’å»ºè¨­çš„ãªè¡Œå‹•ã«è»¢æ›ã™ã‚‹ç·´ç¿’",
                    "3ã¤ã®OSã®èª¿å’Œã‚’æ„è­˜çš„ã«æ´»ç”¨ã—ãŸæˆ¦ç•¥çš„è¡Œå‹•"
                ],
                recommendations: [
                    "å®šæœŸçš„ã«è‡ªåˆ†ã®ä¾¡å€¤è¦³ã‚’æŒ¯ã‚Šè¿”ã‚Šã€æ˜æ–‡åŒ–ã™ã‚‹",
                    "ç¤¾ä¼šçš„ãªå ´é¢ã§ã‚‚æœ¬æ¥ã®è‡ªåˆ†ã‚’è¡¨ç¾ã™ã‚‹æ©Ÿä¼šã‚’å¢—ã‚„ã™",
                    "ã‚¹ãƒˆãƒ¬ã‚¹æ™‚ã®é˜²å¾¡åå¿œãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦³å¯Ÿã—ã€ã‚ˆã‚Šå»ºè¨­çš„ãªå¯¾å‡¦æ³•ã‚’é–‹ç™º"
                ]
            },
            metadata: {
                analysisVersion: "2.0",
                timestamp: new Date().toISOString(),
                questionCount: 30,
                completionTime: 300000, // 5åˆ†
                reliability: 0.92
            }
        };
        
        // 30å•ã®å›ç­”ãƒ‡ãƒ¼ã‚¿
        const completeAnswers = [];
        for (let i = 1; i <= 30; i++) {
            completeAnswers.push({
                questionId: `q${i}`,
                selectedValue: ['A', 'B', 'C', 'D'][Math.floor(Math.random() * 4)],
                timestamp: new Date(Date.now() - (30 - i) * 10000).toISOString(),
                responseTime: Math.floor(Math.random() * 5000) + 5000
            });
        }
        
        // ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤º
        document.getElementById('data-preview').textContent = JSON.stringify(completeAnalysisData, null, 2);
        
        // å®Œå…¨ãªãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥
        function injectCompleteData() {
            const status = document.getElementById('status');
            status.style.display = 'block';
            status.className = 'status';
            
            try {
                // ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿
                const sessionData = {
                    sessionId: 'test-' + Date.now(),
                    stage: 'results',
                    startedAt: new Date(Date.now() - 360000).toISOString(),
                    completedAt: new Date().toISOString(),
                    version: '2.0'
                };
                
                // è¨ºæ–­çµæœãƒ‡ãƒ¼ã‚¿
                const diagnosisData = {
                    analysisResult: completeAnalysisData,
                    userAnswers: completeAnswers,
                    timestamp: new Date().toISOString()
                };
                
                // LocalStorageã«ä¿å­˜
                localStorage.setItem('haqei_session', JSON.stringify(sessionData));
                localStorage.setItem('haqei_answers', JSON.stringify(completeAnswers));
                localStorage.setItem('haqei_analysis_result', JSON.stringify(completeAnalysisData));
                localStorage.setItem('haqei_diagnosis_result', JSON.stringify(diagnosisData));
                
                // é€²è¡ŒçŠ¶æ³ã‚‚ä¿å­˜
                localStorage.setItem('haqei_progress', JSON.stringify({
                    currentStep: 'results',
                    completedSteps: ['welcome', 'questions', 'analysis', 'results'],
                    timestamp: new Date().toISOString()
                }));
                
                status.innerHTML = `
                    <h3>âœ… ãƒ‡ãƒ¼ã‚¿æŠ•å…¥å®Œäº†ï¼</h3>
                    <p>ä»¥ä¸‹ã®ãƒ‡ãƒ¼ã‚¿ãŒ LocalStorage ã«ä¿å­˜ã•ã‚Œã¾ã—ãŸï¼š</p>
                    <ul>
                        <li>ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±</li>
                        <li>30å•ã®å›ç­”ãƒ‡ãƒ¼ã‚¿</li>
                        <li>åˆ†æçµæœï¼ˆ3ã¤ã®OSï¼‰</li>
                        <li>è¨ºæ–­çµæœï¼ˆçµ±åˆãƒ‡ãƒ¼ã‚¿ï¼‰</li>
                        <li>é€²è¡ŒçŠ¶æ³</li>
                    </ul>
                    <p>ã€ŒResults.htmlã‚’é–‹ãã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦çµæœã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
                `;
            } catch (error) {
                status.className = 'status error';
                status.innerHTML = `<h3>âŒ ã‚¨ãƒ©ãƒ¼</h3><p>${error.message}</p>`;
            }
        }
        
        // Results.htmlã‚’é–‹ã
        function openResultsPage() {
            window.open('/results.html', '_blank');
        }
        
        // ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª
        function checkCurrentData() {
            const status = document.getElementById('status');
            status.style.display = 'block';
            status.className = 'status';
            
            const data = {
                session: localStorage.getItem('haqei_session'),
                answers: localStorage.getItem('haqei_answers'),
                analysisResult: localStorage.getItem('haqei_analysis_result'),
                diagnosisResult: localStorage.getItem('haqei_diagnosis_result'),
                progress: localStorage.getItem('haqei_progress')
            };
            
            let html = '<h3>ğŸ“Š LocalStorage ã®ç¾åœ¨ã®çŠ¶æ…‹</h3>';
            for (const [key, value] of Object.entries(data)) {
                if (value) {
                    try {
                        const parsed = JSON.parse(value);
                        html += `<p><strong>${key}:</strong> ${Object.keys(parsed).length} properties</p>`;
                    } catch {
                        html += `<p><strong>${key}:</strong> ${value.length} characters</p>`;
                    }
                } else {
                    html += `<p><strong>${key}:</strong> <span style="color: #ef4444;">ãªã—</span></p>`;
                }
            }
            
            status.innerHTML = html;
        }
        
        // ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢
        function clearAllData() {
            const keys = ['haqei_session', 'haqei_answers', 'haqei_analysis_result', 'haqei_diagnosis_result', 'haqei_progress'];
            keys.forEach(key => localStorage.removeItem(key));
            
            const status = document.getElementById('status');
            status.style.display = 'block';
            status.className = 'status';
            status.innerHTML = '<h3>ğŸ—‘ï¸ å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ</h3>';
        }
    </script>
</body>
</html>