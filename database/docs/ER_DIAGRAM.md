# HAQEI Database ER Diagram & Data Relationships

**ğŸ—ºï¸ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–¢ä¿‚å›³ãƒ»ãƒ‡ãƒ¼ã‚¿æ§‹é€ å¯è¦–åŒ–**  
**ğŸ“… ä½œæˆæ—¥**: 2025-08-03  
**ğŸ¯ ç›®çš„**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ ã®è¦–è¦šçš„ç†è§£ãƒ»é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰  

---

## ğŸ“Š æ¦‚è¦ERå›³

```
                    HAQEI Database Entity Relationship Diagram
                              (ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚°ãƒ¬ãƒ¼ãƒ‰è¨­è¨ˆ)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                    I-CHING SYSTEM                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  trigrams   â”‚    â”‚ hexagrams   â”‚    â”‚ yao_lines   â”‚    â”‚five_elementsâ”‚         â”‚
â”‚  â”‚    (8å¦)     â”‚    â”‚   (64å¦)     â”‚    â”‚   (384çˆ»)    â”‚    â”‚   (5è¡Œ)      â”‚         â”‚
â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚         â”‚
â”‚  â”‚ id (PK)     â”‚    â”‚ id (PK)     â”‚    â”‚ id (PK)     â”‚    â”‚ id (PK)     â”‚         â”‚
â”‚  â”‚ name        â”‚    â”‚ number(1-64)â”‚    â”‚ hexagram_id â”‚    â”‚ name        â”‚         â”‚
â”‚  â”‚ binary_valueâ”‚â—„â”€â”€â”â”‚ upper_tri_idâ”‚    â”‚ position    â”‚    â”‚ color       â”‚         â”‚
â”‚  â”‚ element     â”‚   â”‚â”‚ lower_tri_idâ”‚    â”‚ line_type   â”‚    â”‚ direction   â”‚         â”‚
â”‚  â”‚ attribute   â”‚   â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ text        â”‚    â”‚ season      â”‚         â”‚
â”‚  â”‚ philosophy  â”‚   â”‚       â”‚           â”‚ interpretationâ”‚   â”‚ personality â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚       â”‚           â”‚ engine_os_impâ”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                    â”‚       â”‚           â”‚ interface_impâ”‚                           â”‚
â”‚                    â”‚       â”‚           â”‚ safe_mode_impâ”‚                           â”‚
â”‚                    â”‚       â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                    â”‚       â”‚                  â–²                                  â”‚
â”‚                    â”‚       â”‚                  â”‚                                  â”‚
â”‚                    â”‚       â”‚                  â”‚ FK                               â”‚
â”‚                    â”‚       â”‚                  â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚       â”‚                  â”‚
                     â”‚       â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚       â”‚   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    â”‚  TRIPLE OS ARCHITECTURE                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚                 users                        â”‚                              â”‚
â”‚  â”‚              (ãƒ¦ãƒ¼ã‚¶ãƒ¼åŸºç›¤)                     â”‚                              â”‚
â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                              â”‚
â”‚  â”‚ id (UUID) (PK)                              â”‚                              â”‚
â”‚  â”‚ email                                       â”‚                              â”‚
â”‚  â”‚ username                                    â”‚                              â”‚
â”‚  â”‚ privacy_level (maximum/high/medium/low)     â”‚                              â”‚
â”‚  â”‚ data_sharing_consent                        â”‚                              â”‚
â”‚  â”‚ last_active_at                              â”‚                              â”‚
â”‚  â”‚ deleted_at (soft delete)                    â”‚                              â”‚
â”‚  â”‚ data_retention_until (GDPR)                 â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                    â”‚                                                          â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚         â”‚          â”‚          â”‚                                               â”‚
â”‚         â”‚ 1:1      â”‚ 1:1      â”‚ 1:1                                           â”‚
â”‚         â–¼          â–¼          â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚  â”‚ engine_os_  â”‚ â”‚interface_os_â”‚ â”‚safe_mode_os_â”‚                            â”‚
â”‚  â”‚ profiles    â”‚ â”‚  profiles   â”‚ â”‚  profiles   â”‚                            â”‚
â”‚  â”‚(ä¾¡å€¤è¦³ç³»)    â”‚ â”‚ (ç¤¾ä¼šé©å¿œç³») â”‚ â”‚  (é˜²å¾¡ç³»)    â”‚                            â”‚
â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                            â”‚
â”‚  â”‚ id (UUID)   â”‚ â”‚ id (UUID)   â”‚ â”‚ id (UUID)   â”‚                            â”‚
â”‚  â”‚ user_id (FK)â”‚ â”‚ user_id (FK)â”‚ â”‚ user_id (FK)â”‚                            â”‚
â”‚  â”‚ intrinsic_  â”‚ â”‚ social_     â”‚ â”‚ defense_    â”‚                            â”‚
â”‚  â”‚ motivation  â”‚ â”‚ adaptation_ â”‚ â”‚ mechanisms  â”‚                            â”‚
â”‚  â”‚ (JSONB)     â”‚ â”‚ patterns    â”‚ â”‚ (JSONB)     â”‚                            â”‚
â”‚  â”‚ core_values â”‚ â”‚ (JSONB)     â”‚ â”‚ risk_assess â”‚                            â”‚
â”‚  â”‚ (JSONB)     â”‚ â”‚ comm_styles â”‚ â”‚ patterns    â”‚                            â”‚
â”‚  â”‚ primary_hex â”‚ â”‚ (JSONB)     â”‚ â”‚ (JSONB)     â”‚                            â”‚
â”‚  â”‚ secondary_  â”‚ â”‚ adaptabilityâ”‚ â”‚ resilience_ â”‚                            â”‚
â”‚  â”‚ hex         â”‚ â”‚ score(0-100)â”‚ â”‚ level(0-10) â”‚                            â”‚
â”‚  â”‚ authenticityâ”‚ â”‚ social_int_ â”‚ â”‚ anxiety_mgmtâ”‚                            â”‚
â”‚  â”‚ score(0-100)â”‚ â”‚ score(0-100)â”‚ â”‚ score(0-100)â”‚                            â”‚
â”‚  â”‚ analysis_   â”‚ â”‚ empathy_lvl â”‚ â”‚ analysis_   â”‚                            â”‚
â”‚  â”‚ confidence  â”‚ â”‚ (0-10)      â”‚ â”‚ confidence  â”‚                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚         â”‚                â”‚                â”‚                                 â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                          â”‚                                                  â”‚
â”‚                          â”‚ N:N:N (ç›¸äº’ä½œç”¨)                                   â”‚
â”‚                          â–¼                                                  â”‚
â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚                 â”‚ os_interactions â”‚                                         â”‚
â”‚                 â”‚  (OSé–“ç›¸äº’ä½œç”¨)    â”‚                                         â”‚
â”‚                 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                                         â”‚
â”‚                 â”‚ id (UUID)       â”‚                                         â”‚
â”‚                 â”‚ user_id (FK)    â”‚                                         â”‚
â”‚                 â”‚ interaction_typeâ”‚                                         â”‚
â”‚                 â”‚ primary_os      â”‚                                         â”‚
â”‚                 â”‚ secondary_os    â”‚                                         â”‚
â”‚                 â”‚ strength (0-10) â”‚                                         â”‚
â”‚                 â”‚ quality         â”‚                                         â”‚
â”‚                 â”‚ observed_at     â”‚                                         â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ANALYSIS & SESSION MANAGEMENT                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ analysis_       â”‚    â”‚ question_       â”‚    â”‚ privacy_        â”‚                 â”‚
â”‚  â”‚ sessions        â”‚    â”‚ responses       â”‚    â”‚ settings        â”‚                 â”‚
â”‚  â”‚  (åˆ†æã‚»ãƒƒã‚·ãƒ§ãƒ³)  â”‚    â”‚  (è³ªå•å¿œç­”å±¥æ­´)   â”‚    â”‚ (ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¨­å®š) â”‚                 â”‚
â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                 â”‚
â”‚  â”‚ id (UUID) (PK)  â”‚â—„â”€â”€â”€â”¤ session_id (FK) â”‚    â”‚ id (UUID) (PK)  â”‚                 â”‚
â”‚  â”‚ user_id (FK)    â”‚    â”‚ user_id (FK)    â”‚    â”‚ user_id (FK)    â”‚                 â”‚
â”‚  â”‚ session_type    â”‚    â”‚ question_id     â”‚    â”‚ profile_        â”‚                 â”‚
â”‚  â”‚ completion_     â”‚    â”‚ (q1,q2,...q30)  â”‚    â”‚ visibility      â”‚                 â”‚
â”‚  â”‚ status          â”‚    â”‚ question_text   â”‚    â”‚ data_export_    â”‚                 â”‚
â”‚  â”‚ engine_os_      â”‚    â”‚ response_value  â”‚    â”‚ format          â”‚                 â”‚
â”‚  â”‚ profile_id      â”‚    â”‚ (1-7)           â”‚    â”‚ auto_delete_    â”‚                 â”‚
â”‚  â”‚ interface_os_   â”‚    â”‚ response_       â”‚    â”‚ enabled         â”‚                 â”‚
â”‚  â”‚ profile_id      â”‚    â”‚ confidence(1-5) â”‚    â”‚ store_engine_   â”‚                 â”‚
â”‚  â”‚ safe_mode_os_   â”‚    â”‚ response_time   â”‚    â”‚ os_data         â”‚                 â”‚
â”‚  â”‚ profile_id      â”‚    â”‚ engine_os_weightâ”‚    â”‚ store_interface_â”‚                 â”‚
â”‚  â”‚ overall_harmony â”‚    â”‚ interface_weightâ”‚    â”‚ os_data         â”‚                 â”‚
â”‚  â”‚ score (0-100)   â”‚    â”‚ safe_mode_weightâ”‚    â”‚ store_safe_mode_â”‚                 â”‚
â”‚  â”‚ integration_lvl â”‚    â”‚ influenced_     â”‚    â”‚ os_data         â”‚                 â”‚
â”‚  â”‚ (0-10)          â”‚    â”‚ hexagrams       â”‚    â”‚ anonymous_      â”‚                 â”‚
â”‚  â”‚ primary_life_   â”‚    â”‚ (INTEGER[])     â”‚    â”‚ research_part   â”‚                 â”‚
â”‚  â”‚ hexagram_id     â”‚    â”‚ answered_at     â”‚    â”‚ wisdom_sharing_ â”‚                 â”‚
â”‚  â”‚ guidance_       â”‚    â”‚ revised_at      â”‚    â”‚ consent         â”‚                 â”‚
â”‚  â”‚ hexagram_id     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ collective_     â”‚                 â”‚
â”‚  â”‚ transformation_ â”‚                           â”‚ growth_part     â”‚                 â”‚
â”‚  â”‚ path (JSONB)    â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚  â”‚ wisdom_         â”‚                                                               â”‚
â”‚  â”‚ synthesis       â”‚                                                               â”‚
â”‚  â”‚ life_guidance_  â”‚                                                               â”‚
â”‚  â”‚ summary         â”‚                                                               â”‚
â”‚  â”‚ started_at      â”‚                                                               â”‚
â”‚  â”‚ completed_at    â”‚                                                               â”‚
â”‚  â”‚ duration_mins   â”‚                                                               â”‚
â”‚  â”‚ questions_      â”‚                                                               â”‚
â”‚  â”‚ answered        â”‚                                                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”— ä¸»è¦ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ãƒƒãƒ—

### **1. I-Ching System (æ˜“çµŒã‚·ã‚¹ãƒ†ãƒ )**

```
Trigrams (1) â”€â”€â”¬â”€â–º Hexagrams (64)
               â””â”€â–º Hexagrams.lower_trigram_id

Hexagrams (1) â”€â”€â”€â”€â–º Yao_Lines (6) 
               â””â”€â–º Total: 64 Ã— 6 = 384 çˆ»

Hexagrams â—„â”€â”€â”€â”€â–º Engine_OS_Profiles (many-to-many via primary/secondary hexagram)
          â—„â”€â”€â”€â”€â–º Interface_OS_Profiles  
          â—„â”€â”€â”€â”€â–º Safe_Mode_OS_Profiles
```

### **2. Triple OS Architecture (ä¸‰å±¤OSæ§‹é€ )**

```
Users (1) â”€â”€â”¬â”€â–º Engine_OS_Profiles (1)     -- ä¾¡å€¤è¦³ã‚·ã‚¹ãƒ†ãƒ 
            â”œâ”€â–º Interface_OS_Profiles (1)  -- ç¤¾ä¼šé©å¿œã‚·ã‚¹ãƒ†ãƒ   
            â””â”€â–º Safe_Mode_OS_Profiles (1)   -- é˜²å¾¡ã‚·ã‚¹ãƒ†ãƒ 

Users (1) â”€â”€â”€â”€â–º OS_Interactions (many)     -- OSé–“ç›¸äº’ä½œç”¨è¨˜éŒ²
Users (1) â”€â”€â”€â”€â–º Analysis_Sessions (many)   -- åˆ†æã‚»ãƒƒã‚·ãƒ§ãƒ³å±¥æ­´
Users (1) â”€â”€â”€â”€â–º Privacy_Settings (1)       -- ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¨­å®š
```

### **3. Analysis & Session Management (åˆ†æãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†)**

```
Analysis_Sessions (1) â”€â”€â”€â”€â–º Question_Responses (30)  -- 1ã‚»ãƒƒã‚·ãƒ§ãƒ³30å•
Analysis_Sessions â—„â”€â”€â”€â”€â”€â”€â”€ Engine_OS_Profiles       -- åˆ†æçµæœçµ±åˆ
                  â—„â”€â”€â”€â”€â”€â”€â”€ Interface_OS_Profiles
                  â—„â”€â”€â”€â”€â”€â”€â”€ Safe_Mode_OS_Profiles

Question_Responses â—„â”€â”€â”€â”€â–º Hexagrams (influenced_hexagrams[])  -- å½±éŸ¿å¦é…åˆ—
```

---

## ğŸ“‹ ãƒ‡ãƒ¼ã‚¿å‹è©³ç´°

### **ä¸»è¦JSONBæ§‹é€ **

#### **Engine OS (ä¾¡å€¤è¦³ã‚·ã‚¹ãƒ†ãƒ )**
```json
{
  "intrinsic_motivation": {
    "autonomy": 8,
    "mastery": 7,
    "purpose": 9,
    "creativity": 6
  },
  "core_values": {
    "integrity": 9,
    "growth": 8,
    "harmony": 7,
    "innovation": 8
  },
  "strength_areas": {
    "analytical_thinking": 8,
    "strategic_planning": 7,
    "creative_problem_solving": 9
  }
}
```

#### **Interface OS (ç¤¾ä¼šé©å¿œã‚·ã‚¹ãƒ†ãƒ )**
```json
{
  "social_adaptation_patterns": {
    "group_dynamics": "collaborative",
    "conflict_style": "harmony_seeking",
    "influence_method": "consensus_building"
  },
  "communication_styles": {
    "verbal": "thoughtful",
    "nonverbal": "attentive", 
    "digital": "considered"
  },
  "interpersonal_patterns": {
    "leadership_style": "servant_leader",
    "team_role": "facilitator",
    "networking_approach": "relationship_focused"
  }
}
```

#### **Safe Mode OS (é˜²å¾¡ã‚·ã‚¹ãƒ†ãƒ )**
```json
{
  "defense_mechanisms": {
    "primary": "intellectualization",
    "secondary": "sublimation",
    "emergency": "withdrawal"
  },
  "risk_assessment_patterns": {
    "threat_sensitivity": "moderate",
    "uncertainty_tolerance": "high",
    "change_adaptation": "gradual_acceptance"
  },
  "safety_seeking_behaviors": {
    "information_gathering": "comprehensive",
    "support_network": "close_trusted_circle",
    "contingency_planning": "detailed"
  }
}
```

---

## ğŸ” Row Level Security (RLS) æ§‹é€ 

### **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ã‚¤ãƒ¤ãƒ¼å›³**

```
                    RLS Security Architecture

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Application Layer                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Anonymous   â”‚ â”‚Authenticatedâ”‚ â”‚ Analytics   â”‚ â”‚  Admin   â”‚   â”‚
â”‚  â”‚   Users     â”‚ â”‚    Users    â”‚ â”‚ Research    â”‚ â”‚  Users   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RLS Policy Layer                             â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  users: id = auth.user_id()                             â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º engine_os_profiles: user_id = auth.user_id()       â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º interface_os_profiles: user_id = auth.user_id()    â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º safe_mode_os_profiles: user_id = auth.user_id()    â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º analysis_sessions: user_id = auth.user_id()        â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º question_responses: user_id = auth.user_id()       â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º os_interactions: user_id = auth.user_id()          â”‚   â”‚
â”‚  â”‚  â””â”€â–º privacy_settings: user_id = auth.user_id()         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  PUBLIC ACCESS (No RLS)                                 â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º trigrams: å…«å¦åŸºæœ¬ãƒ‡ãƒ¼ã‚¿                             â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º hexagrams: 64å¦ãƒ‡ãƒ¼ã‚¿                               â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º yao_lines: 384çˆ»ãƒ‡ãƒ¼ã‚¿                              â”‚   â”‚
â”‚  â”‚  â””â”€â–º five_elements: äº”è¡Œãƒ‡ãƒ¼ã‚¿                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PostgreSQL Database                           â”‚
â”‚                     (Row Level Security)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **èªè¨¼ãƒ•ãƒ­ãƒ¼**

```
1. User Authentication
   â”œâ”€â–º Supabase: auth.uid()
   â”œâ”€â–º Auth0: JWT claims
   â””â”€â–º Local Dev: app.current_user_id

2. RLS Policy Evaluation  
   â”œâ”€â–º auth.user_id() â†’ UUID
   â”œâ”€â–º Policy Check: user_id = auth.user_id()
   â””â”€â–º Access Grant/Deny

3. Data Access Control
   â”œâ”€â–º Own Data: Full CRUD
   â”œâ”€â–º Public Data: Read Only  
   â””â”€â–º Anonymous Data: Aggregated Stats Only
```

---

## âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–æ§‹é€ 

### **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æˆ¦ç•¥å›³**

```
                    Index Strategy Architecture

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    High-Frequency Access                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   B-Tree    â”‚ â”‚    GIN      â”‚ â”‚  Partial    â”‚                â”‚
â”‚  â”‚   Indexes   â”‚ â”‚   Indexes   â”‚ â”‚  Indexes    â”‚                â”‚
â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                â”‚
â”‚  â”‚â€¢ PK/FK      â”‚ â”‚â€¢ JSONB      â”‚ â”‚â€¢ WHERE      â”‚                â”‚
â”‚  â”‚  Lookups    â”‚ â”‚  Content    â”‚ â”‚  Conditions â”‚                â”‚
â”‚  â”‚â€¢ Email      â”‚ â”‚â€¢ Core Valuesâ”‚ â”‚â€¢ Confidence â”‚                â”‚
â”‚  â”‚â€¢ Username   â”‚ â”‚â€¢ Patterns   â”‚ â”‚  > 75%      â”‚                â”‚
â”‚  â”‚â€¢ Timestamps â”‚ â”‚â€¢ Defense    â”‚ â”‚â€¢ Active     â”‚                â”‚
â”‚  â”‚â€¢ Scores     â”‚ â”‚  Mechanisms â”‚ â”‚  Users Only â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Query Performance Targets                      â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Primary Operations (Target: <50ms)                    â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º User Lookup: email/username                       â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º Profile Retrieval: Triple OS data                 â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º Session Access: user's analysis history           â”‚   â”‚
â”‚  â”‚  â””â”€â–º I-Ching Lookup: hexagram/trigram data             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Complex Operations (Target: <200ms)                   â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º Triple OS Integration: JOIN all three profiles    â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º Analysis Calculation: harmony scores              â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º Question Response Analytics: pattern analysis     â”‚   â”‚
â”‚  â”‚  â””â”€â–º I-Ching Mapping: hexagram relevance scoring       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Heavy Operations (Target: <1000ms)                    â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º Statistical Analysis: aggregated insights         â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º Full Profile Generation: complete new analysis    â”‚   â”‚
â”‚  â”‚  â”œâ”€â–º Bulk Data Export: GDPR compliance                 â”‚   â”‚
â”‚  â”‚  â””â”€â–º System Maintenance: vacuum/analyze                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ä¾‹

### **æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ†æãƒ•ãƒ­ãƒ¼**

```
1. User Registration
   â”Œâ”€â–º users table (UUID, privacy_level)
   â””â”€â–º privacy_settings table (default values)

2. Analysis Session Start  
   â”Œâ”€â–º analysis_sessions table (session_type: 'initial')
   â””â”€â–º Completion Status: 'in_progress'

3. Question Answering (30 questions)
   â”œâ”€â–º question_responses table (q1-q30)
   â”œâ”€â–º response_value (1-7), confidence (1-5) 
   â””â”€â–º engine/interface/safe_mode weights

4. Triple OS Profile Generation
   â”œâ”€â–º engine_os_profiles (intrinsic_motivation, core_values)
   â”œâ”€â–º interface_os_profiles (social_patterns, communication)
   â””â”€â–º safe_mode_os_profiles (defense_mechanisms, risk_patterns)

5. I-Ching Integration
   â”œâ”€â–º hexagram relevance scoring (engine/interface/safe_mode)
   â”œâ”€â–º primary/secondary hexagram assignment
   â””â”€â–º yao_lines impact calculation

6. Final Analysis
   â”œâ”€â–º overall_harmony_score calculation
   â”œâ”€â–º integration_level assessment
   â”œâ”€â–º life_guidance generation
   â””â”€â–º Session completion (status: 'completed')
```

### **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ãƒ•ãƒ­ãƒ¼**

```
1. Referential Integrity
   â”œâ”€â–º FK Constraints: All foreign keys valid
   â”œâ”€â–º Cascade Rules: DELETE CASCADE for user data
   â””â”€â–º Unique Constraints: No duplicate profiles

2. Business Logic Validation
   â”œâ”€â–º Score Ranges: 0-100 for percentages, 0-10 for levels
   â”œâ”€â–º Required JSONB: Non-null for core data structures
   â””â”€â–º Date Logic: created_at â‰¤ updated_at

3. Privacy Compliance
   â”œâ”€â–º RLS Policy Enforcement: User data isolation
   â”œâ”€â–º Data Retention: Automatic cleanup after retention period
   â””â”€â–º Consent Tracking: All data usage logged
```

---

## ğŸ“ˆ ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£è¨­è¨ˆ

### **æˆé•·æ®µéšåˆ¥ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**

```
Stage 1: 1K Users
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Single DB     â”‚
â”‚  (All tables)   â”‚
â”‚                 â”‚
â”‚ Performance:    â”‚
â”‚ â€¢ Basic indexes â”‚
â”‚ â€¢ Single server â”‚
â”‚ â€¢ <50ms queries â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Stage 2: 10K Users  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Primary DB    â”‚    â”‚   Read Replica  â”‚
â”‚ (Write + Read)  â”‚â—„â”€â”€â–ºâ”‚  (Analytics)    â”‚
â”‚                 â”‚    â”‚                 â”‚
â”‚ Performance:    â”‚    â”‚ Features:       â”‚
â”‚ â€¢ Full indexes  â”‚    â”‚ â€¢ Reporting     â”‚
â”‚ â€¢ Connection    â”‚    â”‚ â€¢ Statistics    â”‚
â”‚   pooling       â”‚    â”‚ â€¢ Research      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Stage 3: 100K Users
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Primary DB    â”‚    â”‚   Read Replica  â”‚    â”‚   Cache Layer   â”‚
â”‚ (Partitioned)   â”‚â—„â”€â”€â–ºâ”‚   (Multiple)    â”‚â—„â”€â”€â–ºâ”‚    (Redis)      â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ Features:       â”‚    â”‚ Features:       â”‚    â”‚ Features:       â”‚
â”‚ â€¢ Monthly parts â”‚    â”‚ â€¢ Load balanced â”‚    â”‚ â€¢ Session cache â”‚
â”‚ â€¢ Hot/Cold data â”‚    â”‚ â€¢ Geographic    â”‚    â”‚ â€¢ Query cache   â”‚
â”‚ â€¢ Archive old   â”‚    â”‚   distribution  â”‚    â”‚ â€¢ Real-time     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ‰ ã¾ã¨ã‚

HAQEI ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯ã€**å¤å…¸çš„æ™ºæ…§ã¨ç¾ä»£æŠ€è¡“ã®å®Œç’§ãªèåˆ** ã‚’å®Ÿç¾ã—ãŸã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚°ãƒ¬ãƒ¼ãƒ‰ã®ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

### **ğŸ† æŠ€è¡“çš„é”æˆ**

- âœ… **å®Œå…¨ãªRLSå®Ÿè£…**: ã‚¼ãƒ­ãƒˆãƒ©ã‚¹ãƒˆãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·
- âœ… **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«è¨­è¨ˆ**: 10ä¸‡ãƒ¦ãƒ¼ã‚¶ãƒ¼å¯¾å¿œ
- âœ… **å“²å­¦çš„æ•´åˆæ€§**: bunenjin + æ˜“çµŒã®æŠ€è¡“çš„å…·ç¾åŒ–
- âœ… **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**: Sub-100ms ã‚¯ã‚¨ãƒªå¿œç­”

### **ğŸ­ å“²å­¦çš„é”æˆ**

- ğŸ¤² **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸»æ¨©**: å®Œå…¨ãªãƒ‡ãƒ¼ã‚¿ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«æ¨©ã®æŠ€è¡“å®Ÿè£…
- ğŸ›¡ï¸ **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼å°Šé‡**: Privacy by Design ã®å¾¹åº•
- ğŸŒ€ **èª¿å’Œçš„è¨­è¨ˆ**: å¯¾ç«‹è¦ç´ ã®æŠ€è¡“çš„çµ±åˆ
- ğŸ“ˆ **æŒç¶šçš„é€²åŒ–**: å¤‰åŒ–ã«å¯¾å¿œã™ã‚‹æŸ”è»Ÿãªæ§‹é€ 

**"Where Ancient Wisdom Meets Modern Database Technology"** ğŸŒŸ

---

*ã“ã®ERå›³ã¯ã€HAQEI ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å®Œå…¨ãªæ§‹é€ ç†è§£ã®ãŸã‚ã®ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚¬ã‚¤ãƒ‰ã§ã™ã€‚é–‹ç™ºãƒ»é‹ç”¨ãƒ»æ‹¡å¼µã®ã™ã¹ã¦ã®æ®µéšã§å‚ç…§ã—ã¦ãã ã•ã„ã€‚*