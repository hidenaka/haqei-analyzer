'use strict';

const fs = require('fs');
const path = require('path');

function loadJSON(p) { return JSON.parse(fs.readFileSync(p, 'utf8')); }
function saveJSON(p, obj) { fs.writeFileSync(p, JSON.stringify(obj, null, 2), 'utf8'); }

function create地水師CompleteNarratives() {
  const narratives = {};
  
  // 初六 - 師出以律。否臧凶。
  const 初六Stories = {
    'JJJ': 'まず、軍律を厳格に定めて出陣します。師出以律とは、規律正しい軍隊の出動。否臧凶（規律がなければ凶）の警告通り、組織の基盤は規律にあります。最初が肝心です。続いて、規律がさらに浸透していきます。全員が同じルールに従い、一糸乱れぬ行動が可能になります。組織としての強さが、日々増していきます。最後に、規律の力が成果として現れます。統制の取れた組織は、どんな困難も乗り越えられます。師出以律の重要性が、実戦で証明されました。突破口は、最初の規律確立です。まずは厳格なルールを定め、全員に徹底させましょう。',
    
    'JJH': 'まず、組織の規律体系を構築します。師出以律の精神で、詳細な規則、罰則、報奨制度を整備します。否臧凶を避けるための完璧な準備をします。続いて、規律システムがさらに洗練されます。実践を通じて改善点を見つけ、より効果的な統制方法を確立します。組織が機械のように精密に動きます。最後に、視点を変えて自主性も育てます。規律を基盤としながら、個々の創造性も活かす柔軟な組織へと進化します。規律と自由の理想的なバランスが実現します。突破口は、規律と自主性の両立です。まずは規律を確立し、その上で自主性を育てましょう。',
    
    'JHJ': 'まず、基本的な規律を導入します。師出以律として、最低限必要なルールから始めます。否臧凶を避けつつ、過度な締め付けも避けます。次に、規律のアプローチを変えます。外的な強制から内的な自律へ、恐怖による統制から理解による協力へと転換します。規律の質が変わります。最後に、新しい規律観を深めます。全員が自発的に規律を守る、理想的な組織文化が確立されます。師出以律が自然な状態となります。突破口は、規律の内面化です。まずは強制ではなく、理解と納得を重視しましょう。',
    
    'JHH': 'まず、慎重に規律を設計します。組織の特性、メンバーの性格、任務の性質を詳しく分析し、最適な規律を定めます。否臧凶のリスクを徹底的に排除します。続いて、規律を段階的に導入します。急激な変化は反発を生むため、徐々に、しかし確実に規律を浸透させます。ソフトランディングが成功の鍵です。最後に、さらに微調整を重ねます。個々の状況に応じて規律を調整し、最大の効果を得られるよう最適化します。師出以律が完璧に機能します。突破口は、段階的導入です。まずは無理のない範囲から始め、徐々に規律を強化しましょう。',
    
    'HJJ': 'まず、規律の概念を再定義します。師出以律を単なる軍規ではなく、組織の DNA と捉えます。否臧凶は、DNA の欠陥による組織の死を意味します。続いて、新しい規律観を実践します。規律を制約ではなく、可能性を開く鍵として活用します。規律があるからこそ、自由に動けるのです。最後に、革新的な規律文化を確立します。規律が創造性を生み、創造性が新しい規律を生む、進化する組織を実現します。師出以律が生命力となります。突破口は、規律の再発明です。まずは古い規律観を捨て、新しい可能性を探りましょう。',
    
    'HJH': 'まず、規律を多層的に理解します。表面的なルール、深層の原理、根底の哲学など、規律の重層構造を把握します。師出以律が立体的になります。次に、多層的に規律を実践します。状況に応じて、適切なレベルの規律を適用します。柔軟でありながら一貫性のある統制が可能になります。最後に、さらに高い次元で統合します。あらゆるレベルの規律が調和し、完璧な組織統制が実現します。否臧凶が完全に回避されます。突破口は、多層的理解です。まずは表面だけでなく、深層まで理解しましょう。',
    
    'HHJ': 'まず、規律と自由の対立を破壊します。師出以律における規律は、実は最高の自由を実現するための手段です。否臧凶は自由の喪失を意味します。次に、さらに革命的な統合を行います。規律即自由、統制即解放という paradox を実現します。矛盾が調和に変わります。最後に、その paradox を現実化します。最も厳格な規律の中で最も自由な創造が生まれる、奇跡的な組織を実現します。師出以律が liberation となります。突破口は、paradox の実現です。まずは矛盾を恐れず、不可能を可能にしましょう。',
    
    'HHH': 'まず、規律の次元を変えます。三次元的な規則から、高次元の調和へと移行します。師出以律が宇宙の法則との同調となります。続いて、宇宙的規律と一体化します。個人の意志と宇宙の意志が一つになり、努力なしに完璧な秩序が保たれます。否臧が存在しなくなります。最後に、新しい宇宙を創造します。意識の力で、完璧な調和に満ちた組織宇宙を実現します。師出以律を超えて、永遠の秩序が生まれます。突破口は、宇宙との同調です。まずは小さな規律を超えて、宇宙の秩序と一体化しましょう。'
  };

  // 九二 - 在師中吉、无咎。王三錫命。
  const 九二Stories = {
    'JJJ': 'まず、軍の中心で指揮を執ります。在師中吉とは、軍隊の中核にいて吉であること。リーダーとしての責任を全うし、王三錫命（王から三度命を受ける）ほどの信頼を得ます。中心にいることの重みを理解します。続いて、リーダーシップがさらに確立されます。部下の信頼を得て、上層部からの支持も厚く、組織の要となります。三度の命令は、信頼の証です。最後に、完璧な統率を実現します。中心から全体を見渡し、的確な判断と指示で組織を導きます。无咎の言葉通り、失敗のない指揮を執ります。突破口は、中心での責任感です。まずは逃げずに中心に立ち、責任を全うしましょう。',
    
    'JJH': 'まず、組織の中核としての基盤を固めます。在師中の立場を活かし、情報収集、人脈構築、戦略立案を進めます。王三錫命に値する実力を養います。続いて、中核機能をさらに強化します。指揮系統を整備し、communication を改善し、decision making を迅速化します。組織の心臓部が強化されます。最後に、視点を変えて分権化も進めます。中央集権的な指揮から、各部門の自律性も重視する柔軟な組織へと進化します。中吉が組織全体の吉となります。突破口は、中央と周辺のバランスです。まずは中心を固め、次に権限を適切に分散させましょう。',
    
    'JHJ': 'まず、中心で基本的な指揮を始めます。在師中として、まずは安定した指揮体制を確立します。王からの信頼に応える準備をします。次に、指揮方法を変えます。命令型から支援型へ、トップダウンからボトムアップも取り入れる双方向の指揮へと転換します。最後に、新しい指揮法を極めます。状況に応じて柔軟に指揮スタイルを変え、最適な結果を出します。王三錫命が実力の証明となります。突破口は、指揮の柔軟性です。まずは一つのスタイルに固執せず、状況に応じて変化させましょう。',
    
    'JHH': 'まず、慎重に組織の状態を把握します。在師中の立場から、全体を俯瞰し、強みと弱みを詳細に分析します。王の期待に応える準備をします。続いて、把握した情報を基に調整します。弱点を補強し、強みを伸ばし、組織全体のバランスを整えます。中吉への道を着実に進みます。最後に、さらに精密な調整を行います。細部まで目を配り、完璧な組織運営を実現します。王三錫命が当然の評価となります。突破口は、詳細な状況把握です。まずは全体を正確に理解し、的確な対策を講じましょう。',
    
    'HJJ': 'まず、中心の概念を拡大します。在師中を物理的な位置ではなく、精神的な中核と捉えます。王三錫命も霊的な使命となります。続いて、精神的中心から導きます。ビジョンを示し、価値観を共有し、魂のレベルで組織を統率します。中吉が spiritual success となります。最後に、新しいリーダーシップを確立します。権力ではなく影響力、命令ではなく inspiration で導く、革新的な指導法を実現します。无咎が必然となります。突破口は、精神的リーダーシップです。まずは権力に頼らず、精神性で導きましょう。',
    
    'HJH': 'まず、中心を多次元的に理解します。物理的中心、情報の中心、精神的中心など、様々なレベルの中心性を把握します。在師中が多層的になります。次に、多次元的に中心機能を果たします。各レベルで適切な役割を演じ、総合的な中心性を実現します。王三錫命が多面的評価となります。最後に、さらに高い次元で統合します。全ての中心性を統合し、究極の core function を実現します。中吉が全次元での成功となります。突破口は、多次元的中心性です。まずは一つのレベルに限定せず、全レベルで中心となりましょう。',
    
    'HHJ': 'まず、中心と周辺の二元論を破壊します。在師中でありながら、同時に everywhere である、量子的な存在となります。王三錫命が宇宙からの祝福となります。次に、さらに革新的な在り方を実現します。中心にいながら中心を持たない、paradoxical なリーダーシップを展開します。最後に、その paradox を現実化します。どこにでもいて、どこにもいない、究極の遍在性を実現します。中吉が omnipresent success となります。突破口は、遍在性の実現です。まずは物理的位置を超えて、意識で遍在しましょう。',
    
    'HHH': 'まず、中心の本質を悟ります。在師中とは、宇宙の中心と一体化することです。王三錫命は、宇宙からの三位一体の祝福です。続いて、宇宙の中心として機能します。個人の意志を超えて、宇宙の意志を体現し、完璧な調和を実現します。中吉が cosmic harmony となります。最後に、新しい宇宙を展開します。中心から無限に広がる新しい組織宇宙を創造します。无咎を超えて、永遠の完璧さが実現します。突破口は、宇宙意識です。まずは個人を超えて、宇宙の中心と一体化しましょう。'
  };

  // 六三 - 師或輿尸。凶。
  const 六三Stories = {
    'JJJ': 'まず、軍が死体を運ぶような重い状況に直面します。師或輿尸とは、敗戦で多くの犠牲者が出ること。凶の警告通り、最悪の事態です。しかし、この経験から学ぶことが重要です。続いて、犠牲から深い教訓を得ます。なぜ失敗したのか、どうすれば防げたのか、痛みを伴う反省が、次への糧となります。死者の声に耳を傾けます。最後に、再生への道を見出します。最悪の経験を経て、二度と同じ過ちを繰り返さない決意と知恵を得ます。凶を転じて、未来の吉とします。突破口は、犠牲からの学びです。まずは痛みから目を背けず、深く反省し、教訓を得ましょう。',
    
    'JJH': 'まず、敗因を徹底的に分析します。師或輿尸という最悪の結果に至った原因を、感情を排して冷静に検証します。凶を繰り返さないための分析です。続いて、分析結果を基に改革を進めます。組織構造、戦略、訓練方法など、全面的な見直しと改善を行います。死者に報いる改革を実行します。最後に、視点を変えて memorial を作ります。犠牲を忘れず、教訓を永続させるため、組織の記憶として残します。凶が永遠の戒めとなります。突破口は、失敗の体系的分析です。まずは感情を抑え、理性的に原因を究明しましょう。',
    
    'JHJ': 'まず、重い現実を受け止めます。師或輿尸の状況を直視し、責任を認めます。凶という結果を、逃げずに受け入れます。次に、対応を変えます。過去への執着から未来への希望へ、悲嘆から行動へと意識を転換します。死者のためにも前を向きます。最後に、新しい道を切り開きます。犠牲を無駄にしない、新しい組織文化と戦略を確立します。凶を乗り越えて、希望を実現します。突破口は、意識の転換です。まずは過去に囚われず、未来に向かって行動しましょう。',
    
    'JHH': 'まず、慎重に現状を把握します。師或輿尸の被害の全容、残された resources、組織の士気など、詳細に調査します。凶の深刻さを正確に理解します。続いて、段階的に復旧を進めます。急激な立て直しは無理なので、少しずつ、確実に組織を再建します。一歩一歩が重要です。最後に、さらに慎重に前進します。二度と同じ失敗をしないよう、あらゆるリスクを想定し、万全の準備で進みます。凶を教訓として活かします。突破口は、慎重な再建です。まずは焦らず、着実に立て直しを進めましょう。',
    
    'HJJ': 'まず、死の意味を根本から問い直します。師或輿尸を単なる敗北ではなく、変容と再生のプロセスと捉えます。凶が transformation の始まりとなります。続いて、死を通じて新生を実現します。古い組織は死に、全く新しい組織として生まれ変わります。phoenix のような再生を遂げます。最後に、死を超えた生命力を獲得します。物理的な死を超えて、不滅の精神と理念を確立します。凶を超えて、永遠の生命を得ます。突破口は、死と再生の理解です。まずは死を終わりではなく、始まりと捉えましょう。',
    
    'HJH': 'まず、死を多次元的に理解します。物理的死、組織的死、精神的死など、様々なレベルの死を認識します。師或輿尸が多層的な意味を持ちます。次に、各レベルで対応します。物理的には慰霊、組織的には再編、精神的には浄化と、それぞれ適切な対処を行います。最後に、全レベルで統合します。死のあらゆる側面を統合し、完全な理解と受容に至ります。凶が深い wisdom となります。突破口は、多次元的理解です。まずは表面だけでなく、深層の意味も理解しましょう。',
    
    'HHJ': 'まず、生死の二元論を破壊します。師或輿尸における死は、実は新しい生の始まりです。凶と吉は表裏一体です。次に、さらに革命的な理解をします。死者と生者の境界を超えて、全てが一つの生命の流れの中にあることを理解します。最後に、その理解を現実化します。死を恐れず、生に執着せず、永遠の流れの中で自在に生きます。凶が liberation となります。突破口は、生死の超越です。まずは二元論を捨て、永遠の生命を信じましょう。',
    
    'HHH': 'まず、現象界の幻想性を看破します。師或輿尸も凶も、全ては意識が創り出した幻のドラマです。真実は生死を超えたところにあります。続いて、真実の中に安住します。生も死も超えて、純粋な意識として存在します。全ては完璧な一つの表現です。最後に、新しい現実を創造します。意識の力で、死のない永遠の生命を実現します。凶を超えて、不滅の光となります。突破口は、意識の不滅性です。まずは肉体的生死を超えて、意識の永遠性を信じましょう。'
  };

  // 六四 - 師左次。无咎。
  const 六四Stories = {
    'JJJ': 'まず、軍を左に退却させます。師左次とは、戦略的な後退。無謀な前進より、賢明な退却が時には必要です。无咎（咎なし）の通り、これは正しい選択です。撤退も立派な戦術です。続いて、退却の中で態勢を整えます。後退しながらも秩序を保ち、次の機会に備えて力を温存します。退くことで、かえって強くなります。最後に、退却が功を奏します。無理な戦いを避けたことで、組織は無傷で保たれ、より良い機会を待つことができます。左次の智慧が証明されました。突破口は、退却の勇気です。まずは前進だけが能ではないことを理解し、時には退く勇気を持ちましょう。',
    
    'JJH': 'まず、退却を戦略的に計画します。師左次を場当たり的な逃走ではなく、計算された戦略的撤退として実行します。退却にも戦術があります。続いて、退却をさらに洗練させます。退きながら敵を疲弊させ、追撃を困難にし、自軍の損害を最小限に抑えます。退却が芸術となります。最後に、視点を変えて反撃の準備をします。退却で得た時間と距離を活かし、新たな戦略を立てます。无咎どころか、大きな利益を得ます。突破口は、戦略的退却です。まずは退却を恥と思わず、戦略として活用しましょう。',
    
    'JHJ': 'まず、小さく後退を始めます。師左次として、急激な撤退ではなく、段階的な後退を選びます。パニックを避け、秩序を保ちます。次に、退却方法を変えます。直線的な後退から、ジグザグな動き、偽装退却など、様々な方法を組み合わせます。退却が複雑な maneuver となります。最後に、新しい退却術を確立します。退きながら優位を保つ、革新的な戦術を開発します。左次が新しい戦闘教義となります。突破口は、退却術の革新です。まずは単純な後退を超えて、創造的な退却を実践しましょう。',
    
    'JHH': 'まず、慎重に退却のタイミングを見極めます。師左次をいつ、どのように実行するか、詳細に検討します。タイミングが成否を分けます。続いて、段階的に退却を実行します。一気に退くのではなく、状況を見ながら徐々に後退します。制御された退却が重要です。最後に、さらに退却を最適化します。損失を最小限に、時間稼ぎを最大限にする、完璧な退却を実現します。无咎が確実となります。突破口は、精密な退却です。まずは大雑把にではなく、精密に退却を管理しましょう。',
    
    'HJJ': 'まず、退却の概念を再定義します。師左次を後退ではなく、別の形の前進と捉えます。方向は違えど、目的に向かっています。続いて、新しい退却観を実践します。物理的には後退しながら、戦略的には前進する、paradoxical な動きを実現します。退却が advancement となります。最後に、退却を超越します。前進も後退も関係ない、全方位的な展開を実現します。左次が omnidirectional となります。突破口は、方向性の超越です。まずは前後の概念を超えて、多次元的に動きましょう。',
    
    'HJH': 'まず、退却を時空的に理解します。空間的な後退は、時間的な前進かもしれません。師左次が四次元的 maneuver となります。次に、時空を超えた動きを実践します。物理的位置は後退しながら、別の次元では前進する、多次元的な戦術を展開します。最後に、さらに高い次元で行動します。三次元的な前後を超えて、高次元での自在な movement を実現します。无咎が必然となります。突破口は、次元的思考です。まずは三次元に囚われず、高次元で戦略を考えましょう。',
    
    'HHJ': 'まず、前進と後退の二元論を破壊します。師左次も前進も、本質的には同じ動きの異なる表現です。方向性は幻想です。次に、さらに自由な動きを展開します。前にも後ろにも、上にも下にも、内にも外にも、同時に動く量子的 movement を実現します。最後に、動きそのものを超越します。動かずして至る所に在る、究極の遍在性を実現します。左次が everywhere となります。突破口は、動きの超越です。まずは物理的動きを超えて、意識で遍在しましょう。',
    
    'HHH': 'まず、空間の幻想性を看破します。師左次における左も右も、前も後ろも、全ては意識が創り出した幻想です。真実は動きを超えています。続いて、不動の中で全てを成します。物理的には動かずとも、意識の力で全ての目的を達成します。左次が不動の動となります。最後に、新しい空間を創造します。前後左右のない、全てが中心である新しい空間を実現します。无咎を超えて、完璧な自由を得ます。突破口は、空間の創造です。まずは既存の空間概念を捨て、新しい空間を創りましょう。'
  };

  // 六五 - 田有禽。利執言、无咎。長子帥師、弟子輿尸。貞凶。
  const 六五Stories = {
    'JJJ': 'まず、田に獲物がいる好機を迎えます。田有禽は、チャンスが目の前にあること。利執言（言葉を慎重に）して、正当性を主張します。しかし、長子帥師、弟子輿尸（長子が指揮すれば吉、次子では凶）の教訓通り、リーダー選びが crucial です。続いて、適材適所の重要性が明らかになります。経験豊富な長子と、未熟な弟子では結果が天地の差。組織の成否は、人材配置で決まります。貞凶の警告を心に留めます。最後に、正しい人選で成功を収めます。適切なリーダーの下、好機を確実に掴みます。田有禽が大きな成果となり、无咎が実現します。突破口は、人材の見極めです。まずは能力を正確に評価し、適材適所を実現しましょう。',
    
    'JJH': 'まず、機会と人材を詳細に分析します。田有禽の価値と、長子と弟子の能力差を正確に把握します。利執言で慎重に計画を立てます。続いて、人材育成システムを構築します。長子のような人材を育て、弟子を長子レベルに引き上げる教育体制を整えます。組織の未来を作ります。最後に、視点を変えて succession planning を確立します。次世代リーダーの計画的育成で、持続可能な組織を実現します。貞凶を回避する体制が整います。突破口は、計画的人材育成です。まずは短期的成功より、長期的な人材開発を重視しましょう。',
    
    'JHJ': 'まず、チャンスに対して基本的な準備をします。田有禽を確実に捕らえるため、必要な resources を整えます。利執言で正当性を確保します。次に、アプローチを変えます。長子による正統的な方法から、新しい戦術への転換も検討します。弟子にもチャンスを与える工夫をします。最後に、新しい方法で成功を実現します。伝統と革新を融合させ、長子の経験と弟子の fresh な発想を組み合わせます。貞凶を避けて成功します。突破口は、新旧の融合です。まずは伝統を重んじつつ、新しい要素も取り入れましょう。',
    
    'JHH': 'まず、慎重に状況を評価します。田有禽の真の価値、長子と弟子それぞれの適性を詳しく検討します。利執言で慎重に進めます。続いて、リスクを段階的に管理します。長子を main に、弟子を support に配置し、失敗のリスクを最小化します。バランスの取れた布陣を敷きます。最後に、さらに細かく調整します。状況の変化に応じて、柔軟に人材を配置換えし、最適な結果を追求します。貞凶を完全に回避します。突破口は、リスク管理です。まずは大胆さと慎重さのバランスを取りましょう。',
    
    'HJJ': 'まず、長子と弟子の概念を再定義します。年齢や経験ではなく、意識のレベルで判断します。田有禽を霊的な opportunity と捉えます。続いて、新しい基準で人材を活用します。霊的成熟度、直感力、宇宙との調和度など、従来とは異なる評価軸で選抜します。利執言が霊的 guidance となります。最後に、革新的な組織を実現します。物理的な階層を超えて、意識のレベルで機能する組織を作ります。長子帥師が spiritual leadership となります。突破口は、評価基準の革新です。まずは従来の基準を超えて、新しい価値観で人材を見ましょう。',
    
    'HJH': 'まず、状況を多次元的に分析します。田有禽の表面的価値と深層的意味、長子と弟子の多面的な能力を把握します。利執言が多層的 communication となります。次に、多次元的に人材を配置します。物理的、精神的、戦略的など、各レベルで最適な人材を配置します。立体的な組織運営を実現します。最後に、全次元で統合します。あらゆるレベルでの最適化を実現し、完璧な組織パフォーマンスを達成します。貞凶が不可能となります。突破口は、多次元的配置です。まずは平面的でなく、立体的に組織を設計しましょう。',
    
    'HHJ': 'まず、長幼の序列を破壊します。長子と弟子の区別をなくし、全員が同時にリーダーであり follower である組織を作ります。田有禽を全員で捕らえます。次に、さらに革命的な組織を実現します。階層のない、自己組織化する organic な組織で、自然に最適な配置が生まれます。最後に、その新組織で奇跡を起こします。誰もがリーダーであり、誰もが学習者である、究極の learning organization を実現します。貞凶が meaningless となります。突破口は、階層の破壊です。まずは上下関係を捨て、水平的な組織を作りましょう。',
    
    'HHH': 'まず、個と全体の区別を超越します。田有禽も、長子も弟子も、全ては一つの意識の異なる表現です。利執言が宇宙との対話となります。続いて、一つの意識として機能します。個別の存在を超えて、集合意識として行動し、完璧な調和を実現します。長子帥師が universal consciousness となります。最後に、新しい実在を創造します。分離のない、完全に統合された新しい組織宇宙を実現します。貞凶を超えて、永遠の調和が生まれます。突破口は、意識の統合です。まずは個を超えて、全体意識と一つになりましょう。'
  };

  // 上六 - 大君有命。開國承家、小人勿用。
  const 上六Stories = {
    'JJJ': 'まず、大君（君主）から重要な命令を受けます。開國承家（国を開き家を継ぐ）という大任です。小人勿用（小人を用いるな）の警告を守り、人材を慎重に選びます。創業の重要な局面です。続いて、国家建設が本格化します。適材適所で優秀な人材を配置し、堅固な組織基盤を築きます。小人を排除したことで、清廉な組織が生まれます。最後に、永続する国家を確立します。大君の命に応え、子々孫々まで続く強固な体制を実現します。開國承家の理想が現実となりました。突破口は、人材選別の厳格さです。まずは妥協せず、真に優秀な人材だけを選びましょう。',
    
    'JJH': 'まず、建国の grand design を描きます。大君有命を受けて、理想的な国家像を詳細に設計します。小人勿用を原則として、人材基準を明確にします。続いて、設計をさらに精緻化します。統治機構、法体系、経済システムなど、あらゆる面で完璧な設計を追求します。開國の青写真が完成します。最後に、視点を変えて柔軟性も加えます。完璧な設計に、時代の変化に対応できる柔軟性を組み込みます。承家が持続可能となります。突破口は、緻密な計画です。まずは理想を具体的な設計に落とし込みましょう。',
    
    'JHJ': 'まず、基本的な国家の枠組みを作ります。大君有命に応えて、最低限必要な制度から始めます。小人勿用を守りながら、着実に進めます。次に、建国方針を転換します。中央集権から地方分権へ、あるいは軍事から経済へと、重点を shift させます。柔軟な国家運営を行います。最後に、新しい方針で国を発展させます。転換が功を奏し、独自の発展を遂げます。開國承家が unique な形で実現します。突破口は、柔軟な方針転換です。まずは固定観念に囚われず、状況に応じて方針を変えましょう。',
    
    'JHH': 'まず、慎重に建国の準備をします。大君有命の重さを理解し、あらゆるリスクを想定して準備します。小人勿用を徹底します。続いて、段階的に国家を建設します。急激な変化は混乱を招くため、着実に、一歩ずつ制度を整えます。慎重な建国が成功の鍵です。最後に、さらに慎重に発展させます。常にリスクを評価し、安全を確保しながら、確実に国を発展させます。開國承家が盤石となります。突破口は、慎重な建設です。まずは急がず、着実に基盤を固めましょう。',
    
    'HJJ': 'まず、国家の概念を再定義します。大君有命を物理的な建国ではなく、意識の王国の建設と捉えます。小人勿用が ego の排除となります。続いて、意識の王国を建設します。物理的な領土ではなく、精神的な領域で、理想的な国を実現します。開國が enlightenment となります。最後に、永遠の王国を確立します。時空を超えた、不滅の精神国家を実現します。承家が eternal legacy となります。突破口は、精神的建国です。まずは物理的な国を超えて、意識の王国を築きましょう。',
    
    'HJH': 'まず、建国を多次元的に構想します。物理的、経済的、文化的、精神的など、あらゆるレベルでの国家建設を計画します。大君有命が多層的 mission となります。次に、多次元的に建国を進めます。各レベルで同時並行的に建設を進め、立体的な国家を実現します。小人勿用が全レベルで徹底されます。最後に、全次元で統合します。あらゆるレベルが調和した、完璧な国家を実現します。開國承家が multidimensional success となります。突破口は、多次元的建設です。まずは一つのレベルに限らず、全レベルで建国を進めましょう。',
    
    'HHJ': 'まず、国家と個人の区別を破壊します。大君有命における国家は、実は expanded self です。小人勿用は、内なる否定的要素の排除です。次に、さらに革命的な国家を創造します。境界のない、全てを包含する universal state を実現します。開國が universe の創造となります。最後に、その新国家を現実化します。物理的境界を超えた、意識による新しい国家形態を実現します。承家が cosmic inheritance となります。突破口は、境界の破壊です。まずは国境という概念を超えて、universal な国を創りましょう。',
    
    'HHH': 'まず、創造者意識に目覚めます。大君有命とは、宇宙からの創造の mandate です。小人勿用は、低い意識の排除です。続いて、新しい宇宙を創造します。意識の力で、完璧な調和に満ちた新しい宇宙国家を実現します。開國が宇宙創造となります。最後に、永遠に展開し続けます。創造した宇宙が自己展開し、無限に成長し続けます。承家を超えて、永遠の創造が続きます。突破口は、創造者意識です。まずは被造物ではなく創造者として、新しい宇宙を創りましょう。'
  };

  const patterns = ['JJJ', 'JJH', 'JHJ', 'JHH', 'HJJ', 'HJH', 'HHJ', 'HHH'];
  const lines = [
    { name: '初六', stories: 初六Stories },
    { name: '九二', stories: 九二Stories },
    { name: '六三', stories: 六三Stories },
    { name: '六四', stories: 六四Stories },
    { name: '六五', stories: 六五Stories },
    { name: '上六', stories: 上六Stories }
  ];

  lines.forEach((line, lineIndex) => {
    patterns.forEach(pattern => {
      const key = `地水師 ${line.name} | ${pattern}`;
      narratives[key] = {
        chain_long: line.stories[pattern],
        tone: 'story',
        suitability: '組織運営、リーダーシップ、戦略的判断が必要な場面',
        caution: '規律と柔軟性のバランスを保ち、人材を適切に活用すること',
        label: getLabel(pattern),
        start: { hex: '地水師', pos: lineIndex + 1 },
        final: { hex: '地水師', pos: ((lineIndex + 2) % 6) + 1 },
        updated_at: new Date().toISOString()
      };
    });
  });
  
  return narratives;
}

function getLabel(pattern) {
  const labels = {
    'JJJ': '一貫深化 （テーマ継続）',
    'JJH': '二段深化→視点切替 （構造転換）',
    'JHJ': '深化→視点切替→再深化 （構造転換）',
    'JHH': '初動深化→連続切替 （再整流）',
    'HJJ': '視点切替→二段深化 （構造転換）',
    'HJH': '視点切替→深化→再切替 （構造転換）',
    'HHJ': '連続切替→深化 （再設計）',
    'HHH': '三段転換 （完全再設計）'
  };
  return labels[pattern];
}

function main() {
  const file = path.resolve(__dirname, '..', 'public', 'data', 'narratives_chain.v1.json');
  const db = loadJSON(file);
  
  const narratives = create地水師CompleteNarratives();
  
  Object.entries(narratives).forEach(([key, value]) => {
    db[key] = value;
  });
  
  saveJSON(file, db);
  console.log(`地水師を完成させました: ${Object.keys(narratives).length}件`);
}

main();