<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="„ÅÇ„Å™„Åü„ÅÆ‰∏≠„Å´„ÅÇ„Çã3„Å§„ÅÆ‰∫∫Ê†º„Ç∑„Çπ„ÉÜ„É†ÔºàEngine/Interface/Safe Mode OSÔºâ„ÇíÁêÜËß£„Åô„Çã„Åü„ÇÅ„ÅÆÊà¶Áï•ÁöÑÂàÜÊûê„ÉÑ„Éº„É´„ÄÇÊòìÁµå„Çí„É°„Çø„Éï„Ç°„Éº„Å®„Åó„ÅüHaQeiÂì≤Â≠¶„Å´Âü∫„Å•„ÅèÁèæ‰ª£ÁöÑ„Å™Ëá™Â∑±ÁêÜËß£„Éï„É¨„Éº„É†„ÉØ„Éº„ÇØ„ÄÇ">
    <title>HAQEI - Triple OS‰ªÆÊÉ≥‰∫∫Ê†ºÁîüÊàê„Ç∑„Çπ„ÉÜ„É† | HaQeiÂì≤Â≠¶„Å´„Çà„ÇãÊà¶Áï•ÁöÑÁîüÊàê„ÉÑ„Éº„É´</title>
    
    <!-- Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <!-- CRITICAL: H384H64 Database - ÂøÖÈ†àË™≠„ÅøËæº„Åø -->
    <script src="assets/H384H64database.js"></script>
    
    <!-- üåü AUTHENTIC I-CHING ENERGY BALANCE ENGINE - ÂÖ®‰Ωì„Ç®„Éç„É´„ÇÆ„Éº„Éê„É©„É≥„ÇπÊîπÂñÑ -->
    <script src="js/core/AuthenticEnergyBalanceEngine.js"></script>
    
    <style>
        /* =================== */
        /* Critical CSS - 30KB‰ª•‰∏ã */
        /* HaQeiÂì≤Â≠¶Ê∫ñÊã† */
        /* =================== */
        
        /* 1. „É™„Çª„ÉÉ„Éà & Âü∫Áõ§ */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            /* HAQEI „Éñ„É©„É≥„Éâ„Ç´„É©„Éº */
            --primary-900: #0f172a;
            --primary-800: #1e293b;
            --primary-700: #334155;
            --primary-600: #475569;
            --primary-500: #64748b;
            --primary-400: #94a3b8;
            --primary-300: #cbd5e1;
            --primary-200: #e2e8f0;
            --primary-100: #f1f5f9;
            --primary-50: #f8fafc;
            
            --accent-500: #6366f1;
            --accent-400: #8b5cf6;
            --accent-300: #a855f7;
            
            /* Âü∫Êú¨„Ç´„É©„ÉºÂ§âÊï∞Ôºà„ÉÜ„Çπ„ÉàÁî®Ôºâ */
            --primary-color: #6366f1;
            --secondary-color: #8b5cf6;
            --text-color: #374151;
            --bg-color: #f9fafb;
            
            /* „Çª„Éû„É≥„ÉÜ„Ç£„ÉÉ„ÇØ„Ç´„É©„Éº */
            --success-500: #10b981;
            --warning-500: #f59e0b;
            --error-500: #ef4444;
            --info-500: #3b82f6;
            
            /* ÂÖ´Âç¶Ëâ≤ÂΩ© */
            --trigram-qian: #FFD700;    /* ‰πæ(Â§©) */
            --trigram-dui: #87CEEB;     /* ÂÖå(Ê≤¢) */
            --trigram-li: #FF4500;      /* Èõ¢(ÁÅ´) */
            --trigram-zhen: #8A2BE2;    /* Èúá(Èõ∑) */
            --trigram-xun: #32CD32;     /* Â∑Ω(È¢®) */
            --trigram-kan: #1E90FF;     /* Âùé(Ê∞¥) */
            --trigram-gen: #708090;     /* ËâÆ(Â±±) */
            --trigram-kun: #8B4513;     /* Âù§(Âú∞) */
            
            /* „É¨„Çπ„Éù„É≥„Ç∑„Éñ„Çµ„Ç§„Ç∫ */
            --font-base: clamp(1rem, 3vw, 1.125rem);
            --font-lg: clamp(1.25rem, 4vw, 1.5rem);
            --font-xl: clamp(1.5rem, 5vw, 2rem);
            --font-2xl: clamp(2rem, 6vw, 3rem);
            
            --space-xs: clamp(0.5rem, 2vw, 0.75rem);
            --space-sm: clamp(0.75rem, 3vw, 1rem);
            --space-md: clamp(1rem, 4vw, 1.5rem);
            --space-lg: clamp(1.5rem, 5vw, 2rem);
            --space-xl: clamp(2rem, 6vw, 3rem);
            
            --radius-sm: 0.5rem;
            --radius-md: 0.75rem;
            --radius-lg: 1rem;
            
            /* „Çø„ÉÉ„ÉÅ„Çø„Éº„Ç≤„ÉÉ„Éà */
            --tap-size: max(44px, 2.75rem);
        }
        
        html {
            scroll-behavior: smooth;
            -webkit-text-size-adjust: 100%;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, var(--primary-800) 0%, var(--primary-700) 50%, var(--primary-600) 100%);
            color: var(--primary-100);
            line-height: 1.6;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* 2. „Ç≥„É≥„ÉÜ„Éä„Ç∑„Çπ„ÉÜ„É† */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--space-md);
        }
        
        .screen {
            min-height: 100vh;
            display: none;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            padding: var(--space-lg) var(--space-md);
        }
        
        .screen.active {
            display: flex;
        }
        
        /* 2.1 „Ç¶„Çß„É´„Ç´„É†ÁîªÈù¢Â∞ÇÁî®„Çπ„Çø„Ç§„É´ */
        .welcome-container {
            max-width: 900px;
            margin: 0 auto;
            padding: var(--space-md);
        }
        
        .hero-section {
            text-align: center;
            margin-bottom: var(--space-xl);
            animation: fadeInUp 1s ease-out;
        }
        
        .hero-title {
            font-size: clamp(2rem, 8vw, 3.5rem);
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-500), var(--accent-300), #fbbf24);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: var(--space-sm);
            line-height: 1.2;
        }
        
        .hero-subtitle {
            font-size: var(--font-lg);
            color: var(--primary-200);
            margin-bottom: var(--space-lg);
            font-weight: 300;
        }
        
        .philosophy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-xl);
        }
        
        .philosophy-card {
            background: rgba(15, 23, 42, 0.7);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            backdrop-filter: blur(15px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: all 0.4s ease;
            animation: fadeInUp 1s ease-out;
            animation-fill-mode: both;
        }
        
        .philosophy-card:nth-child(1) { animation-delay: 0.2s; }
        .philosophy-card:nth-child(2) { animation-delay: 0.4s; }
        .philosophy-card:nth-child(3) { animation-delay: 0.6s; }
        
        .philosophy-card:hover {
            border-color: rgba(99, 102, 241, 0.5);
            transform: translateY(-8px);
            box-shadow: 0 16px 48px rgba(99, 102, 241, 0.2);
        }
        
        .card-icon {
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: var(--space-md);
        }
        
        .engine-icon { background: linear-gradient(135deg, #6366f1, #8b5cf6); }
        .interface-icon { background: linear-gradient(135deg, #8b5cf6, #a855f7); }
        .safemode-icon { background: linear-gradient(135deg, #10b981, #059669); }
        
        .card-title {
            font-size: var(--font-lg);
            font-weight: 600;
            color: var(--primary-100);
            margin-bottom: var(--space-sm);
        }
        
        .card-description {
            color: var(--primary-300);
            line-height: 1.6;
            font-size: var(--font-sm);
        }
        
        .about-section {
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: var(--radius-lg);
            padding: var(--space-xl);
            margin-bottom: var(--space-xl);
            animation: fadeInUp 1s ease-out 0.8s;
            animation-fill-mode: both;
        }
        
        .about-title {
            font-size: var(--font-xl);
            font-weight: 600;
            color: var(--primary-100);
            margin-bottom: var(--space-md);
            text-align: center;
        }
        
        .about-content {
            color: var(--primary-200);
            line-height: 1.7;
            font-size: var(--font-base);
        }
        
        .highlight {
            color: var(--accent-400);
            font-weight: 600;
        }
        
        .experience-section {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin-bottom: var(--space-xl);
            animation: fadeInUp 1s ease-out 1s;
            animation-fill-mode: both;
        }
        
        .experience-title {
            font-size: var(--font-lg);
            font-weight: 600;
            color: var(--primary-100);
            margin-bottom: var(--space-md);
            text-align: center;
        }
        
        .experience-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-md);
            text-align: center;
        }
        
        .step {
            color: var(--primary-200);
            font-size: var(--font-sm);
        }
        
        .step-number {
            display: block;
            width: 2rem;
            height: 2rem;
            background: var(--accent-500);
            color: white;
            border-radius: 50%;
            line-height: 2rem;
            text-align: center;
            font-weight: 600;
            margin: 0 auto var(--space-xs);
        }
        
        .cta-section {
            text-align: center;
            animation: fadeInUp 1s ease-out 1.2s;
            animation-fill-mode: both;
        }
        
        .start-button {
            background: linear-gradient(135deg, var(--accent-500), var(--accent-400));
            color: white;
            border: none;
            padding: var(--space-md) var(--space-xl);
            font-size: var(--font-lg);
            font-weight: 600;
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);
            min-height: calc(var(--tap-size) + 0.5rem);
            position: relative;
            overflow: hidden;
        }
        
        .start-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }
        
        .start-button:hover::before {
            left: 100%;
        }
        
        .start-button:hover {
            background: linear-gradient(135deg, var(--accent-400), var(--accent-300));
            transform: translateY(-4px);
            box-shadow: 0 12px 35px rgba(99, 102, 241, 0.4);
        }
        
        .disclaimer {
            margin-top: var(--space-lg);
            padding: var(--space-md);
            background: rgba(15, 23, 42, 0.6);
            border-radius: var(--radius-md);
            border-left: 4px solid var(--accent-500);
        }
        
        .disclaimer-text {
            color: var(--primary-400);
            font-size: var(--font-sm);
            line-height: 1.5;
            text-align: left;
        }
        
        /* „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÂÆöÁæ© */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .pulse-animation {
            animation: pulse 2s ease-in-out infinite;
            /* „ÉÜ„Çπ„ÉàÊôÇ„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÂÆâÂÆöÂåñ */
            animation-play-state: paused;
        }
        
        .pulse-animation:hover {
            animation-play-state: running;
        }
        
        /* 3. „Ç´„Éº„Éâ„Ç∑„Çπ„ÉÜ„É† */
        .card {
            background: rgba(15, 23, 42, 0.9);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 600px;
            margin-bottom: var(--space-md);
        }
        
        .card:hover {
            border-color: rgba(99, 102, 241, 0.4);
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }
        
        /* 4. „Éú„Çø„É≥„Ç∑„Çπ„ÉÜ„É† */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-sm) var(--space-lg);
            border: none;
            border-radius: var(--radius-md);
            font-size: var(--font-base);
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: var(--tap-size);
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--accent-500), var(--accent-400));
            color: white;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, var(--accent-400), var(--accent-300));
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
        }
        
        .btn-secondary {
            background: rgba(99, 102, 241, 0.1);
            color: var(--accent-400);
            border: 1px solid rgba(99, 102, 241, 0.3);
        }
        
        .btn-secondary:hover {
            background: rgba(99, 102, 241, 0.2);
            border-color: rgba(99, 102, 241, 0.5);
        }
        
        .btn-lg {
            padding: var(--space-md) var(--space-xl);
            font-size: var(--font-lg);
            min-height: calc(var(--tap-size) + 0.5rem);
        }
        
        /* 5. Ë≥™Âïè„Ç∑„Çπ„ÉÜ„É† */
        .question-card {
            margin-bottom: var(--space-xl);
        }
        
        .question-header {
            text-align: center;
            margin-bottom: var(--space-lg);
        }
        
        .question-number {
            display: inline-block;
            width: 2rem;
            height: 2rem;
            background: var(--accent-500);
            color: white;
            border-radius: 50%;
            font-weight: 600;
            line-height: 2rem;
            text-align: center;
            margin-bottom: var(--space-sm);
        }
        
        .question-text {
            font-size: var(--font-lg);
            font-weight: 600;
            color: var(--primary-100);
            margin-bottom: var(--space-md);
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }
        
        .option {
            background: rgba(30, 41, 59, 0.6);
            border: 2px solid rgba(99, 102, 241, 0.2);
            border-radius: var(--radius-md);
            padding: var(--space-md);
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: var(--tap-size);
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            border-color: rgba(99, 102, 241, 0.5);
            background: rgba(99, 102, 241, 0.1);
            transform: translateY(-1px);
        }
        
        .option.selected {
            border-color: var(--accent-500);
            background: rgba(99, 102, 241, 0.2);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }
        
        .option-text {
            font-size: var(--font-base);
            color: var(--primary-200);
            font-weight: 500;
        }
        
        /* 6. „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ */
        .nav-controls {
            display: flex;
            justify-content: space-between;
            gap: var(--space-md);
            margin-top: var(--space-xl);
            flex-wrap: wrap;
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(99, 102, 241, 0.2);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: var(--space-lg);
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-500), var(--accent-400));
            transition: width 0.5s ease;
            border-radius: 3px;
        }
        
        /* 7. ÁµêÊûúË°®Á§∫ */
        .result-header {
            text-align: center;
            margin-bottom: var(--space-xl);
        }
        
        .result-title {
            font-size: var(--font-2xl);
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-500), var(--accent-400));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: var(--space-sm);
        }
        
        .os-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-xl);
        }
        
        .os-card {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .os-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .os-name {
            font-size: var(--font-lg);
            font-weight: 600;
            color: var(--primary-100);
            margin-bottom: var(--space-sm);
        }
        
        .os-score {
            font-size: var(--font-xl);
            font-weight: 700;
            margin-bottom: var(--space-md);
        }
        
        .os-description {
            font-size: var(--font-sm);
            color: var(--primary-300);
            line-height: 1.5;
        }
        
        /* 8. „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞ */
        .error-message {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: var(--radius-md);
            padding: var(--space-md);
            color: #fca5a5;
            text-align: center;
            margin: var(--space-md) 0;
        }
        
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-sm);
            padding: var(--space-lg);
        }
        
        .spinner {
            width: 24px;
            height: 24px;
            border: 3px solid rgba(99, 102, 241, 0.3);
            border-top: 3px solid var(--accent-500);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* 9. „É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøú */
        @media (max-width: 768px) {
            .container {
                padding: var(--space-sm);
                max-width: 100%;
            }
            
            .welcome-container {
                padding: var(--space-sm);
            }
            
            .screen {
                padding: var(--space-md) var(--space-sm);
            }
            
            .card {
                padding: var(--space-md);
            }
            
            .nav-controls {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
            
            .os-cards {
                grid-template-columns: 1fr;
                gap: var(--space-md);
            }
            
            /* „Ç¶„Çß„É´„Ç´„É†ÁîªÈù¢„É¢„Éê„Ç§„É´ÂØæÂøú */
            .hero-title {
                font-size: clamp(2.5rem, 10vw, 3rem);
                margin-bottom: var(--space-md);
            }
            
            .hero-subtitle {
                font-size: var(--font-base);
                margin-bottom: var(--space-md);
            }
            
            .philosophy-grid {
                grid-template-columns: 1fr;
                gap: var(--space-md);
                margin-bottom: var(--space-lg);
            }
            
            .philosophy-card {
                padding: var(--space-md);
            }
            
            .card-icon {
                width: 2.5rem;
                height: 2.5rem;
                font-size: 1.25rem;
                margin-bottom: var(--space-sm);
            }
            
            .about-section {
                padding: var(--space-lg);
                margin-bottom: var(--space-lg);
            }
            
            .experience-section {
                padding: var(--space-md);
                margin-bottom: var(--space-lg);
            }
            
            .experience-steps {
                grid-template-columns: 1fr;
                gap: var(--space-sm);
            }
            
            .step {
                display: flex;
                align-items: center;
                gap: var(--space-sm);
                text-align: left;
            }
            
            .step-number {
                flex-shrink: 0;
                margin: 0;
            }
            
            .start-button {
                width: 100%;
                padding: var(--space-lg) var(--space-md);
                font-size: var(--font-base);
            }
            
            .disclaimer {
                margin-top: var(--space-md);
            }
        }
        
        @media (max-width: 480px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .philosophy-card {
                padding: var(--space-sm);
            }
            
            .about-section {
                padding: var(--space-md);
            }
            
            .experience-section {
                padding: var(--space-sm);
            }
        }
        
        /* 9. Èù©Êñ∞ÁöÑÁµêÊûúË°®Á§∫„Ç∑„Çπ„ÉÜ„É† - 4Â±§Ë§áÈõëÊÄß‰øùÊåÅ„Ç¢„Éº„Ç≠„ÉÜ„ÇØ„ÉÅ„É£ */
        
        /* 4Â±§Ë§áÈõëÊÄß„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ */
        .complexity-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: var(--space-xl);
            gap: var(--space-sm);
            flex-wrap: wrap;
            padding: var(--space-md);
            background: rgba(15, 23, 42, 0.4);
            border-radius: var(--radius-lg);
            border: 1px solid rgba(99, 102, 241, 0.2);
        }
        
        .tab-btn {
            background: rgba(15, 23, 42, 0.8);
            border: 2px solid rgba(99, 102, 241, 0.3);
            border-radius: var(--radius-md);
            padding: var(--space-sm) var(--space-lg);
            color: var(--primary-200);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: var(--tap-size);
            position: relative;
            overflow: hidden;
        }
        
        .tab-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .tab-btn:hover::before {
            left: 100%;
        }
        
        .tab-btn.active,
        .tab-btn:hover {
            background: rgba(99, 102, 241, 0.2);
            border-color: var(--accent-500);
            color: var(--primary-100);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }
        
        .tab-btn:focus {
            outline: 2px solid var(--accent-500);
            outline-offset: 2px;
        }
        
        /* Â±§„Ç≥„É≥„ÉÜ„É≥„ÉÑË°®Á§∫„Ç∑„Çπ„ÉÜ„É† */
        .layer-content {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }
        
        .layer-content.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
            animation: layerFadeIn 0.6s ease-out forwards;
        }
        
        @keyframes layerFadeIn {
            0% { opacity: 0; transform: translateY(30px) scale(0.95); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        
        /* „Çª„ÇØ„Ç∑„Éß„É≥„Çø„Ç§„Éà„É´ */
        .section-title {
            font-size: var(--font-xl);
            font-weight: 700;
            color: var(--primary-100);
            margin-bottom: var(--space-lg);
            text-align: center;
            position: relative;
            padding: var(--space-md) 0;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(135deg, var(--accent-500), var(--accent-300));
            border-radius: 2px;
        }
        
        .subsection-title {
            font-size: var(--font-lg);
            font-weight: 600;
            color: var(--primary-200);
            margin: var(--space-lg) 0 var(--space-md) 0;
            position: relative;
            padding-left: var(--space-md);
        }
        
        .subsection-title::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 20px;
            background: linear-gradient(135deg, var(--accent-400), var(--accent-300));
            border-radius: 2px;
        }
        
        /* Triple OSÁõ∏‰∫íÈñ¢‰øÇÂèØË¶ñÂåñ„Çª„ÇØ„Ç∑„Éß„É≥ */
        .triple-os-interaction-section {
            background: rgba(15, 23, 42, 0.6);
            border-radius: var(--radius-lg);
            padding: var(--space-xl);
            margin: var(--space-xl) 0;
            border: 1px solid rgba(99, 102, 241, 0.2);
            backdrop-filter: blur(10px);
        }
        
        .interaction-visualization {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-lg);
            margin-bottom: var(--space-lg);
            flex-wrap: wrap;
            min-height: 450px;
        }
        
        .interaction-legend {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
            padding: var(--space-lg);
            background: rgba(15, 23, 42, 0.8);
            border-radius: var(--radius-md);
            border: 1px solid rgba(99, 102, 241, 0.3);
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            color: var(--primary-200);
            font-size: var(--font-sm);
            font-weight: 500;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .dynamic-balance {
            background: rgba(99, 102, 241, 0.1);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            border: 1px solid rgba(99, 102, 241, 0.3);
            margin-top: var(--space-lg);
        }
        
        /* 8Ê¨°ÂÖÉ„É¨„Éº„ÉÄ„Éº„ÉÅ„É£„Éº„Éà„Çª„ÇØ„Ç∑„Éß„É≥ */
        .eight-dimensional-radar {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: var(--space-xl);
            padding: var(--space-lg);
            background: rgba(15, 23, 42, 0.4);
            border-radius: var(--radius-lg);
            border: 1px solid rgba(139, 92, 246, 0.2);
            min-height: 550px;
        }
        
        /* ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„ÉºÂàÜÊûê„Çª„ÇØ„Ç∑„Éß„É≥ */
        .trigram-energy-section {
            background: rgba(15, 23, 42, 0.6);
            border-radius: var(--radius-lg);
            padding: var(--space-xl);
            margin-bottom: var(--space-xl);
            border: 1px solid rgba(139, 92, 246, 0.2);
            backdrop-filter: blur(10px);
        }
        
        .trigram-analysis {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-lg);
            margin-top: var(--space-lg);
        }
        
        .trigram-card {
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .trigram-card:hover {
            transform: translateY(-4px);
            border-color: rgba(139, 92, 246, 0.5);
            box-shadow: 0 8px 24px rgba(139, 92, 246, 0.15);
        }
        
        .trigram-name {
            font-size: var(--font-lg);
            font-weight: 600;
            color: var(--accent-300);
            margin-bottom: var(--space-sm);
        }
        
        .trigram-energy-value {
            font-size: var(--font-xl);
            font-weight: 700;
            color: var(--primary-100);
            margin-bottom: var(--space-sm);
        }
        
        .trigram-description {
            color: var(--primary-200);
            font-size: var(--font-sm);
            line-height: 1.5;
        }
        
        /* „Ç®„Éç„É´„ÇÆ„Éº„Éï„É≠„Éº„Çª„ÇØ„Ç∑„Éß„É≥ */
        .energy-flow-section {
            background: rgba(15, 23, 42, 0.6);
            border-radius: var(--radius-lg);
            padding: var(--space-xl);
            margin-bottom: var(--space-xl);
            border: 1px solid rgba(168, 85, 247, 0.2);
            backdrop-filter: blur(10px);
        }
        
        .energy-flow {
            display: flex;
            flex-direction: column;
            gap: var(--space-lg);
            padding: var(--space-lg);
            background: rgba(168, 85, 247, 0.05);
            border-radius: var(--radius-md);
            border: 1px solid rgba(168, 85, 247, 0.2);
        }
        
        /* 64Âç¶Ëß£Èáà„Ç∑„Çπ„ÉÜ„É†„Çª„ÇØ„Ç∑„Éß„É≥ */
        .hexagram-analysis-section {
            background: rgba(15, 23, 42, 0.6);
            border-radius: var(--radius-lg);
            padding: var(--space-xl);
            margin-bottom: var(--space-xl);
            border: 1px solid rgba(251, 191, 36, 0.2);
            backdrop-filter: blur(10px);
        }
        
        .hexagram-analysis {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-xl);
        }
        
        .hexagram-card {
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.3);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            transition: all 0.3s ease;
        }
        
        .hexagram-card:hover {
            transform: translateY(-4px);
            border-color: rgba(251, 191, 36, 0.5);
            box-shadow: 0 8px 24px rgba(251, 191, 36, 0.15);
        }
        
        .hexagram-title {
            font-size: var(--font-lg);
            font-weight: 600;
            color: #fbbf24;
            margin-bottom: var(--space-md);
        }
        
        .hexagram-content {
            color: var(--primary-200);
            line-height: 1.6;
        }
        
        .change-hexagram-section,
        .iching-wisdom-section {
            background: rgba(251, 191, 36, 0.05);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            margin: var(--space-lg) 0;
            border: 1px solid rgba(251, 191, 36, 0.2);
        }
        
        .classical-wisdom {
            background: rgba(251, 191, 36, 0.08);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            border: 1px solid rgba(251, 191, 36, 0.3);
            font-size: var(--font-lg);
            line-height: 1.8;
            color: var(--primary-200);
            font-style: italic;
        }
        
        /* HaQeiÂì≤Â≠¶Áµ±Âêà„Çª„ÇØ„Ç∑„Éß„É≥ */
        .HaQei-integration-section {
            background: rgba(15, 23, 42, 0.6);
            border-radius: var(--radius-lg);
            padding: var(--space-xl);
            border: 1px solid rgba(16, 185, 129, 0.2);
            backdrop-filter: blur(10px);
        }
        
        .HaQei-wisdom {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: var(--radius-md);
            padding: var(--space-xl);
            margin-bottom: var(--space-xl);
            font-size: var(--font-lg);
            line-height: 1.8;
            color: var(--primary-200);
            position: relative;
        }
        
        .HaQei-wisdom::before {
            content: '"';
            position: absolute;
            top: -10px;
            left: 20px;
            font-size: 4rem;
            color: rgba(16, 185, 129, 0.3);
            font-family: serif;
        }
        
        /* „Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫„ÉâÊ¥ûÂØü„Ç∞„É™„ÉÉ„Éâ */
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-xl);
        }
        
        .insight-card {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .insight-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, var(--success-500), rgba(16, 185, 129, 0.5));
        }
        
        .insight-card:hover {
            transform: translateY(-4px);
            border-color: rgba(16, 185, 129, 0.5);
            box-shadow: 0 8px 24px rgba(16, 185, 129, 0.15);
        }
        
        .insight-title {
            font-size: var(--font-lg);
            font-weight: 600;
            color: var(--primary-100);
            margin-bottom: var(--space-sm);
        }
        
        .insight-content {
            color: var(--primary-200);
            line-height: 1.6;
            font-size: var(--font-base);
        }
        
        /* ÂÆüË∑µÁöÑÊà¶Áï•ÊèêÊ°à„Çª„ÇØ„Ç∑„Éß„É≥ */
        .strategies-container {
            display: flex;
            flex-direction: column;
            gap: var(--space-lg);
        }
        
        .strategy-item {
            background: rgba(16, 185, 129, 0.05);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-left: 4px solid var(--success-500);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            transition: all 0.3s ease;
        }
        
        .strategy-item:hover {
            background: rgba(16, 185, 129, 0.08);
            border-left-width: 6px;
            transform: translateX(4px);
        }
        
        .strategy-title {
            font-size: var(--font-lg);
            font-weight: 600;
            color: var(--success-500);
            margin-bottom: var(--space-sm);
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }
        
        .strategy-description {
            color: var(--primary-200);
            line-height: 1.6;
            margin-bottom: var(--space-md);
        }
        
        .strategy-actions {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-sm);
        }
        
        .strategy-action {
            background: rgba(16, 185, 129, 0.2);
            color: var(--primary-100);
            border: none;
            border-radius: var(--radius-sm);
            padding: var(--space-xs) var(--space-sm);
            font-size: var(--font-sm);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .strategy-action:hover {
            background: rgba(16, 185, 129, 0.3);
            transform: translateY(-2px);
        }
        
        /* Virtual Persona Card Styles */
        .virtual-persona-card {
            background: linear-gradient(145deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.8));
            border: 1px solid rgba(99, 102, 241, 0.3);
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            margin: var(--space-md) 0;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .virtual-persona-card:hover {
            border-color: rgba(99, 102, 241, 0.6);
            box-shadow: 0 8px 32px rgba(99, 102, 241, 0.2);
            transform: translateY(-2px);
        }
        
        .persona-header {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            margin-bottom: var(--space-md);
            padding-bottom: var(--space-md);
            border-bottom: 1px solid rgba(99, 102, 241, 0.2);
        }
        
        .persona-symbol {
            font-size: 2.5rem;
            line-height: 1;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
        }
        
        .persona-name {
            font-size: var(--font-xl);
            font-weight: 700;
            color: var(--primary-100);
            margin: 0;
        }
        
        .persona-content {
            space-y: var(--space-sm);
        }
        
        .persona-metaphor {
            font-style: italic;
            color: var(--primary-200);
            font-size: var(--font-md);
            margin-bottom: var(--space-sm);
        }
        
        .persona-catchphrase {
            font-weight: 600;
            color: var(--accent-300);
            font-size: var(--font-md);
            margin-bottom: var(--space-md);
            text-align: center;
            padding: var(--space-sm);
            background: rgba(99, 102, 241, 0.1);
            border-radius: var(--radius-md);
            border-left: 3px solid var(--accent-400);
        }
        
        .persona-traits {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-sm);
            margin-bottom: var(--space-md);
        }
        
        .trait-tag {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2));
            color: var(--accent-300);
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-full);
            font-size: var(--font-sm);
            font-weight: 500;
            border: 1px solid rgba(99, 102, 241, 0.3);
        }
        
        .persona-description {
            color: var(--primary-200);
            font-size: var(--font-base);
            line-height: 1.6;
            margin: 0;
        }
        
        /* „É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøú */
        @media (max-width: 768px) {
            .complexity-tabs {
                flex-direction: column;
                align-items: stretch;
            }
            
            .tab-btn {
                text-align: center;
                margin-bottom: var(--space-xs);
            }
            
            .interaction-visualization {
                flex-direction: column;
                min-height: auto;
            }
            
            #os-interaction-chart {
                width: 100%;
                max-width: 350px;
                height: auto;
            }
            
            .eight-dimensional-radar {
                min-height: auto;
                padding: var(--space-md);
            }
            
            #8d-vector-chart {
                width: 100%;
                max-width: 400px;
                height: auto;
            }
            
            .insights-grid {
                grid-template-columns: 1fr;
            }
            
            .hexagram-analysis {
                grid-template-columns: 1fr;
            }
            
            .trigram-analysis {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
        }
        
        /* 10. „Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£ */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: var(--accent-500);
            color: white;
            padding: 8px;
            z-index: 1000;
            text-decoration: none;
            border-radius: 4px;
        }
        
        .skip-link:focus {
            top: 6px;
        }
        
        /* „Éï„Ç©„Éº„Ç´„ÇπÁÆ°ÁêÜ */
        .btn:focus,
        .option:focus {
            outline: 2px solid var(--accent-400);
            outline-offset: 2px;
        }
        
        /* „Éó„É™„Éï„Ç°„É¨„É≥„ÇπÂØæÂøú */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        @media (prefers-contrast: high) {
            :root {
                --primary-100: #ffffff;
                --primary-200: #f0f0f0;
                --primary-300: #d0d0d0;
                --accent-500: #0066ff;
            }
            
            .btn, .option, .card {
                border-width: 2px;
            }
        }
        
        @media print {
            body {
                background: white !important;
                color: black !important;
            }
            
            .btn, .nav-controls {
                display: none !important;
            }
        }
        
        /* „É¢„Éê„Ç§„É´ÊúÄÈÅ©Âåñ„ÅÆËøΩÂä† */
        @media (max-width: 480px) {
            .question-title {
                font-size: 1.1rem;
                line-height: 1.5;
                padding: var(--space-sm);
            }
            
            .option {
                padding: 12px 16px;
                font-size: 0.95rem;
                min-height: 48px;
                display: flex;
                align-items: center;
            }
            
            .nav-button, .start-button {
                min-height: 44px;
                padding: 12px 20px;
                font-size: 0.95rem;
            }
            
            .os-card {
                padding: var(--space-md);
                margin-bottom: var(--space-md);
            }
            
            .os-card h3 {
                font-size: 1.1rem;
            }
            
            .os-card p {
                font-size: 0.9rem;
                line-height: 1.5;
            }
            
            /* „Çπ„É†„Éº„Ç∫„Çπ„ÇØ„É≠„Éº„É´ */
            body {
                -webkit-overflow-scrolling: touch;
            }
            
            /* „Çø„ÉÉ„Éó„Éè„Ç§„É©„Ç§„ÉàÁÑ°ÂäπÂåñ */
            * {
                -webkit-tap-highlight-color: transparent;
            }
        }
        
        /* „Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£Âêë‰∏ä */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation: none !important;
                transition: none !important;
            }
        }
    </style>
</head>

<body>
    <!-- „Ç¢„ÇØ„Çª„Ç∑„Éì„É™„ÉÜ„Ç£ -->
    <a href="#main-content" class="skip-link">„É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Å∏„Çπ„Ç≠„ÉÉ„Éó</a>
    
    <!-- „É©„Ç§„Éñ„É™„Éº„Ç∏„Éß„É≥ -->
    <div id="announcements" class="sr-only" aria-live="polite" role="status"></div>
    
    <!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
    <main id="main-content">
        <!-- „Ç¶„Çß„É´„Ç´„É†ÁîªÈù¢ -->
        <section id="welcome-screen" class="screen active" aria-labelledby="welcome-title">
            <div class="welcome-container">
                <!-- „Éí„Éº„É≠„Éº„Çª„ÇØ„Ç∑„Éß„É≥ -->
                <div class="hero-section">
                    <h1 id="welcome-title" class="hero-title">HAQEI</h1>
                    <p class="hero-subtitle">
                        „ÅÇ„Å™„Åü„ÅÆ‰∏≠„Å´„ÅÇ„Çã<span class="highlight">3„Å§„ÅÆ‰ªÆÊÉ≥‰∫∫Ê†º</span>„ÇíÂâµÈÄ†ÁöÑ„Å´Ë°®Áèæ„Åô„ÇãÊà¶Áï•ÁöÑÁîüÊàê„ÉÑ„Éº„É´
                    </p>
                </div>

                <!-- HaQeiÂì≤Â≠¶Ë™¨Êòé -->
                <div class="philosophy-grid">
                    <div class="philosophy-card os-card">
                        <div class="card-icon engine-icon">üéØ</div>
                        <h3 class="card-title">Engine OS</h3>
                        <p class="card-description">
                            „ÅÇ„Å™„Åü„ÅÆ<strong>Êú¨ÂΩì„ÅÆ‰æ°ÂÄ§Ë¶≥</strong>„ÅåÂÆø„Çã„Ç∑„Çπ„ÉÜ„É†„ÄÇÊ∑±Â±§ÂøÉÁêÜ„ÅßÂ§ßÂàá„Å´„Åó„Å¶„ÅÑ„ÇãÂà§Êñ≠Âü∫Ê∫ñ„ÇÑ„ÄÅ‰∫∫Áîü„ÅßÊúÄ„ÇÇÈáçË¶ñ„Åô„ÇãÊñπÂêëÊÄß„ÇíË°®Áèæ„Åó„Åæ„Åô„ÄÇ„Åì„Çå„ÅØ„Äå„ÅÇ„Å™„Åü„Çâ„Åó„Åï„Äç„ÅÆÊ†∏„Å®„Å™„ÇãÈÉ®ÂàÜ„Åß„Åô„ÄÇ
                        </p>
                    </div>
                    
                    <div class="philosophy-card os-card">
                        <div class="card-icon interface-icon">üí¨</div>
                        <h3 class="card-title">Interface OS</h3>
                        <p class="card-description">
                            <strong>Á§æ‰ºöÁöÑ„Å™Â†¥Èù¢</strong>„ÅßÁèæ„Çå„Çã„ÅÇ„Å™„Åü„ÅÆÂÅ¥Èù¢„ÄÇ‰ªñËÄÖ„Å®„ÅÆÈñ¢‰øÇÊÄß„ÇÑ„ÄÅ„ÉÅ„Éº„É†„Åß„ÅÆÂΩπÂâ≤„ÄÅ„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„Çπ„Çø„Ç§„É´„Å™„Å©„ÄÅ„Äå‰∫∫„Å´Ë¶ã„Åõ„ÇãËá™ÂàÜ„Äç„ÇíÁêÜËß£„Åô„Çã„Åü„ÇÅ„ÅÆ„Ç∑„Çπ„ÉÜ„É†„Åß„Åô„ÄÇ
                        </p>
                    </div>
                    
                    <div class="philosophy-card os-card">
                        <div class="card-icon safemode-icon">üõ°Ô∏è</div>
                        <h3 class="card-title">Safe Mode OS</h3>
                        <p class="card-description">
                            <strong>Âõ∞Èõ£„Å™Áä∂Ê≥Å</strong>„Åß‰ΩúÂãï„Åô„ÇãÈò≤Âæ°„Ç∑„Çπ„ÉÜ„É†„ÄÇ„Çπ„Éà„É¨„Çπ„ÇÑÂç±Ê©üÁöÑÁä∂Ê≥Å„Å´„Åä„ÅÑ„Å¶„ÄÅ„ÅÇ„Å™„Åü„Åå„Å©„ÅÆ„Çà„ÅÜ„Å™ÂØæÂá¶„Éë„Çø„Éº„É≥„ÇíÈÅ∏Êäû„Åô„ÇãÂÇæÂêë„Å´„ÅÇ„Çã„Åã„ÇíÂàÜÊûê„Åó„Åæ„Åô„ÄÇ
                        </p>
                    </div>
                </div>

                <!-- HAQEI„Å´„Å§„ÅÑ„Å¶ -->
                <div class="about-section">
                    <h2 class="about-title">HAQEI„Å®„ÅØÔºü</h2>
                    <div class="about-content">
                        <p style="margin-bottom: var(--space-md);">
                            HAQEI„ÅØ<span class="highlight">Âç†„ÅÑ„ÇÑË®∫Êñ≠„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì</span>„ÄÇÂè§‰ª£‰∏≠ÂõΩ„ÅÆÊô∫ÊÖß„Åß„ÅÇ„ÇãÊòìÁµåÔºàI-ChingÔºâ„Çí<span class="highlight">Ë±ä„Åã„Å™„É°„Çø„Éï„Ç°„Éº„ÉªË°®ÁèæÊâãÊÆµ</span>„Å®„Åó„Å¶Ê¥ªÁî®„Åó„ÄÅ„ÅÇ„Å™„Åü„ÅÆÂ§öÈù¢ÊÄß„ÇíÂâµÈÄ†ÁöÑ„Å´ÊèèÂÜô„Åô„Çã<span class="highlight">‰ªÆÊÉ≥‰∫∫Ê†ºÁîüÊàê„ÉÑ„Éº„É´</span>„Åß„Åô„ÄÇ
                        </p>
                        <p style="margin-bottom: var(--space-md);">
                            ÁßÅ„Åü„Å°„ÅØ„Äå„ÅÇ„Å™„Åü„ÅØ‚óã‚óã„Å™‰∫∫„Åß„Åô„Äç„Å®„ÅØÊ±∫„Åó„Å¶Êñ≠Ë®Ä„Åó„Åæ„Åõ„Çì„ÄÇ‰ª£„Çè„Çä„Å´„Äå<span class="highlight">‚óã‚óã„Å®„ÅÑ„ÅÜÂÅ¥Èù¢„ÅåÂèÇËÄÉ„Å´„Å™„Çã„Åã„ÇÇ„Åó„Çå„Åæ„Åõ„Çì</span>„Äç„Å®„ÅÑ„ÅÜÂΩ¢„Åß„ÄÅ‰∏Ä„Å§„ÅÆË¶ñÁÇπ„Å®„Åó„Å¶ÊÉÖÂ†±„ÇíÊèê‰æõ„Åó„Åæ„Åô„ÄÇ
                        </p>
                        <p>
                            „Åì„ÅÆÂàÜÊûêÁµêÊûú„ÅØÁßëÂ≠¶ÁöÑÊ†πÊã†„Å´Âü∫„Å•„Åè„ÇÇ„ÅÆ„Åß„ÅØ„Å™„Åè„ÄÅ„ÅÇ„Åè„Åæ„Åß<span class="highlight">ÊÄùËÄÉÊùêÊñô</span>„Å®„Åó„Å¶Ê¥ªÁî®„Åó„Å¶„ÅÑ„Åü„Å†„Åè„ÇÇ„ÅÆ„Åß„Åô„ÄÇÊúÄÁµÇÁöÑ„Å™Âà§Êñ≠„ÇÑÊ±∫Êñ≠„ÅØ„ÄÅÂ∏∏„Å´„ÅÇ„Å™„ÅüËá™Ë∫´„ÅåË°å„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
                        </p>
                    </div>
                </div>

                <!-- ‰ΩìÈ®ì„ÅÆÊµÅ„Çå -->
                <div class="experience-section">
                    <h3 class="experience-title">‰ΩìÈ®ì„ÅÆÊµÅ„ÇåÔºàÁ¥Ñ5ÂàÜÔºâ</h3>
                    <div class="experience-steps">
                        <div class="step">
                            <span class="step-number">1</span>
                            <p>30Âïè„ÅÆË≥™Âïè<br><small>‰æ°ÂÄ§Ë¶≥„ÉªË°åÂãï„Éë„Çø„Éº„É≥</small></p>
                        </div>
                        <div class="step">
                            <span class="step-number">2</span>
                            <p>3„Å§„ÅÆOSÂàÜÊûê<br><small>64Âç¶ÁêÜË´ñ„Å´„Çà„ÇãËß£Êûê</small></p>
                        </div>
                        <div class="step">
                            <span class="step-number">3</span>
                            <p>Êà¶Áï•ÁöÑ„Éí„É≥„Éà<br><small>Ê¥ªÁî®„ÅÆ„Åü„ÇÅ„ÅÆË¶ñÁÇπ</small></p>
                        </div>
                    </div>
                </div>

                <!-- ÈñãÂßã„Éú„Çø„É≥ -->
                <div class="cta-section">
                    <button id="start-btn" class="start-button pulse-animation">
                        ‚ú® Triple OS ÂàÜÊûê„ÇíÈñãÂßã„Åô„Çã
                    </button>
                    
                    <div class="disclaimer">
                        <p class="disclaimer-text">
                            <strong>ÈáçË¶Å„Å™Ê≥®ÊÑè‰∫ãÈ†ÖÔºö</strong> „Åì„ÅÆÂàÜÊûê„ÅØ„ÄÅ„ÅÇ„Å™„Åü„ÅÆ‰∫∫Ê†º„ÇíÊ±∫ÂÆö„Å•„Åë„Çã„ÇÇ„ÅÆ„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ‰∏Ä„Å§„ÅÆÂèÇËÄÉË¶ñÁÇπ„Å®„Åó„Å¶„ÄÅËá™Â∑±ÁêÜËß£„ÇÑÊà¶Áï•ÁöÑÊÄùËÄÉ„ÅÆÊùêÊñô„Å®„Åó„Å¶„ÅîÊ¥ªÁî®„Åè„Å†„Åï„ÅÑ„ÄÇÂàÜÊûêÁµêÊûú„Å´‰æùÂ≠ò„Åô„Çã„Åì„Å®„Å™„Åè„ÄÅÂ∏∏„Å´„ÅîËá™Ë∫´„ÅÆÂà§Êñ≠„ÇíÊúÄÂÑ™ÂÖà„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
                        </p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Ë≥™ÂïèÁîªÈù¢ -->
        <section id="question-screen" class="screen" aria-labelledby="question-title">
            <div class="container">
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
                </div>
                
                <div class="card question-card">
                    <div class="question-header">
                        <span id="question-number" class="question-number">1</span>
                        <h2 id="question-title" class="question-text"></h2>
                    </div>
                    
                    <div id="options-container" class="options" role="radiogroup" aria-labelledby="question-title">
                        <!-- ÂãïÁöÑ„Å´Ë≥™Âïè„Ç™„Éó„Ç∑„Éß„É≥„ÅåÊåøÂÖ•„Åï„Çå„Çã -->
                    </div>
                </div>
                
                <div class="nav-controls">
                    <button id="prev-btn" class="btn btn-secondary" disabled>Ââç„ÅÆË≥™Âïè</button>
                    <button id="next-btn" class="btn btn-primary" disabled>Ê¨°„ÅÆË≥™Âïè</button>
                </div>
            </div>
        </section>
        
        <!-- ÂàÜÊûê‰∏≠ÁîªÈù¢ -->
        <section id="analysis-screen" class="screen" aria-labelledby="analysis-title">
            <div class="container">
                <div class="card">
                    <h2 id="analysis-title" class="result-title">ÂàÜÊûê‰∏≠...</h2>
                    <div class="loading">
                        <div class="spinner"></div>
                        <span>Triple OS„Ç∑„Çπ„ÉÜ„É†„ÇíÂàÜÊûê„Åó„Å¶„ÅÑ„Åæ„Åô</span>
                    </div>
                    <p style="text-align: center; color: var(--primary-300); margin-top: var(--space-lg);">
                        HaQeiÂì≤Â≠¶„Å´Âü∫„Å•„ÅèTriple OSÂàÜÊûê„ÇíÂÆüË°å‰∏≠„Åß„Åô<br>
                        <small>64Âç¶„Éá„Éº„Çø„Éô„Éº„Çπ„Éª8Ê¨°ÂÖÉ„Éô„ÇØ„Éà„É´„Ç®„É≥„Ç∏„É≥Áµ±Âêà</small>
                    </p>
                </div>
            </div>
        </section>
        
        <!-- ÁµêÊûúÁîªÈù¢ - Èù©Êñ∞ÁöÑ4Â±§ÊßãÈÄ†„Ç∑„Çπ„ÉÜ„É† -->
        <section id="results-screen" class="screen" aria-labelledby="results-title">
            <div class="container">
                <div class="result-header">
                    <h2 id="results-title" class="result-title">Triple OSÂàÜÊûêÁµêÊûú</h2>
                    <p style="color: var(--primary-200);">„ÅÇ„Å™„Åü„ÅÆ‰∏âÈáç‰∫∫Ê†º„Ç∑„Çπ„ÉÜ„É† - HaQeiÂì≤Â≠¶„Å´„Çà„ÇãÊà¶Áï•ÁöÑÁêÜËß£</p>
                </div>
                
                <!-- 4Â±§„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Çø„Éñ -->
                <div class="complexity-tabs">
                    <button class="tab-btn active" data-layer="basic">Âü∫Êú¨Â±§</button>
                    <button class="tab-btn" data-layer="detailed">Ë©≥Á¥∞Â±§</button>
                    <button class="tab-btn" data-layer="expert">Â∞ÇÈñÄÂ±§</button>
                    <button class="tab-btn" data-layer="integrated">Áµ±ÂêàÂ±§</button>
                </div>
                
                <!-- Âü∫Êú¨Â±§: ÊîπËâØ„Åï„Çå„ÅüOSÊ¶ÇË¶Å -->
                <div class="layer-content active" data-layer="basic">
                    <div id="os-cards-container" class="os-cards">
                        <!-- ÂãïÁöÑ„Å´ÁµêÊûú„ÅåÊåøÂÖ•„Åï„Çå„Çã -->
                    </div>
                    
                    <!-- Triple OSÁõ∏‰∫íÈñ¢‰øÇÂèØË¶ñÂåñ -->
                    <div class="triple-os-interaction-section">
                        <h3 class="section-title">üîÑ Triple OSÁõ∏‰∫íÈñ¢‰øÇ</h3>
                        <div class="interaction-visualization">
                            <canvas id="os-interaction-chart" width="400" height="400"></canvas>
                            <div class="interaction-legend">
                                <div class="legend-item">
                                    <span class="legend-color" style="background: #6366f1;"></span>
                                    <span>Engine OS (‰æ°ÂÄ§Ë¶≥„Ç∑„Çπ„ÉÜ„É†)</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color" style="background: #8b5cf6;"></span>
                                    <span>Interface OS (Á§æ‰ºöÁöÑ„Ç∑„Çπ„ÉÜ„É†)</span>
                                </div>
                                <div class="legend-item">
                                    <span class="legend-color" style="background: #10b981;"></span>
                                    <span>Safe Mode OS (Èò≤Âæ°„Ç∑„Çπ„ÉÜ„É†)</span>
                                </div>
                            </div>
                        </div>
                        <div id="dynamic-balance-display" class="dynamic-balance"></div>
                    </div>
                </div>
                
                <!-- Ë©≥Á¥∞Â±§: ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„ÉºÂàÜÊûê -->
                <div class="layer-content" data-layer="detailed">
                    <div class="trigram-energy-section">
                        <h3 class="section-title">‚òä ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„ÉºÂàÜÊûê</h3>
                        <div class="eight-dimensional-radar" style="position: relative; height: 500px; width: 100%; max-width: 500px; margin: 0 auto;">
                            <canvas id="trigram-energy-polar-chart" width="500" height="500" style="width: 100%; height: 100%; min-width: 300px; min-height: 300px;"></canvas>
                        </div>
                        <div id="trigram-balance-analysis" class="trigram-analysis"></div>
                    </div>
                    
                    <div class="energy-flow-section">
                        <h3 class="section-title">üåä „Ç®„Éç„É´„ÇÆ„Éº„Éï„É≠„ÉºÂàÜÊûê</h3>
                        <div id="energy-flow-visualization" class="energy-flow"></div>
                    </div>
                </div>
                
                <!-- Â∞ÇÈñÄÂ±§: 64Âç¶ÂÆåÂÖ®Ëß£Èáà -->
                <div class="layer-content" data-layer="expert">
                    <!-- HaQeiË§áÊï∞‰∫∫Ê†ºÂçîË™ø„ÉÅ„É£„Éº„Éà -->
                    <div class="chart-container">
                        <canvas id="haqei-persona-chart" width="400" height="400"></canvas>
                    </div>
                </div>
                <!-- 8Ê¨°ÂÖÉ„Éô„ÇØ„Éà„É´„ÉÅ„É£„Éº„ÉàÁî®Canvas -->
                <div class="chart-container" style="margin-top: var(--space-lg);">
                    <div class="chart-wrapper">
                        <canvas id="8d-vector-chart" width="500" height="500" style="width: 100%; height: 100%; min-width: 300px; min-height: 300px;"></canvas>
                    </div>
                    <div class="chart-explanation">
                        <h4>üå∏ HaQeiË§áÊï∞‰∫∫Ê†ºÂçîË™ø„Ç∑„Çπ„ÉÜ„É†</h4>
                        <p>3„Å§„ÅÆ‰∫∫Ê†ºOS„ÅÆ„Ç®„Éç„É´„ÇÆ„ÉºÈÖçÂàÜ„ÇíÂÜÜ„Ç∞„É©„Éï„ÅßË°®Á§∫„ÄÇÂçîË™ø„Ç∑„Çπ„ÉÜ„É†ÂÖ®‰Ωì„ÅÆ„Éê„É©„É≥„ÇπÁä∂ÊÖã„ÅåÁêÜËß£„Åß„Åç„Åæ„Åô„ÄÇ</p>
                    </div>
                    
                    <div class="hexagram-analysis-section">
                        <h3 class="section-title">‚òØ 64Âç¶ÂÆåÂÖ®Ëß£Èáà„Ç∑„Çπ„ÉÜ„É†</h3>
                        <div id="hexagram-detailed-analysis" class="hexagram-analysis"></div>
                        
                        <div class="change-hexagram-section">
                            <h4 class="subsection-title">üîÑ Â§âÂç¶„Ç∑„Çπ„ÉÜ„É† - ÊàêÈï∑„ÅÆÊñπÂêëÊÄß</h4>
                            <div id="change-hexagram-display" class="change-hexagram"></div>
                        </div>
                        
                        <div class="iching-wisdom-section">
                            <h4 class="subsection-title">üìú Âè§ÂÖ∏ÁöÑwisdom - Âç¶Ëæû„ÉªÁàªËæû</h4>
                            <div id="classical-wisdom-display" class="classical-wisdom"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Áµ±ÂêàÂ±§: HaQeiÂì≤Â≠¶ÁöÑÁµ±Âêà -->
                <div class="layer-content" data-layer="integrated">
                    <div class="HaQei-integration-section">
                        <h3 class="section-title">üîØ HaQeiÂì≤Â≠¶Áµ±Âêà - Êà¶Áï•ÁöÑËá™Â∑±ÁêÜËß£</h3>
                        <div id="HaQei-wisdom-display" class="HaQei-wisdom"></div>
                        
                        <div class="personalized-insights-section">
                            <h4 class="subsection-title">üí° „Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫„ÉâÊ¥ûÂØü</h4>
                            <div id="personalized-insights" class="insights-grid">
                                <div class="insight-card" id="growth-directions"></div>
                                <div class="insight-card" id="optimization-strategies"></div>
                                <div class="insight-card" id="stress-management"></div>
                                <div class="insight-card" id="comparative-analysis"></div>
                            </div>
                        </div>
                        
                        <div class="practical-wisdom-section">
                            <h4 class="subsection-title">üéØ ÂÆüË∑µÁöÑÊà¶Áï•ÊèêÊ°à</h4>
                            <div id="practical-strategies" class="strategies-container"></div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3 style="color: var(--primary-100); margin-bottom: var(--space-md);">ÂàÜÊûêÁµêÊûú„Çµ„Éû„É™„Éº</h3>
                    <div id="result-summary" style="color: var(--primary-200);">
                        <!-- ÂãïÁöÑ„Å´„Çµ„Éû„É™„Éº„ÅåÊåøÂÖ•„Åï„Çå„Çã -->
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: var(--space-xl);">
                    <button id="restart-btn" class="btn btn-secondary">
                        „ÇÇ„ÅÜ‰∏ÄÂ∫¶ÂàÜÊûê„Åô„Çã
                    </button>
                </div>
            </div>
        </section>
        
        <!-- „Ç®„É©„ÉºÁîªÈù¢ -->
        <section id="error-screen" class="screen" aria-labelledby="error-title">
            <div class="container">
                <div class="card">
                    <h2 id="error-title" class="result-title" style="color: var(--error-500);">„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü</h2>
                    <div id="error-message" class="error-message">
                        <!-- ÂãïÁöÑ„Å´„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏„ÅåÊåøÂÖ•„Åï„Çå„Çã -->
                    </div>
                    <div style="text-align: center; margin-top: var(--space-lg);">
                        <button id="retry-btn" class="btn btn-primary">
                            ÂÜçË©¶Ë°å
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>





        // ==========================================
        // HAQEI Emergency Analyzer - Vanilla JS
        // HaQeiÂì≤Â≠¶Ê∫ñÊã†„ÅÆÁ∑äÊÄ•Á∞°ÊòìÂàÜÊûê„Ç∑„Çπ„ÉÜ„É†
        // ==========================================
        
        'use strict';
        
        // 1. 30ÂïèË≥™Âïè„Éá„Éº„ÇøÔºà‰æ°ÂÄ§Ë¶≥24ÂïèÔºã„Ç∑„Éä„É™„Ç™6ÂïèÔºâ
        const QUESTIONS = [
          // Q1-Q3: ‰πæ_ÂâµÈÄ†ÊÄß
          {
            id: "q1",
            text: "Êñ∞„Åó„ÅÑ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇÑÂèñ„ÇäÁµÑ„Åø„ÇíÂßã„ÇÅ„Çã„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅåÊúÄ„ÇÇÈáçË¶ñ„Åô„Çã„Åì„Å®„ÅØÔºü",
            category: { title: "ÂâµÈÄ†ÊÄß„ÅÆÊ¨°ÂÖÉ", description: "Êñ∞„Åó„ÅÑÁâ©‰∫ã„Å∏„ÅÆÂèñ„ÇäÁµÑ„ÅøÊñπ„ÇíÊ∏¨ÂÆö„Åó„Åæ„Åô" },
            options: [
              { value: "A", text: "Ë™∞„ÇÇ„ÇÑ„Å£„Åü„Åì„Å®„ÅÆ„Å™„ÅÑÈù©Êñ∞ÁöÑ„Å™„Ç¢„Éó„É≠„Éº„ÉÅ„ÇíË©¶„Åô", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 3.0, "Èõ¢_Ë°®ÁèæÊÄß": 1.5, "ËâÆ_ÂÆâÂÆöÊÄß": -1.0 } },
              { value: "B", text: "Êó¢Â≠ò„ÅÆÊñπÊ≥ï„ÇíÊîπËâØ„Åó„Å¶„Çà„ÇäËâØ„ÅÑ„ÇÇ„ÅÆ„Å´„Åô„Çã", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 1.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.5, "Â∑Ω_ÈÅ©ÂøúÊÄß": 1.0 } },
              { value: "C", text: "„Åø„Çì„Å™„ÅßË©±„ÅóÂêà„Å£„Å¶ÊúÄÈÅ©„Å™ÊñπÊ≥ï„ÇíË¶ã„Å§„Åë„Çã", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 1.5, "‰πæ_ÂâµÈÄ†ÊÄß": -0.5 } },
              { value: "D", text: "ÈÅéÂéª„ÅÆÊàêÂäü‰æã„ÇíÂèÇËÄÉ„Å´„Åó„Å¶Á¢∫ÂÆü„Å´ÈÄ≤„ÇÅ„Çã", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.0, "‰πæ_ÂâµÈÄ†ÊÄß": -1.0 } },
              { value: "E", text: "Áä∂Ê≥Å„Å´Âøú„Åò„Å¶ÊüîËªü„Å´ÊñπÊ≥ï„ÇíË™øÊï¥„Åô„Çã", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.5, "ÂÖå_Ë™øÂíåÊÄß": 1.0, "ËâÆ_ÂÆâÂÆöÊÄß": -0.5 } },
          },
          {
            id: "q2", 
            text: "„Ç¢„Ç§„Éá„Ç¢„ÅåÊµÆ„Åã„Çì„Å†„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅÆË°åÂãï„Éë„Çø„Éº„É≥„ÅØÔºü",
            options: [
              { value: "A", text: "„Åô„Åê„Å´Êñ∞„Åó„ÅÑÂΩ¢„Å®„Åó„Å¶ÂÖ∑ÁèæÂåñ„Åó„Å¶„Åø„Åü„Åè„Å™„Çã", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 3.0, "Èúá_Ë°åÂãïÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": -1.0 } },
              { value: "B", text: "„Åæ„ÅöË©≥„Åó„ÅèË™ø„Åπ„Å¶„Åã„ÇâÂÆüË°å„Å´Áßª„Åô", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": -1.0 } },
              { value: "C", text: "Âë®„Çä„ÅÆ‰∫∫„Å®Áõ∏Ë´á„Åó„Å¶ÊÑèË¶ã„ÇíËÅû„Åè", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 1.5, "‰πæ_ÂâµÈÄ†ÊÄß": 0.5 } },
              { value: "D", text: "ÂÆüÁèæÂèØËÉΩÊÄß„ÇíÊÖéÈáç„Å´Ê§úË®é„Åô„Çã", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.5, "‰πæ_ÂâµÈÄ†ÊÄß": -0.5 } },
              { value: "E", text: "„Çø„Ç§„Éü„É≥„Ç∞„ÇíË¶ãË®à„Çâ„Å£„Å¶ÊúÄÈÅ©„Å™ÊôÇ„Å´ÂÆüË°å„Åô„Çã", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.0, "Èúá_Ë°åÂãïÊÄß": -0.5 } },
          },
          {
            id: "q3",
            text: "„ÄåÂâµÈÄ†„Åô„Çã„Äç„Å®„ÅÑ„ÅÜ„Åì„Å®„Å´„Å§„ÅÑ„Å¶„ÄÅ„ÅÇ„Å™„Åü„ÅÆËÄÉ„Åà„Å´ÊúÄ„ÇÇËøë„ÅÑ„ÅÆ„ÅØÔºü",
            options: [
              { value: "A", text: "‰Ωï„ÇÇ„Å™„ÅÑ„Å®„Åì„Çç„Åã„ÇâÂÖ®„ÅèÊñ∞„Åó„ÅÑ„ÇÇ„ÅÆ„ÇíÁîü„ÅøÂá∫„Åô„Åì„Å®", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 3.0, "Èõ¢_Ë°®ÁèæÊÄß": 1.5, "Âù§_ÂèóÂÆπÊÄß": -1.0 } },
              { value: "B", text: "„Åø„Çì„Å™„ÅßÂçîÂäõ„Åó„Å¶Á¥†Êô¥„Çâ„Åó„ÅÑ„ÇÇ„ÅÆ„Çí‰Ωú„Çä‰∏ä„Åí„Çã„Åì„Å®", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.0, "‰πæ_ÂâµÈÄ†ÊÄß": 1.0 } },
              { value: "C", text: "Ê∑±„ÅèÁ†îÁ©∂„Åó„Å¶Êñ∞„Åó„ÅÑÁô∫Ë¶ã„Çí„Åô„Çã„Åì„Å®", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 2.5, "‰πæ_ÂâµÈÄ†ÊÄß": 1.5, "ÂÖå_Ë™øÂíåÊÄß": -0.5 } },
              { value: "D", text: "ÁùÄÂÆü„Å´Á©ç„ÅøÈáç„Å≠„Å¶‰æ°ÂÄ§„ÅÇ„Çã„ÇÇ„ÅÆ„ÇíÁØâ„Åè„Åì„Å®", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 1.5, "‰πæ_ÂâµÈÄ†ÊÄß": 0.5 } },
              { value: "E", text: "Áä∂Ê≥Å„Å´Âêà„Çè„Åõ„Å¶ÊúÄÈÅ©„Å™Ëß£Ê±∫Á≠ñ„ÇíË¶ã„Å§„Åë„Çã„Åì„Å®", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.0, "‰πæ_ÂâµÈÄ†ÊÄß": 1.0 } },
          },
          
          // Q4-Q6: Èúá_Ë°åÂãïÊÄß
          {
            id: "q4",
            text: "„ÇÑ„Çâ„Å™„Åë„Çå„Å∞„Å™„Çâ„Å™„ÅÑ„Åì„Å®„Åå„ÅÇ„Çã„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅÆ„Çπ„Çø„Ç§„É´„ÅØÔºü",
            category: { title: "Ë°åÂãïÊÄß„ÅÆÊ¨°ÂÖÉ", description: "Ë°åÂãï„Å∏„ÅÆÂèñ„ÇäÁµÑ„ÅøÊñπ„ÇíÊ∏¨ÂÆö„Åó„Åæ„Åô" },
            options: [
              { value: "A", text: "„Åô„Åê„Å´Ë°åÂãï„ÇíËµ∑„Åì„Åó„Å¶Âã¢„ÅÑ„ÅßÈÄ≤„ÇÅ„Çã", scoring: { "Èúá_Ë°åÂãïÊÄß": 3.0, "‰πæ_ÂâµÈÄ†ÊÄß": 1.0, "ËâÆ_ÂÆâÂÆöÊÄß": -1.5 } },
              { value: "B", text: "Ë®àÁîª„ÇíÁ´ã„Å¶„Å¶„Åã„ÇâÁùÄÂÆü„Å´ÂÆüË°å„Åô„Çã", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.5, "Èúá_Ë°åÂãïÊÄß": -0.5 } },
              { value: "C", text: "Âë®„Çä„Å®ÂçîÂäõ„Åó„Å¶„ÉÅ„Éº„É†„ÅßÈÄ≤„ÇÅ„Çã", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 1.5, "Èúá_Ë°åÂãïÊÄß": 1.0 } },
              { value: "D", text: "Áä∂Ê≥Å„ÇíË¶ãÊ•µ„ÇÅ„Å¶„Åã„ÇâÊúÄÈÅ©„Å™„Çø„Ç§„Éü„É≥„Ç∞„ÅßÂãï„Åè", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.5, "Èúá_Ë°åÂãïÊÄß": 0.5 } },
              { value: "E", text: "Ëá™ÂàÜ„ÅÆÊÑüË¶ö„Çí‰ø°„Åò„Å¶Áõ¥ÊÑüÁöÑ„Å´ÈÄ≤„ÇÅ„Çã", scoring: { "Èõ¢_Ë°®ÁèæÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": -1.0 } },
          },
          {
            id: "q5",
            text: "„Çπ„Éà„É¨„Çπ„ÇÑÂõ∞Èõ£„Å™Áä∂Ê≥Å„Å´Áõ¥Èù¢„Åó„Åü„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅÆÁ¨¨‰∏ÄÂèçÂøú„ÅØÔºü",
            options: [
              { value: "A", text: "Âç≥Â∫ß„Å´ÂïèÈ°åËß£Ê±∫„Å´Âêë„Åë„Å¶Âãï„ÅçÂá∫„Åô", scoring: { "Èúá_Ë°åÂãïÊÄß": 3.0, "‰πæ_ÂâµÈÄ†ÊÄß": 1.5, "Âù§_ÂèóÂÆπÊÄß": -1.0 } },
              { value: "B", text: "ÂÜ∑Èùô„Å´Áä∂Ê≥Å„ÇíÂàÜÊûê„Åó„Å¶ÂéüÂõ†„ÇíÊé¢„Çã", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 3.0, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5, "Èúá_Ë°åÂãïÊÄß": -0.5 } },
              { value: "C", text: "‰ø°È†º„Åß„Åç„Çã‰∫∫„Å´Áõ∏Ë´á„Åó„Å¶ÊîØ„Åà„ÇíÊ±Ç„ÇÅ„Çã", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": 0.0 } },
              { value: "D", text: "ËêΩ„Å°ÁùÄ„ÅÑ„Å¶Áä∂Ê≥Å„ÅåÂ•ΩËª¢„Åô„Çã„ÅÆ„ÇíÂæÖ„Å§", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 1.5, "Èúá_Ë°åÂãïÊÄß": -1.5 } },
              { value: "E", text: "ÊüîËªü„Å´ÂØæÂøú„Åó„Å™„Åå„ÇâÊúÄÂñÑ„ÅÆÈÅì„ÇíÊé¢„Çã", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 3.0, "Âùé_Êé¢Ê±ÇÊÄß": 1.0, "Èúá_Ë°åÂãïÊÄß": 0.5 } },
          },
          {
            id: "q6",
            text: "Êñ∞„Åó„ÅÑÊåëÊà¶„ÇÑÊ©ü‰ºö„Åå„ÅÇ„Çã„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅÆÂèçÂøú„ÅØÔºü",
            options: [
              { value: "A", text: "„ÉØ„ÇØ„ÉØ„ÇØ„Åó„Å¶È£õ„Å≥Ëæº„Åø„Åü„Åè„Å™„Çã", scoring: { "Èúá_Ë°åÂãïÊÄß": 3.0, "‰πæ_ÂâµÈÄ†ÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": -1.0 } },
              { value: "B", text: "ËààÂë≥Ê∑±„ÅÑ„Åå„ÄÅ„Åæ„ÅöË©≥„Åó„ÅèË™ø„Åπ„Å¶„Åã„ÇâÊ±∫„ÇÅ„Çã", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": -0.5 } },
              { value: "C", text: "„É™„Çπ„ÇØ„Å®Âà©Áõä„ÇíÊÖéÈáç„Å´Â§©Áß§„Å´„Åã„Åë„Çã", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.5, "Èúá_Ë°åÂãïÊÄß": -1.0 } },
              { value: "D", text: "Âë®„Çä„ÅÆÊÑèË¶ã„ÇíËÅû„ÅÑ„Å¶„Åã„ÇâÂà§Êñ≠„Åô„Çã", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 1.5, "‰πæ_ÂâµÈÄ†ÊÄß": -0.5 } },
              { value: "E", text: "Ëá™ÂàÜ„Å´„Å®„Å£„Å¶Êú¨ÂΩì„Å´‰æ°ÂÄ§„Åå„ÅÇ„Çã„ÅãËÄÉ„Åà„Çã", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5, "Â∑Ω_ÈÅ©ÂøúÊÄß": 1.0 } },
          },
          
          // Q7-Q9: Âùé_Êé¢Ê±ÇÊÄß
          {
            id: "q7",
            text: "Áü•„Çâ„Å™„ÅÑ„Åì„Å®„Å´Âá∫‰ºö„Å£„Åü„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅÆÂèçÂøú„ÅØÔºü",
            category: { title: "Êé¢Ê±ÇÊÄß„ÅÆÊ¨°ÂÖÉ", description: "Áü•Ë≠ò„ÇÑÁêÜËß£„Å∏„ÅÆÂèñ„ÇäÁµÑ„ÅøÊñπ„ÇíÊ∏¨ÂÆö„Åó„Åæ„Åô" },
            options: [
              { value: "A", text: "Ê∑±„ÅèÊéò„Çä‰∏ã„Åí„Å¶ÂæπÂ∫ïÁöÑ„Å´ÁêÜËß£„Åó„Åü„Åè„Å™„Çã", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 3.0, "ËâÆ_ÂÆâÂÆöÊÄß": 1.0, "Èúá_Ë°åÂãïÊÄß": -0.5 } },
              { value: "B", text: "Êñ∞„Åó„ÅÑÁô∫Ë¶ã„ÇÑÂèØËÉΩÊÄß„ÇíË¶ã„Å§„Åë„Åü„Åè„Å™„Çã", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.5, "Âùé_Êé¢Ê±ÇÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": -0.5 } },
              { value: "C", text: "„Åø„Çì„Å™„Åß‰∏ÄÁ∑í„Å´Â≠¶„Å≥Âêà„ÅÑ„Åü„Åè„Å™„Çã", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 1.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.0 } },
              { value: "D", text: "ÂÆüÁî®ÁöÑ„ÅßÂΩπ„Å´Á´ã„Å§ÈÉ®ÂàÜ„ÇíÁü•„Çä„Åü„Åè„Å™„Çã", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.0, "Â∑Ω_ÈÅ©ÂøúÊÄß": 1.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.5 } },
              { value: "E", text: "ÂøÖË¶Å„Å´Âøú„Åò„Å¶Â∞ë„Åó„Åö„Å§ÁêÜËß£„Åó„Å¶„ÅÑ„Åè", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 1.0, "Âùé_Êé¢Ê±ÇÊÄß": 0.5 } },
          },
          {
            id: "q8",
            text: "Ë§áÈõë„Å™ÂïèÈ°å„Å´Áõ¥Èù¢„Åó„Åü„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅÆ„Ç¢„Éó„É≠„Éº„ÉÅ„ÅØÔºü",
            options: [
              { value: "A", text: "ÂïèÈ°å„ÅÆÊú¨Ë≥™„ÇíË¶ãÊ•µ„ÇÅ„Çã„Åæ„ÅßËÄÉ„ÅàÊäú„Åè", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 3.0, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5, "Èúá_Ë°åÂãïÊÄß": -1.0 } },
              { value: "B", text: "Êñ∞„Åó„ÅÑË¶ñÁÇπ„Åã„ÇâÂïèÈ°å„ÇíÊçâ„ÅàÁõ¥„Åô", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.5, "Âùé_Êé¢Ê±ÇÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": -0.5 } },
              { value: "C", text: "„ÅÑ„Çç„ÅÑ„Çç„Å™‰∫∫„ÅÆÊÑèË¶ã„ÇíËÅû„ÅÑ„Å¶ÂèÇËÄÉ„Å´„Åô„Çã", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.0, "Âùé_Êé¢Ê±ÇÊÄß": 0.5 } },
              { value: "D", text: "„Åæ„ÅöË°åÂãï„Åó„Å¶„Åø„Å¶„ÄÅ„ÇÑ„Çä„Å™„Åå„ÇâËß£Ê±∫Á≠ñ„ÇíË¶ã„Å§„Åë„Çã", scoring: { "Èúá_Ë°åÂãïÊÄß": 3.0, "Â∑Ω_ÈÅ©ÂøúÊÄß": 1.5, "Âùé_Êé¢Ê±ÇÊÄß": -0.5 } },
              { value: "E", text: "ÈÅéÂéª„ÅÆÁµåÈ®ì„ÇÑ‰∫ã‰æã„ÇíÂèÇËÄÉ„Å´„Åó„Å¶Ëß£Ê±∫„Åô„Çã", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.0, "‰πæ_ÂâµÈÄ†ÊÄß": -0.5 } },
          },
          {
            id: "q9",
            text: "Â≠¶Áøí„ÇÑÁ†îÁ©∂„Å´„Å§„ÅÑ„Å¶„ÄÅ„ÅÇ„Å™„Åü„ÅÆÂßøÂã¢„ÅØÔºü",
            options: [
              { value: "A", text: "ÁúüÁêÜ„ÇÑÊú¨Ë≥™„ÇíËøΩÊ±Ç„Åô„Çã„Åì„Å®„Å´Âñú„Å≥„ÇíÊÑü„Åò„Çã", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 3.0, "ËâÆ_ÂÆâÂÆöÊÄß": 1.0, "Èúá_Ë°åÂãïÊÄß": -0.5 } },
              { value: "B", text: "Êñ∞„Åó„ÅÑÁô∫Ë¶ã„Åã„ÇâÂâµÈÄ†ÁöÑ„Å™„Ç¢„Ç§„Éá„Ç¢„ÇíÂæó„Åü„ÅÑ", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.5, "Âùé_Êé¢Ê±ÇÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": -0.5 } },
              { value: "C", text: "Â≠¶„Çì„Å†„Åì„Å®„Çí„Åø„Çì„Å™„Å®ÂÖ±Êúâ„Åó„Åü„ÅÑ", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Èõ¢_Ë°®ÁèæÊÄß": 1.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.0 } },
              { value: "D", text: "ÂÆüÁîüÊ¥ª„ÅßÊ¥ªÁî®„Åß„Åç„ÇãÁü•Ë≠ò„ÇíË∫´„Å´„Å§„Åë„Åü„ÅÑ", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.0 } },
              { value: "E", text: "Áä∂Ê≥Å„Å´Âøú„Åò„Å¶ÂøÖË¶Å„Å™Áü•Ë≠ò„ÇíÂäπÁéá„Çà„ÅèÂ≠¶„Å∂", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 3.0, "ËâÆ_ÂÆâÂÆöÊÄß": 1.0, "Âùé_Êé¢Ê±ÇÊÄß": 0.5 } },
          },
          
          // Q10-Q12: ËâÆ_ÂÆâÂÆöÊÄß
          {
            id: "q10",
            text: "ÈáçË¶Å„Å™Ê±∫Êñ≠„Çí„Åô„Çã„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅåÊúÄ„ÇÇÈáçË¶ñ„Åô„Çã„Åì„Å®„ÅØÔºü",
            category: { title: "ÂÆâÂÆöÊÄß„ÅÆÊ¨°ÂÖÉ", description: "ÊåÅÁ∂öÊÄß„ÇÑÁ¢∫ÂÆüÊÄß„Å∏„ÅÆ‰æ°ÂÄ§Ë¶≥„ÇíÊ∏¨ÂÆö„Åó„Åæ„Åô" },
            options: [
              { value: "A", text: "Á¢∫ÂÆüÊÄß„ÅåÈ´ò„Åè„ÄÅ„É™„Çπ„ÇØ„ÅÆÂ∞ë„Å™„ÅÑÈÅ∏ÊäûËÇ¢", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 3.0, "Âù§_ÂèóÂÆπÊÄß": 1.0, "‰πæ_ÂâµÈÄ†ÊÄß": -1.5 } },
              { value: "B", text: "Èù©Êñ∞ÁöÑ„ÅßÂ§ß„Åç„Å™ÂèØËÉΩÊÄß„ÅÆ„ÅÇ„ÇãÈÅ∏ÊäûËÇ¢", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 3.0, "Èúá_Ë°åÂãïÊÄß": 1.5, "ËâÆ_ÂÆâÂÆöÊÄß": -1.0 } },
              { value: "C", text: "„Åø„Çì„Å™„ÅåÁ¥çÂæó„Åß„Åç„ÇãÈÅ∏ÊäûËÇ¢", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": 0.5 } },
              { value: "D", text: "Ë´ñÁêÜÁöÑ„Å´ÊúÄ„ÇÇÂêàÁêÜÁöÑ„Å™ÈÅ∏ÊäûËÇ¢", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5, "ÂÖå_Ë™øÂíåÊÄß": -0.5 } },
              { value: "E", text: "Áä∂Ê≥Å„Å´Âøú„Åò„Å¶ÊüîËªü„Å´Â§âÊõ¥„Åß„Åç„ÇãÈÅ∏ÊäûËÇ¢", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 3.0, "ËâÆ_ÂÆâÂÆöÊÄß": -0.5, "Âùé_Êé¢Ê±ÇÊÄß": 0.5 } },
          },
          {
            id: "q11",
            text: "Èï∑ÊúüÁöÑ„Å™ÁõÆÊ®ô„Å´„Å§„ÅÑ„Å¶„ÄÅ„ÅÇ„Å™„Åü„ÅÆËÄÉ„ÅàÊñπ„ÅØÔºü",
            options: [
              { value: "A", text: "ÁùÄÂÆü„Å´Á©ç„ÅøÈáç„Å≠„Å¶Á¢∫ÂÆü„Å´ÈÅîÊàê„Åó„Åü„ÅÑ", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 3.0, "Âù§_ÂèóÂÆπÊÄß": 1.5, "Èúá_Ë°åÂãïÊÄß": -0.5 } },
              { value: "B", text: "Â§ßËÉÜ„Å™ÊåëÊà¶„ÅßÂ§ß„Åç„Å™ÊàêÊûú„ÇíÁõÆÊåá„Åó„Åü„ÅÑ", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.5, "Èúá_Ë°åÂãïÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": -1.0 } },
              { value: "C", text: "„Åø„Çì„Å™„Å®‰∏ÄÁ∑í„Å´ÊàêÈï∑„Åó„Å¶„ÅÑ„Åç„Åü„ÅÑ", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": 0.5 } },
              { value: "D", text: "Ê∑±„ÅèÊé¢Ê±Ç„Åó„Å¶Â∞ÇÈñÄÊÄß„ÇíÈ´ò„ÇÅ„Åü„ÅÑ", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5, "ÂÖå_Ë™øÂíåÊÄß": -0.5 } },
              { value: "E", text: "Áä∂Ê≥Å„Å´Âøú„Åò„Å¶ÁõÆÊ®ô„ÇíÊüîËªü„Å´Ë™øÊï¥„Åó„Åü„ÅÑ", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": -0.5, "‰πæ_ÂâµÈÄ†ÊÄß": 1.0 } },
          },
          {
            id: "q12",
            text: "„ÄåÁ∂ôÁ∂ö„Äç„ÇÑ„ÄåÊåÅÁ∂ö„Äç„Å´„Å§„ÅÑ„Å¶„ÄÅ„ÅÇ„Å™„Åü„ÅÆ‰æ°ÂÄ§Ë¶≥„ÅØÔºü",
            options: [
              { value: "A", text: "‰∏ÄÂ∫¶Âßã„ÇÅ„Åü„Åì„Å®„ÅØÊúÄÂæå„Åæ„Åß„ÇÑ„ÇäÈÅÇ„Åí„Çã„Åì„Å®„ÅåÂ§ßÂàá", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 3.0, "Âù§_ÂèóÂÆπÊÄß": 1.0, "Â∑Ω_ÈÅ©ÂøúÊÄß": -0.5 } },
              { value: "B", text: "Â∏∏„Å´Êñ∞„Åó„ÅÑ„Åì„Å®„Å´ÊåëÊà¶„ÅóÁ∂ö„Åë„Çã„Åì„Å®„ÅåÂ§ßÂàá", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.5, "Èúá_Ë°åÂãïÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": -1.5 } },
              { value: "C", text: "„Åø„Çì„Å™„Å®ËâØ„ÅÑÈñ¢‰øÇ„ÇíÈï∑„Åè‰øù„Å§„Åì„Å®„ÅåÂ§ßÂàá", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": 1.0 } },
              { value: "D", text: "Ê∑±„ÅèÂ≠¶„Å≥Á∂ö„Åë„Å¶ÁêÜËß£„ÇíÊ∑±„ÇÅ„Çã„Åì„Å®„ÅåÂ§ßÂàá", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5, "Èúá_Ë°åÂãïÊÄß": -0.5 } },
              { value: "E", text: "Â§âÂåñ„Å´Âêà„Çè„Åõ„Å¶ÈÅ©Âøú„ÅóÁ∂ö„Åë„Çã„Åì„Å®„ÅåÂ§ßÂàá", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 3.0, "ËâÆ_ÂÆâÂÆöÊÄß": -1.0, "‰πæ_ÂâµÈÄ†ÊÄß": 1.0 } },
          },
          
          // Q13-Q15: Âù§_ÂèóÂÆπÊÄß
          {
            id: "q13",
            text: "‰ªñ„ÅÆ‰∫∫„Å®„ÅÆÈñ¢„Çè„ÇäÊñπ„Åß„ÄÅ„ÅÇ„Å™„Åü„ÅÆÁâπÂæ¥„ÅØÔºü",
            category: { title: "ÂèóÂÆπÊÄß„ÅÆÊ¨°ÂÖÉ", description: "‰ªñËÄÖ„Å®„ÅÆÈñ¢„Çè„ÇäÊñπ„ÇÑÂèó„ÅëÂÖ•„Çå„ÇãÂäõ„ÇíÊ∏¨ÂÆö„Åó„Åæ„Åô" },
            options: [
              { value: "A", text: "Á©çÊ•µÁöÑ„Å´„É™„Éº„Éâ„Åó„Å¶Êñ∞„Åó„ÅÑÊñπÂêëÊÄß„ÇíÁ§∫„Åô", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.5, "Èúá_Ë°åÂãïÊÄß": 2.0, "Âù§_ÂèóÂÆπÊÄß": -0.5 } },
              { value: "B", text: "Áõ∏Êâã„ÅÆË©±„Çí„Åò„Å£„Åè„ÇäËÅû„ÅÑ„Å¶ÁêÜËß£„Åó„Çà„ÅÜ„Å®„Åô„Çã", scoring: { "Âù§_ÂèóÂÆπÊÄß": 3.0, "ÂÖå_Ë™øÂíåÊÄß": 1.5, "Èúá_Ë°åÂãïÊÄß": -0.5 } },
              { value: "C", text: "„Åä‰∫í„ÅÑ„ÅÆÊÑèË¶ã„Çí‰∫§Êèõ„Åó„Å¶Â≠¶„Å≥Âêà„ÅÜ", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.0, "Âùé_Êé¢Ê±ÇÊÄß": 1.0 } },
              { value: "D", text: "„Ç®„Éç„É´„ÇÆ„ÉÉ„Ç∑„É•„Å´Ê¥ªÂãï„Åó„Å¶Áõõ„Çä‰∏ä„Åí„Çã", scoring: { "Èúá_Ë°åÂãïÊÄß": 2.5, "Èõ¢_Ë°®ÁèæÊÄß": 2.0, "Âù§_ÂèóÂÆπÊÄß": -1.0 } },
              { value: "E", text: "Áõ∏Êâã„Å´Âêà„Çè„Åõ„Å¶ÈÅ©Âàá„Å™Ë∑ùÈõ¢ÊÑü„Çí‰øù„Å§", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 1.5, "Èõ¢_Ë°®ÁèæÊÄß": -0.5 } },
          },
          {
            id: "q14",
            text: "Âõ∞„Å£„Å¶„ÅÑ„Çã‰∫∫„ÇíË¶ã„Åã„Åë„Åü„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅÆÂèçÂøú„ÅØÔºü",
            options: [
              { value: "A", text: "Êñ∞„Åó„ÅÑËß£Ê±∫ÊñπÊ≥ï„ÇíÊèêÊ°à„Åó„Å¶„Çµ„Éù„Éº„Éà„Åô„Çã", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": 1.5, "Âù§_ÂèóÂÆπÊÄß": 1.0 } },
              { value: "B", text: "„Åæ„ÅöÁõ∏Êâã„ÅÆÊ∞óÊåÅ„Å°„ÇíÂèó„ÅëÊ≠¢„ÇÅ„Å¶ÂØÑ„ÇäÊ∑ª„ÅÜ", scoring: { "Âù§_ÂèóÂÆπÊÄß": 3.0, "ÂÖå_Ë™øÂíåÊÄß": 1.5, "Èúá_Ë°åÂãïÊÄß": -0.5 } },
              { value: "C", text: "‰∏ÄÁ∑í„Å´Ëß£Ê±∫Á≠ñ„ÇíËÄÉ„Åà„Å¶ÂÆüË°å„Åô„Çã", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Èúá_Ë°åÂãïÊÄß": 1.5, "Âù§_ÂèóÂÆπÊÄß": 1.5 } },
              { value: "D", text: "ÂïèÈ°å„ÅÆÂéüÂõ†„ÇíÂàÜÊûê„Åó„Å¶Ê†πÊú¨ÁöÑ„Å™Ëß£Ê±∫„ÇíÂõ≥„Çã", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5, "Âù§_ÂèóÂÆπÊÄß": 0.5 } },
              { value: "E", text: "„Åù„ÅÆ‰∫∫„Å´ÊúÄ„ÇÇÈÅ©„Åó„ÅüÊîØÊè¥ÊñπÊ≥ï„ÇíË¶ã„Å§„Åë„Çã", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.0, "Âùé_Êé¢Ê±ÇÊÄß": 1.0 } },
          },
          {
            id: "q15",
            text: "„ÄåÊîØ„Åà„Çã„Äç„Å®„ÅÑ„ÅÜ„Åì„Å®„Å´„Å§„ÅÑ„Å¶„ÄÅ„ÅÇ„Å™„Åü„ÅÆËÄÉ„Åà„ÅØÔºü",
            options: [
              { value: "A", text: "Êñ∞„Åó„ÅÑÂèØËÉΩÊÄß„ÇíÈñã„ÅÑ„Å¶‰∫∫„ÇíÂä±„Åæ„Åô„Åì„Å®", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": 1.5, "Âù§_ÂèóÂÆπÊÄß": 1.5 } },
              { value: "B", text: "„Å©„Çì„Å™ÊôÇ„ÇÇÂ§â„Çè„Çâ„Åö„Åù„Å∞„Å´„ÅÑ„Çã„Åì„Å®", scoring: { "Âù§_ÂèóÂÆπÊÄß": 3.0, "ËâÆ_ÂÆâÂÆöÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": -0.5 } },
              { value: "C", text: "ÂÖ±„Å´Âñú„Å≥„ÄÅÂÖ±„Å´ÊÇ≤„Åó„ÇÄ„Åì„Å®", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.5, "Èõ¢_Ë°®ÁèæÊÄß": 0.5 } },
              { value: "D", text: "ÂÖ∑‰ΩìÁöÑ„Å™Ë°åÂãï„ÅßÂÆüÈöõ„Å´Âä©„Åë„Çã„Åì„Å®", scoring: { "Èúá_Ë°åÂãïÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 1.5, "ËâÆ_ÂÆâÂÆöÊÄß": 1.0 } },
              { value: "E", text: "Áõ∏Êâã„ÅÆÁä∂Ê≥Å„Å´Âêà„Çè„Åõ„Å¶ÊúÄÈÅ©„Å™ÊîØÊè¥„Çí„Åô„Çã„Åì„Å®", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 3.0, "Âù§_ÂèóÂÆπÊÄß": 2.0, "Âùé_Êé¢Ê±ÇÊÄß": 0.5 } },
          },
          
          // Q16-Q18: Â∑Ω_ÈÅ©ÂøúÊÄß
          {
            id: "q16",
            text: "‰∫àÊúü„Åó„Å™„ÅÑÂ§âÂåñ„ÇÑÂõ∞Èõ£„Å´Áõ¥Èù¢„Åó„Åü„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅÆÂØæÂøú„ÅØÔºü",
            category: { title: "ÈÅ©ÂøúÊÄß„ÅÆÊ¨°ÂÖÉ", description: "Â§âÂåñ„ÇÑÁä∂Ê≥Å„Å∏„ÅÆÈÅ©ÂøúÂäõ„ÇíÊ∏¨ÂÆö„Åó„Åæ„Åô" },
            options: [
              { value: "A", text: "„Åì„Çå„ÇíÊ©ü‰ºö„Å´Êñ∞„Åó„ÅÑ„Åì„Å®„Å´ÊåëÊà¶„Åô„Çã", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.5, "Èúá_Ë°åÂãïÊÄß": 2.0, "Â∑Ω_ÈÅ©ÂøúÊÄß": 1.0 } },
              { value: "B", text: "Áä∂Ê≥Å„Å´Âêà„Çè„Åõ„Å¶ÊüîËªü„Å´ÊñπÈáù„ÇíË™øÊï¥„Åô„Çã", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 3.0, "ÂÖå_Ë™øÂíåÊÄß": 1.0, "ËâÆ_ÂÆâÂÆöÊÄß": -0.5 } },
              { value: "C", text: "„Åø„Çì„Å™„ÅßÂçîÂäõ„Åó„Å¶‰πó„ÇäË∂ä„Åà„ÇãÊñπÊ≥ï„ÇíÊé¢„Åô", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.0, "Â∑Ω_ÈÅ©ÂøúÊÄß": 1.5 } },
              { value: "D", text: "ÂéüÂõ†„ÇíÂàÜÊûê„Åó„Å¶Ê†πÊú¨ÁöÑ„Å™ÂØæÁ≠ñ„ÇíÁ´ã„Å¶„Çã", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5, "Â∑Ω_ÈÅ©ÂøúÊÄß": 0.5 } },
              { value: "E", text: "Á¢∫ÂÆü„ÅßÂÆâÂÖ®„Å™ÊñπÊ≥ï„ÅßÂØæÂá¶„Åô„Çã", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 1.5, "Â∑Ω_ÈÅ©ÂøúÊÄß": -0.5 } },
          },
          {
            id: "q17",
            text: "Áï∞„Å™„Çã‰æ°ÂÄ§Ë¶≥„ÅÆ‰∫∫„Åü„Å°„Å®‰∏ÄÁ∑í„Å´Ê¥ªÂãï„Åô„Çã„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅÆÂΩπÂâ≤„ÅØÔºü",
            options: [
              { value: "A", text: "Êñ∞„Åó„ÅÑË¶ñÁÇπ„ÇÑ„Ç¢„Ç§„Éá„Ç¢„ÇíÊèê‰æõ„Åô„Çã", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.5, "Èõ¢_Ë°®ÁèæÊÄß": 1.5, "Â∑Ω_ÈÅ©ÂøúÊÄß": 1.0 } },
              { value: "B", text: "„Åø„Çì„Å™„ÅÆÊÑèË¶ã„ÇíË™øÊï¥„Åó„Å¶Ê©ãÊ∏°„Åó„Çí„Åô„Çã", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 3.0, "ÂÖå_Ë™øÂíåÊÄß": 2.0, "Èõ¢_Ë°®ÁèæÊÄß": 0.5 } },
              { value: "C", text: "ÂÖ®‰Ωì„ÅÆÈõ∞Âõ≤Ê∞ó„ÇíÂíå„ÇÑ„Åã„Å´‰øù„Å§", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.0, "Â∑Ω_ÈÅ©ÂøúÊÄß": 1.0 } },
              { value: "D", text: "Á©çÊ•µÁöÑ„Å´Ë°åÂãï„Åó„Å¶Â†¥„ÇíÁõõ„Çä‰∏ä„Åí„Çã", scoring: { "Èúá_Ë°åÂãïÊÄß": 2.5, "Èõ¢_Ë°®ÁèæÊÄß": 2.0, "Â∑Ω_ÈÅ©ÂøúÊÄß": 0.5 } },
              { value: "E", text: "ÂÆâÂÆö„Åó„ÅüÂü∫Áõ§„ÇíÊèê‰æõ„Åó„Å¶ÊîØ„Åà„Çã", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.0, "Â∑Ω_ÈÅ©ÂøúÊÄß": -0.5 } },
          },
          {
            id: "q18",
            text: "„ÄåÊüîËªüÊÄß„Äç„Å´„Å§„ÅÑ„Å¶„ÄÅ„ÅÇ„Å™„Åü„ÅÆ‰æ°ÂÄ§Ë¶≥„ÅØÔºü",
            options: [
              { value: "A", text: "Êñ∞„Åó„ÅÑÂèØËÉΩÊÄß„ÇíÁîü„ÅøÂá∫„Åô„Åü„ÇÅ„Å´ÂøÖË¶Å„Å™„ÇÇ„ÅÆ", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.0, "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": -0.5 } },
              { value: "B", text: "„Å©„Çì„Å™Áä∂Ê≥Å„Åß„ÇÇÂØæÂøú„Åß„Åç„ÇãÂ§ßÂàá„Å™ËÉΩÂäõ", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 3.0, "Èúá_Ë°åÂãïÊÄß": 1.0, "ËâÆ_ÂÆâÂÆöÊÄß": -0.5 } },
              { value: "C", text: "‰∫∫„Å®„ÅÆÈñ¢‰øÇ„ÇíËâØÂ•Ω„Å´‰øù„Å§„Åü„ÇÅ„Å´ÈáçË¶Å„Å™„ÇÇ„ÅÆ", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.0, "Âù§_ÂèóÂÆπÊÄß": 1.0 } },
              { value: "D", text: "ÂäπÊûúÁöÑ„Å´Ë°åÂãï„Åô„Çã„Åü„ÇÅ„ÅÆÊâãÊÆµ„ÅÆ‰∏Ä„Å§", scoring: { "Èúá_Ë°åÂãïÊÄß": 2.0, "Â∑Ω_ÈÅ©ÂøúÊÄß": 1.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.0 } },
              { value: "E", text: "‰∏ÄË≤´ÊÄß„Åå„ÅÇ„Å£„Å¶„Åì„ÅùÊÑèÂë≥„ÇíÊåÅ„Å§„ÇÇ„ÅÆ", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.5, "Â∑Ω_ÈÅ©ÂøúÊÄß": -0.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.0 } },
          },
          
          // Q19-Q21: Èõ¢_Ë°®ÁèæÊÄß
          {
            id: "q19",
            text: "Ëá™ÂàÜ„ÅÆËÄÉ„Åà„ÇÑÊ∞óÊåÅ„Å°„ÇíË°®Áèæ„Åô„Çã„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅÆ„Çπ„Çø„Ç§„É´„ÅØÔºü",
            category: { title: "Ë°®ÁèæÊÄß„ÅÆÊ¨°ÂÖÉ", description: "Ëá™Â∑±Ë°®ÁèæÂäõ„ÇÑÂΩ±ÈüøÂäõ„ÇíÊ∏¨ÂÆö„Åó„Åæ„Åô" },
            options: [
              { value: "A", text: "Áã¨ÂâµÁöÑ„ÅßÂç∞Ë±°„Å´ÊÆã„ÇãÊñπÊ≥ï„ÅßË°®Áèæ„Åô„Çã", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.0, "Èõ¢_Ë°®ÁèæÊÄß": 3.0, "ËâÆ_ÂÆâÂÆöÊÄß": -0.5 } },
              { value: "B", text: "Áõ∏Êâã„Å´Âêà„Çè„Åõ„Å¶ÂàÜ„Åã„Çä„ÇÑ„Åô„Åè‰ºù„Åà„Çã", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.0, "ÂÖå_Ë™øÂíåÊÄß": 1.5, "Èõ¢_Ë°®ÁèæÊÄß": 1.5 } },
              { value: "C", text: "Ë´ñÁêÜÁöÑ„ÅßË™¨ÂæóÂäõ„ÅÆ„ÅÇ„ÇãË™¨Êòé„Çí„Åô„Çã", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5, "Èõ¢_Ë°®ÁèæÊÄß": 1.0 } },
              { value: "D", text: "ÁéáÁõ¥„ÅßÊ≠£Áõ¥„Å™Ë°®Áèæ„ÇíÂøÉ„Åå„Åë„Çã", scoring: { "Èúá_Ë°åÂãïÊÄß": 1.5, "Èõ¢_Ë°®ÁèæÊÄß": 2.0, "ÂÖå_Ë™øÂíåÊÄß": -0.5 } },
              { value: "E", text: "Áõ∏Êâã„ÅÆÊ∞óÊåÅ„Å°„Å´ÂØÑ„ÇäÊ∑ª„ÅÑ„Å™„Åå„Çâ‰ºù„Åà„Çã", scoring: { "Âù§_ÂèóÂÆπÊÄß": 2.5, "ÂÖå_Ë™øÂíåÊÄß": 2.0, "Èõ¢_Ë°®ÁèæÊÄß": 0.5 } },
          },
          {
            id: "q20",
            text: "Ê≥®ÁõÆ„ÇíÊµ¥„Å≥„ÇãÂ†¥Èù¢„Åß„ÄÅ„ÅÇ„Å™„Åü„ÅÆÂèçÂøú„ÅØÔºü",
            options: [
              { value: "A", text: "Ëá™ÂàÜ„Çâ„Åó„Åï„ÇíÊÄù„ÅÑÂàá„ÇäÁô∫ÊèÆ„Åô„Çã", scoring: { "Èõ¢_Ë°®ÁèæÊÄß": 3.0, "‰πæ_ÂâµÈÄ†ÊÄß": 1.5, "Âù§_ÂèóÂÆπÊÄß": -0.5 } },
              { value: "B", text: "Â†¥„ÅÆÈõ∞Âõ≤Ê∞ó„Å´Âêà„Çè„Åõ„Å¶ÈÅ©Âàá„Å´ÊåØ„ÇãËàû„ÅÜ", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.5, "ÂÖå_Ë™øÂíåÊÄß": 1.5, "Èõ¢_Ë°®ÁèæÊÄß": 0.5 } },
              { value: "C", text: "„Åø„Çì„Å™„ÅåÊ•Ω„Åó„ÇÅ„Çã„Çà„ÅÜ„Å´ÈÖçÊÖÆ„Åô„Çã", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.0, "Èõ¢_Ë°®ÁèæÊÄß": 1.0 } },
              { value: "D", text: "Êéß„Åà„ÇÅ„Å´ÊåØ„ÇãËàû„Å£„Å¶ÁõÆÁ´ã„Åü„Å™„ÅÑ„Çà„ÅÜ„Å´„Åô„Çã", scoring: { "Âù§_ÂèóÂÆπÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5, "Èõ¢_Ë°®ÁèæÊÄß": -1.0 } },
              { value: "E", text: "„Ç®„Éç„É´„ÇÆ„ÉÉ„Ç∑„É•„Å´Ë°åÂãï„Åó„Å¶Â†¥„ÇíÁõõ„Çä‰∏ä„Åí„Çã", scoring: { "Èúá_Ë°åÂãïÊÄß": 2.5, "Èõ¢_Ë°®ÁèæÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": -0.5 } },
          },
          {
            id: "q21",
            text: "„ÄåÂΩ±ÈüøÂäõ„ÇíÊåÅ„Å§„Äç„Å®„ÅÑ„ÅÜ„Åì„Å®„Å´„Å§„ÅÑ„Å¶„ÄÅ„ÅÇ„Å™„Åü„ÅÆËÄÉ„Åà„ÅØÔºü",
            options: [
              { value: "A", text: "Êñ∞„Åó„ÅÑ‰æ°ÂÄ§Ë¶≥„ÇÑÂèØËÉΩÊÄß„Çí‰ºù„Åà„ÇãÂäõ", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.5, "Èõ¢_Ë°®ÁèæÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": -0.5 } },
              { value: "B", text: "Ëá™ÂàÜ„ÅÆÂÄãÊÄß„ÇÑÈ≠ÖÂäõ„Åß‰∫∫„ÇíÊÉπ„Åç„Å§„Åë„ÇãÂäõ", scoring: { "Èõ¢_Ë°®ÁèæÊÄß": 3.0, "Èúá_Ë°åÂãïÊÄß": 1.0, "ËâÆ_ÂÆâÂÆöÊÄß": -0.5 } },
              { value: "C", text: "„Åø„Çì„Å™„Çí„Åæ„Å®„ÇÅ„Å¶ËâØ„ÅÑÊñπÂêë„Å´Â∞é„ÅèÂäõ", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Èúá_Ë°åÂãïÊÄß": 1.5, "Èõ¢_Ë°®ÁèæÊÄß": 1.5 } },
              { value: "D", text: "Ë°åÂãï„ÅßÁ§∫„Åó„Å¶Âë®„Çä„ÇíÂãï„Åã„ÅôÂäõ", scoring: { "Èúá_Ë°åÂãïÊÄß": 2.5, "Èõ¢_Ë°®ÁèæÊÄß": 1.5, "Âù§_ÂèóÂÆπÊÄß": -0.5 } },
              { value: "E", text: "‰ø°È†º„Å®ÂÆüÁ∏æ„ÅßË™ç„ÇÅ„Çâ„Çå„ÇãÂäõ", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 1.5, "Èõ¢_Ë°®ÁèæÊÄß": 0.5 } },
          },
          
          // Q22-Q24: ÂÖå_Ë™øÂíåÊÄß
          {
            id: "q22",
            text: "ÂØæÁ´ã„ÇÑÊÑèË¶ã„ÅÆË°ùÁ™Å„ÅåËµ∑„Åç„Åü„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅÆÂØæÂøú„ÅØÔºü",
            category: { title: "Ë™øÂíåÊÄß„ÅÆÊ¨°ÂÖÉ", description: "ÂçîË™øÊÄß„ÇÑË™øÂíå„ÇíÈáçË¶ñ„Åô„ÇãÂäõ„ÇíÊ∏¨ÂÆö„Åó„Åæ„Åô" },
            options: [
              { value: "A", text: "Êñ∞„Åó„ÅÑË¶ñÁÇπ„ÇíÊèêÁ§∫„Åó„Å¶ÊµÅ„Çå„ÇíÂ§â„Åà„Çã", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.0, "Èõ¢_Ë°®ÁèæÊÄß": 1.5, "ÂÖå_Ë™øÂíåÊÄß": 1.0 } },
              { value: "B", text: "ÂèåÊñπ„ÅÆËâØ„ÅÑÁÇπ„ÇíË¶ã„Å§„Åë„Å¶Ê©ãÊ∏°„Åó„Çí„Åô„Çã", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 3.0, "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": -0.5 } },
              { value: "C", text: "ÂÜ∑Èùô„Å´ÂàÜÊûê„Åó„Å¶ÂÆ¢Ë¶≥ÁöÑ„Å™Ëß£Ê±∫Á≠ñ„ÇíÊèêÁ§∫„Åô„Çã", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5, "ÂÖå_Ë™øÂíåÊÄß": 0.5 } },
              { value: "D", text: "Á©çÊ•µÁöÑ„Å´Ë°åÂãï„Åó„Å¶Áä∂Ê≥Å„ÇíÊâìÈñã„Åô„Çã", scoring: { "Èúá_Ë°åÂãïÊÄß": 2.5, "‰πæ_ÂâµÈÄ†ÊÄß": 1.0, "ÂÖå_Ë™øÂíåÊÄß": -0.5 } },
              { value: "E", text: "Áõ∏Êâã„ÅÆÊ∞óÊåÅ„Å°„ÇíÂèó„ÅëÊ≠¢„ÇÅ„Å¶ÂØÑ„ÇäÊ∑ª„ÅÜ", scoring: { "Âù§_ÂèóÂÆπÊÄß": 2.5, "ÂÖå_Ë™øÂíåÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": -1.0 } },
          },
          {
            id: "q23",
            text: "‰∫∫„Å®„ÅÆÈñ¢‰øÇ„ÅßÊúÄ„ÇÇÂ§ßÂàá„Å´„Åó„Å¶„ÅÑ„Çã„Åì„Å®„ÅØÔºü",
            options: [
              { value: "A", text: "„Åä‰∫í„ÅÑ„Å´Âà∫ÊøÄ„ÅóÂêà„Å£„Å¶ÊàêÈï∑„Åß„Åç„Çã„Åì„Å®", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": 1.5, "ÂÖå_Ë™øÂíåÊÄß": 1.5 } },
              { value: "B", text: "Á¨ëÈ°î„ÅßÊ•Ω„Åó„ÅÑÊôÇÈñì„ÇíÂÖ±Êúâ„Åß„Åç„Çã„Åì„Å®", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 3.0, "Èõ¢_Ë°®ÁèæÊÄß": 1.5, "Âùé_Êé¢Ê±ÇÊÄß": -0.5 } },
              { value: "C", text: "Ê∑±„ÅèÁêÜËß£„ÅóÂêà„Åà„Çã„Åì„Å®", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 2.0, "Âù§_ÂèóÂÆπÊÄß": 2.0, "ÂÖå_Ë™øÂíåÊÄß": 1.5 } },
              { value: "D", text: "‰∫í„ÅÑ„ÇíÊîØ„ÅàÂêà„Åà„Çã„Åì„Å®", scoring: { "Âù§_ÂèóÂÆπÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 2.0, "ÂÖå_Ë™øÂíåÊÄß": 2.0 } },
              { value: "E", text: "Áõ∏Êâã„Å´Âêà„Çè„Åõ„Å¶ÈÅ©Âàá„Å™Èñ¢‰øÇ„ÇíÁØâ„Åë„Çã„Åì„Å®", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.5, "ÂÖå_Ë™øÂíåÊÄß": 2.0, "Âù§_ÂèóÂÆπÊÄß": 1.0 } },
          },
          {
            id: "q24",
            text: "„Äå„Å§„Å™„Åå„Çä„Äç„ÇÑ„ÄåÁµÜ„Äç„Å´„Å§„ÅÑ„Å¶„ÄÅ„ÅÇ„Å™„Åü„ÅÆ‰æ°ÂÄ§Ë¶≥„ÅØÔºü",
            options: [
              { value: "A", text: "Êñ∞„Åó„ÅÑÂá∫‰ºö„ÅÑ„Åã„ÇâÁîü„Åæ„Çå„ÇãÂèØËÉΩÊÄß„ÅåÂ§ßÂàá", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": 1.5, "ÂÖå_Ë™øÂíåÊÄß": 1.0 } },
              { value: "B", text: "„Åä‰∫í„ÅÑ„Å´Âñú„Å≥„ÇíÂàÜ„Åã„Å°Âêà„Åà„Çã„Åì„Å®„ÅåÂ§ßÂàá", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 3.0, "Èõ¢_Ë°®ÁèæÊÄß": 1.0, "ËâÆ_ÂÆâÂÆöÊÄß": 0.5 } },
              { value: "C", text: "Ê∑±„ÅÑ‰ø°È†ºÈñ¢‰øÇ„ÇíÁØâ„Åë„Çã„Åì„Å®„ÅåÂ§ßÂàá", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.0, "Âù§_ÂèóÂÆπÊÄß": 2.0, "ÂÖå_Ë™øÂíåÊÄß": 1.5 } },
              { value: "D", text: "Âõ∞„Å£„ÅüÊôÇ„Å´ÊîØ„ÅàÂêà„Åà„Çã„Åì„Å®„ÅåÂ§ßÂàá", scoring: { "Âù§_ÂèóÂÆπÊÄß": 2.5, "ÂÖå_Ë™øÂíåÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": 0.5 } },
              { value: "E", text: "„Åä‰∫í„ÅÑ„ÅÆÈÅï„ÅÑ„ÇíË™ç„ÇÅÂêà„Åà„Çã„Åì„Å®„ÅåÂ§ßÂàá", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.0, "Âù§_ÂèóÂÆπÊÄß": 2.0, "ÂÖå_Ë™øÂíåÊÄß": 2.0 } },
          },
          
          // Q25-Q30: „Ç∑„Éä„É™„Ç™Ë®≠ÂïèÔºàInterface/SafeMode OSÁâπÂÆöÁî®Ôºâ
          {
            id: "q25",
            text: "„ÅÇ„Å™„Åü„Åå‰ºöÁ§æ„ÅßÊñ∞„Åó„ÅÑ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„É™„Éº„ÉÄ„Éº„Å´‰ªªÂëΩ„Åï„Çå„Åæ„Åó„Åü„ÄÇ„É°„É≥„Éê„Éº„ÅØÁµåÈ®ìË±äÂØå„Åß„Åô„Åå„ÄÅ„Åù„Çå„Åû„ÇåÁï∞„Å™„ÇãÊÑèË¶ã„ÇíÊåÅ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇÊúÄÂàù„ÅÆ„Éü„Éº„ÉÜ„Ç£„É≥„Ç∞„Åß„ÄÅ„ÅÇ„Å™„Åü„ÅØ„Å©„ÅÆ„Çà„ÅÜ„Å´„ÉÅ„Éº„É†„Çí„Åæ„Å®„ÇÅ„Åæ„Åô„ÅãÔºü",
            category: { title: "„Ç∑„Éä„É™„Ç™Ë®≠Âïè", description: "ÂÖ∑‰ΩìÁöÑ„Å™Áä∂Ê≥Å„Åß„ÅÆË°åÂãï„Éë„Çø„Éº„É≥„ÇíÂàÜÊûê„Åó„Åæ„Åô" },
            options: [
              { value: "A", text: "ÂÖ®Âì°„ÅÆÊÑèË¶ã„Çí„Åò„Å£„Åè„ÇäËÅû„ÅÑ„Å¶„Åã„Çâ„ÄÅ„Åø„Çì„Å™„ÅåÁ¥çÂæó„Åß„Åç„ÇãÊäòË°∑Ê°à„Çí‰Ωú„Çã", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 3.0, "Âù§_ÂèóÂÆπÊÄß": 2.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.0 } },
              { value: "B", text: "ÊòéÁ¢∫„Å™„Éì„Ç∏„Éß„É≥„ÇíÁ§∫„Åó„ÄÅ„Åù„Åì„Å´Âêë„Åã„Å£„Å¶„É°„É≥„Éê„Éº„ÇíÂ∞é„Åè", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.5, "Èõ¢_Ë°®ÁèæÊÄß": 2.5, "Èúá_Ë°åÂãïÊÄß": 2.0 } },
              { value: "C", text: "ÂêÑ„É°„É≥„Éê„Éº„ÅÆÂº∑„Åø„ÇíÂàÜÊûê„Åó„ÄÅÊúÄÈÅ©„Å™ÂΩπÂâ≤ÂàÜÊãÖ„ÇíÊèêÊ°à„Åô„Çã", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 2.5, "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5 } },
              { value: "D", text: "ÈÅéÂéª„ÅÆÊàêÂäü‰∫ã‰æã„ÇíÂÖ±Êúâ„Åó„ÄÅÂÆüÁ∏æ„Å´Âü∫„Å•„ÅÑ„ÅüÊñπÊ≥ïË´ñ„ÇíÊèêÊ°à„Åô„Çã", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.5, "ÂÖå_Ë™øÂíåÊÄß": 1.0 } },
              { value: "E", text: "„Åæ„Åö„ÅØÂ∞è„Åï„Å™ÊàêÂäü„ÇíÁõÆÊåá„Åó„ÄÅ„ÉÅ„Éº„É†„ÅÆÁµêÊùü„ÇíÈ´ò„ÇÅ„Å™„Åå„ÇâÈÄ≤„ÇÅ„Çã", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.0, "ÂÖå_Ë™øÂíåÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": 2.0 } },
          },
          {
            id: "q26",
            text: "ÈáçË¶Å„Å™„Éó„É¨„Çº„É≥„ÉÜ„Éº„Ç∑„Éß„É≥„ÅÆÁõ¥Ââç„Å´„ÄÅÊäÄË°ìÁöÑ„Å™ÂïèÈ°å„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ„ÅÇ„Å™„Åü„ÅÆÂØæÂøú„ÅØÔºü",
            options: [
              { value: "A", text: "‰ª£ÊõøÊ°à„ÇíÂç≥Â∫ß„Å´ËÄÉ„Åà„Å¶„ÄÅ‰∫àÂÆöÈÄö„ÇäÂÆüË°å„Åô„Çã", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.5, "Èúá_Ë°åÂãïÊÄß": 2.5, "Â∑Ω_ÈÅ©ÂøúÊÄß": 2.0 } },
              { value: "B", text: "ÂïèÈ°å„ÇíÊ≠£Áõ¥„Å´Ë™¨Êòé„Åó„ÄÅÁêÜËß£„ÇíÊ±Ç„ÇÅ„Å™„Åå„ÇâÈÄ≤„ÇÅ„Çã", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.0, "Èõ¢_Ë°®ÁèæÊÄß": 1.5 } },
              { value: "C", text: "„ÉÅ„Éº„É†ÂÖ®Âì°„ÅßÂçîÂäõ„Åó„Å¶ÊúÄÂñÑ„ÅÆËß£Ê±∫Á≠ñ„ÇíË¶ã„Å§„Åë„Çã", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 3.0, "Âù§_ÂèóÂÆπÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": 1.0 } },
              { value: "D", text: "ÂïèÈ°å„ÅÆÂéüÂõ†„ÇíÂàÜÊûê„Åó„ÄÅÊ†πÊú¨ÁöÑ„Å™ÂØæÁ≠ñ„ÇíÊ§úË®é„Åô„Çã", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 3.0, "ËâÆ_ÂÆâÂÆöÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": -0.5 } },
              { value: "E", text: "Âª∂Êúü„ÇíÊèêÊ°à„Åó„ÄÅÂÆåÁíß„Å™Áä∂ÊÖã„ÅßÂÆüÊñΩ„Åô„Çã", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 3.0, "Âù§_ÂèóÂÆπÊÄß": 1.0, "Èúá_Ë°åÂãïÊÄß": -1.0 } },
          },
          {
            id: "q27",
            text: "Êñ∞„Åó„ÅÑÁí∞Â¢ÉÔºàËª¢ËÅ∑„ÄÅÂºï„Å£Ë∂ä„ÅóÁ≠âÔºâ„Å´ÁΩÆ„Åã„Çå„Åü„Å®„Åç„ÄÅ„ÅÇ„Å™„Åü„ÅÆÈÅ©ÂøúÊñπÊ≥ï„ÅØÔºü",
            options: [
              { value: "A", text: "Á©çÊ•µÁöÑ„Å´Êñ∞„Åó„ÅÑ„Åì„Å®„Å´ÊåëÊà¶„Åó„Å¶„ÄÅËá™ÂàÜ„Çâ„Åó„Åï„ÇíÁô∫ÊèÆ„Åô„Çã", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.5, "Èúá_Ë°åÂãïÊÄß": 2.5, "Èõ¢_Ë°®ÁèæÊÄß": 2.0 } },
              { value: "B", text: "Âë®„Çä„ÅÆ‰∫∫„Å®„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„ÇíÂèñ„Çä„ÄÅÈñ¢‰øÇÊÄß„ÇíÁØâ„Åè", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 3.0, "Âù§_ÂèóÂÆπÊÄß": 2.0, "Èõ¢_Ë°®ÁèæÊÄß": 1.0 } },
              { value: "C", text: "Áí∞Â¢É„Çí„Çà„ÅèË¶≥ÂØü„Åó„ÄÅ„É´„Éº„É´„ÇÑÊñáÂåñ„ÇíÁêÜËß£„Åô„Çã", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 2.0, "Â∑Ω_ÈÅ©ÂøúÊÄß": 1.5 } },
              { value: "D", text: "ÈÅéÂéª„ÅÆÁµåÈ®ì„ÇíÊ¥ª„Åã„Åó„ÄÅÁùÄÂÆü„Å´Âü∫Áõ§„ÇíÂõ∫„ÇÅ„Çã", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 3.0, "Âù§_ÂèóÂÆπÊÄß": 1.5, "Âùé_Êé¢Ê±ÇÊÄß": 1.0 } },
              { value: "E", text: "Áä∂Ê≥Å„Å´Âêà„Çè„Åõ„Å¶„ÄÅÂøÖË¶Å„Å´Âøú„Åò„Å¶Ëá™ÂàÜ„ÇíË™øÊï¥„Åô„Çã", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 3.0, "ÂÖå_Ë™øÂíåÊÄß": 1.5, "Âù§_ÂèóÂÆπÊÄß": 1.0 } },
          },
          {
            id: "q28",
            text: "Â§ßÂàá„Å™Ê±∫Êñ≠„ÇíËø´„Çâ„Çå„ÄÅÈôê„Çâ„Çå„ÅüÊÉÖÂ†±„Åó„Åã„Å™„ÅÑÁä∂Ê≥Å„Åß„ÅØÔºü",
            options: [
              { value: "A", text: "Áõ¥ÊÑü„Çí‰ø°„Åò„Å¶„ÄÅÁ¥†Êó©„ÅèÊ±∫Êñ≠„Åô„Çã", scoring: { "Èõ¢_Ë°®ÁèæÊÄß": 2.5, "Èúá_Ë°åÂãïÊÄß": 2.5, "‰πæ_ÂâµÈÄ†ÊÄß": 1.5 } },
              { value: "B", text: "‰ø°È†º„Åß„Åç„Çã‰∫∫„Å´Áõ∏Ë´á„Åó„Å¶„ÄÅÊÑèË¶ã„ÇíÊ±Ç„ÇÅ„Çã", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 1.0 } },
              { value: "C", text: "ÂèØËÉΩ„Å™Èôê„ÇäÊÉÖÂ†±„ÇíÂèéÈõÜ„Åó„Å¶„Åã„ÇâÂà§Êñ≠„Åô„Çã", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 3.0, "ËâÆ_ÂÆâÂÆöÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": -0.5 } },
              { value: "D", text: "„É™„Çπ„ÇØ„ÇíÊúÄÂ∞èÈôê„Å´Êäë„Åà„ÇãÈÅ∏ÊäûËÇ¢„ÇíÈÅ∏„Å∂", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 3.0, "Âù§_ÂèóÂÆπÊÄß": 1.5, "‰πæ_ÂâµÈÄ†ÊÄß": -1.0 } },
              { value: "E", text: "Ë§áÊï∞„ÅÆ„Ç∑„Éä„É™„Ç™„ÇíÊÉ≥ÂÆö„Åó„Å¶„ÄÅÊüîËªü„Å™Ë®àÁîª„ÇíÁ´ã„Å¶„Çã", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 3.0, "Âùé_Êé¢Ê±ÇÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": 0.5 } },
          },
          {
            id: "q29",
            text: "„ÉÅ„Éº„É†„ÅÆÊàêÊûú„ÅåÊúüÂæÖ„Çí‰∏ãÂõû„Å£„ÅüÂ†¥Âêà„ÄÅ„ÅÇ„Å™„Åü„ÅÆÂèçÂøú„ÅØÔºü",
            options: [
              { value: "A", text: "Êñ∞„Åó„ÅÑ„Ç¢„Éó„É≠„Éº„ÉÅ„ÇíÊèêÊ°à„Åó„ÄÅ„ÉÅ„Éº„É†„ÇíÈºìËàû„Åô„Çã", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 2.5, "Èúá_Ë°åÂãïÊÄß": 2.0, "Èõ¢_Ë°®ÁèæÊÄß": 2.0 } },
              { value: "B", text: "„É°„É≥„Éê„Éº„ÅÆÊ∞óÊåÅ„Å°„Å´ÂØÑ„ÇäÊ∑ª„ÅÑ„ÄÅÊîØÊè¥„ÇíÂº∑Âåñ„Åô„Çã", scoring: { "Âù§_ÂèóÂÆπÊÄß": 3.0, "ÂÖå_Ë™øÂíåÊÄß": 2.0, "ËâÆ_ÂÆâÂÆöÊÄß": 1.0 } },
              { value: "C", text: "ÂÆ¢Ë¶≥ÁöÑ„Å´ÂàÜÊûê„Åó„ÄÅÊîπÂñÑÁÇπ„ÇíÊòéÁ¢∫„Å´„Åô„Çã", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 3.0, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5, "ÂÖå_Ë™øÂíåÊÄß": 0.5 } },
              { value: "D", text: "Ë≤¨‰ªª„ÇíÂèñ„Çä„ÄÅ„Çà„ÇäÁ¢∫ÂÆü„Å™ÊñπÊ≥ï„Å´Â§âÊõ¥„Åô„Çã", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 2.5, "Âù§_ÂèóÂÆπÊÄß": 2.0, "Èúá_Ë°åÂãïÊÄß": 1.0 } },
              { value: "E", text: "Áä∂Ê≥Å„Å´Âøú„Åò„Å¶Êà¶Áï•„ÇíÊüîËªü„Å´Ë™øÊï¥„Åô„Çã", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 3.0, "Âùé_Êé¢Ê±ÇÊÄß": 1.5, "ÂÖå_Ë™øÂíåÊÄß": 1.0 } },
          },
          {
            id: "q30",
            text: "‰∫∫Áîü„ÅÆÈáçË¶Å„Å™Ëª¢Ê©ü„Å´„Åä„ÅÑ„Å¶„ÄÅ„ÅÇ„Å™„Åü„ÅåÊúÄ„ÇÇÂ§ßÂàá„Å´„Åó„Åü„ÅÑ‰æ°ÂÄ§Ë¶≥„ÅØÔºü",
            options: [
              { value: "A", text: "Êñ∞„Åó„ÅÑÂèØËÉΩÊÄß„Å∏„ÅÆÊåëÊà¶„Å®ÊàêÈï∑", scoring: { "‰πæ_ÂâµÈÄ†ÊÄß": 3.0, "Èúá_Ë°åÂãïÊÄß": 2.0, "Èõ¢_Ë°®ÁèæÊÄß": 1.0 } },
              { value: "B", text: "Â§ßÂàá„Å™‰∫∫„Å®„ÅÆÁµÜ„Å®„Å§„Å™„Åå„Çä", scoring: { "ÂÖå_Ë™øÂíåÊÄß": 3.0, "Âù§_ÂèóÂÆπÊÄß": 2.5, "ËâÆ_ÂÆâÂÆöÊÄß": 1.0 } },
              { value: "C", text: "ÁúüÁêÜ„ÅÆÊé¢Ê±Ç„Å®Ê∑±„ÅÑÁêÜËß£", scoring: { "Âùé_Êé¢Ê±ÇÊÄß": 3.0, "ËâÆ_ÂÆâÂÆöÊÄß": 1.5, "ÂÖå_Ë™øÂíåÊÄß": 0.5 } },
              { value: "D", text: "ÂÆâÂÆö„Åó„ÅüÂü∫Áõ§„Å®Á¢∫ÂÆü„Å™Ê≠©„Åø", scoring: { "ËâÆ_ÂÆâÂÆöÊÄß": 3.0, "Âù§_ÂèóÂÆπÊÄß": 2.0, "‰πæ_ÂâµÈÄ†ÊÄß": -0.5 } },
              { value: "E", text: "Â§âÂåñ„Å∏„ÅÆÈÅ©Âøú„Å®ÊüîËªü„Å™ÂØæÂøú", scoring: { "Â∑Ω_ÈÅ©ÂøúÊÄß": 3.0, "ÂÖå_Ë™øÂíåÊÄß": 1.5, "ËâÆ_ÂÆâÂÆöÊÄß": -0.5 } },
        ];
        
        // QUESTIONS„Çíwindow„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Å´Ë®≠ÂÆö
        window.QUESTIONS = QUESTIONS;
        
        // 2. 64Âç¶„Éá„Éº„Çø„Éô„Éº„ÇπÔºàhexagrams.jsonÁµ±ÂêàÔºâ
        window.HEXAGRAMS = [
            { hexagram_id: 1, name_jp: "‰πæÁÇ∫Â§©", reading: "„Åë„Çì„ÅÑ„Å¶„Çì", catchphrase: "Â§©Áøî„Åë„ÇãÈæç„ÅÆ„Çà„ÅÜ„Å™„ÄÅÂ§©ÊÄß„ÅÆ„É™„Éº„ÉÄ„Éº", upper_trigram_id: 1, lower_trigram_id: 1, description: "„ÅÇ„Å™„Åü„ÅÆÂøÉ„ÅÆÂ••Â∫ï„Å´„ÅØ„ÄÅÂ§©„ÇíÁøî„Åë„ÇãÈæç„ÅÆ„Çà„ÅÜ„Å™Â£ÆÂ§ß„Å™„Ç®„Éç„É´„ÇÆ„Éº„ÅåÂÆø„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇÊñ∞„Åó„ÅÑÈÅì„ÇíÂàá„ÇäÈñã„Åç„ÄÅ‰∫∫„ÄÖ„ÇíÂ∞é„Åè„Åì„Å®„Å´ÊúÄ„ÇÇ‰æ°ÂÄ§„ÇíË¶ãÂá∫„Åô„ÅÇ„Å™„Åü„ÅØ„ÄÅÁîü„Åæ„Çå„Å™„Åå„Çâ„ÅÆ„É™„Éº„ÉÄ„Éº„Åß„Åô„ÄÇ", keywords: "ÂâµÈÄ†,„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó,Âäõ" },
            { hexagram_id: 2, name_jp: "Âù§ÁÇ∫Âú∞", reading: "„Åì„Çì„ÅÑ„Å°", catchphrase: "Â§ßÂú∞„ÅÆÊØç„ÅÆ„Çà„ÅÜ„Å´„ÄÅ„Åô„Åπ„Å¶„ÇíÂèó„ÅëÂÖ•„Çå„Çã‰∫∫", upper_trigram_id: 8, lower_trigram_id: 8, description: "„ÅÇ„Å™„Åü„ÅÆÂøÉ„Å´„ÅØ„ÄÅÂ§ßÂú∞„ÅÆ„Çà„ÅÜ„Å™Â∫ÉÂ§ß„ÅßÊ∑±„ÅÑÂåÖÂÆπÂäõ„ÅåÂÇô„Çè„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ‰∫∫„ÇÑÁâ©‰∫ã„ÇíËÇ≤„Åø„ÄÅÊîØ„Åà„Çã„Åì„Å®„Å´ÊúÄ„ÇÇÂñú„Å≥„ÇíÊÑü„Åò„Çã„ÅÇ„Å™„Åü„ÅØ„ÄÅÂë®Âõ≤„Å´„Å®„Å£„Å¶Ê¨†„Åã„Åõ„Å™„ÅÑÂ≠òÂú®„Åß„Åô„ÄÇ", keywords: "ÂèóÂÆπ,ËÇ≤Êàê,„Çµ„Éù„Éº„Éà" },
            { hexagram_id: 3, name_jp: "Ê∞¥Èõ∑Â±Ø", reading: "„Åô„ÅÑ„Çâ„ÅÑ„Å°„ÇÖ„Çì", catchphrase: "Âõ∞Èõ£„Çí‰πó„ÇäË∂ä„Åà„ÇãÂäõÂº∑„ÅÑÊÑèÂøó", description: "Êñ∞„Åó„ÅÑÂßã„Åæ„Çä„Å´„ÅØÂõ∞Èõ£„Åå‰º¥„ÅÑ„Åæ„Åô„Åå„ÄÅ„ÅÇ„Å™„Åü„Å´„ÅØ „Åù„Çå„Çí‰πó„ÇäË∂ä„Åà„ÇãÂº∑„ÅÑÊÑèÂøó„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ", keywords: "Âßã„Åæ„Çä,Âõ∞Èõ£,ÊàêÈï∑" },
            { hexagram_id: 4, name_jp: "Â±±Ê∞¥Ëíô", reading: "„Åï„Çì„Åô„ÅÑ„ÇÇ„ÅÜ", catchphrase: "Â≠¶„Å≥„Å®ÊàêÈï∑„ÅÆÊé¢Ê±ÇËÄÖ", description: "Áü•Ë≠ò„ÇíÊ±Ç„ÇÅ„ÄÅÊàêÈï∑„ÅóÁ∂ö„Åë„Çã„Åì„Å®„Åå„ÅÇ„Å™„Åü„ÅÆÊú¨Ë≥™„Åß„Åô„ÄÇ", keywords: "Â≠¶Áøí,ÊàêÈï∑,Êé¢Ê±Ç" },
            { hexagram_id: 5, name_jp: "Ê∞¥Â§©ÈúÄ", reading: "„Åô„ÅÑ„Å¶„Çì„Åò„ÇÖ", catchphrase: "ÂøçËÄêÂº∑„ÅèÊ©ü‰ºö„ÇíÂæÖ„Å§‰∫∫", description: "ÈÅ©Âàá„Å™„Çø„Ç§„Éü„É≥„Ç∞„ÇíË¶ãÊ•µ„ÇÅ„ÇãÊô∫ÊÖß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ", keywords: "ÂøçËÄê,„Çø„Ç§„Éü„É≥„Ç∞,Ê∫ñÂÇô" },
            { hexagram_id: 6, name_jp: "Â§©Ê∞¥Ë®ü", reading: "„Å¶„Çì„Åô„ÅÑ„Åó„Çá„ÅÜ", catchphrase: "Ê≠£Áæ©„ÇíÊ±Ç„ÇÅ„ÇãÂãáÊ∞ó„ÅÇ„Çã‰∫∫", description: "Ê≠£„Åó„ÅÑ„Åì„Å®„ÅÆ„Åü„ÇÅ„Å´Á´ã„Å°‰∏ä„Åå„ÇãÂãáÊ∞ó„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ", keywords: "Ê≠£Áæ©,ÂØæÁ´ã,Ëß£Ê±∫" },
            { hexagram_id: 7, name_jp: "Âú∞Ê∞¥Â∏´", reading: "„Å°„Åô„ÅÑ„Åó", catchphrase: "ÁµÑÁπî„ÇíÁéá„ÅÑ„Çã„É™„Éº„ÉÄ„Éº", description: "„ÉÅ„Éº„É†„ÇíÁµ±Áéá„ÅóÁõÆÊ®ôÈÅîÊàê„Å´Â∞é„ÅèÂäõ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ", keywords: "„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó,ÁµÑÁπî,Áµ±Áéá" },
            { hexagram_id: 8, name_jp: "Ê∞¥Âú∞ÊØî", reading: "„Åô„ÅÑ„Å°„Å≤", catchphrase: "Ë™øÂíå„Å®ÂçîÂäõ„ÇíÈáçË¶ñ„Åô„Çã‰∫∫", description: "‰ªñËÄÖ„Å®„ÅÆË™øÂíå„ÇíÂ§ßÂàá„Å´„Åó„ÄÅÂçîÂäõÈñ¢‰øÇ„ÇíÁØâ„Åè„ÅÆ„ÅåÂæóÊÑè„Åß„Åô„ÄÇ", keywords: "Ë™øÂíå,ÂçîÂäõ,ÁµêÊùü" },
            { hexagram_id: 9, name_jp: "È¢®Â§©Â∞èÁïú", reading: "„Åµ„ÅÜ„Å¶„Çì„Åó„Çá„ÅÜ„Å°„Åè", catchphrase: "Á¥∞„ÇÑ„Åã„Å™ÈÖçÊÖÆ„ÅßÊàêÊûú„ÇíÁ©ç„ÅøÈáç„Å≠„Çã‰∫∫", description: "Â∞è„Åï„Å™Âä™Âäõ„ÇíÁ©ç„ÅøÈáç„Å≠„Å¶Â§ß„Åç„Å™ÊàêÊûú„ÇíÁîü„ÅøÂá∫„Åó„Åæ„Åô„ÄÇ", keywords: "ËìÑÁ©ç,ÈÖçÊÖÆ,ÁùÄÂÆü" },
            { hexagram_id: 10, name_jp: "Â§©Ê≤¢Â±•", reading: "„Å¶„Çì„Åü„Åè„Çä", catchphrase: "Á§ºÂÑÄ„Å®ÂìÅÊ†º„ÇíÈáç„Çì„Åò„Çã‰∫∫", description: "Ê≠£„Åó„ÅÑÈÅì„ÇíÊ≠©„Åø„ÄÅÂìÅÊ†º„Çí‰øù„Å§„Åì„Å®„ÇíÂ§ßÂàá„Å´„Åó„Åæ„Åô„ÄÇ", keywords: "Á§ºÂÑÄ,ÂìÅÊ†º,Ê≠£ÈÅì" },
            { hexagram_id: 11, name_jp: "Âú∞Â§©Ê≥∞", reading: "„Å°„Å¶„Çì„Åü„ÅÑ", catchphrase: "Âπ≥Âíå„Å®ÁπÅÊ†Ñ„Çí„ÇÇ„Åü„Çâ„Åô‰∫∫", description: "Ë™øÂíå„Å®„Éê„É©„É≥„Çπ„Å´„Çà„ÇäÂπ≥Âíå„Å®ÁπÅÊ†Ñ„ÇíÂÆüÁèæ„Åó„Åæ„Åô„ÄÇ", keywords: "Âπ≥Âíå,ÁπÅÊ†Ñ,Ë™øÂíå" },
            { hexagram_id: 12, name_jp: "Â§©Âú∞Âê¶", reading: "„Å¶„Çì„Å°„Å≤", catchphrase: "Âõ∞Èõ£„Å™ÊôÇÊúü„Çí‰πó„ÇäË∂ä„Åà„ÇãÂøçËÄêÂäõ", description: "ÈÄÜÂ¢É„Å´Â±à„Åõ„Åö„ÄÅÊôÇÊúü„ÇíÂæÖ„Å§Êô∫ÊÖß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ", keywords: "ÈÄÜÂ¢É,ÂøçËÄê,Ëª¢Êèõ" },
            { hexagram_id: 13, name_jp: "Â§©ÁÅ´Âêå‰∫∫", reading: "„Å¶„Çì„Åã„Å©„ÅÜ„Åò„Çì", catchphrase: "‰∫∫„ÄÖ„ÇíÂõ£Áµê„Åï„Åõ„ÇãË™øÂíå„ÅÆÂäõ", description: "ÂÖ±ÈÄö„ÅÆÁõÆÊ®ô„Å´Âêë„Åã„Å£„Å¶‰∫∫„ÄÖ„ÇíÁµêÊùü„Åï„Åõ„ÇãÂäõ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ", keywords: "Âõ£Áµê,ÂçîÂäõ,Ë™øÂíå" },
            { hexagram_id: 14, name_jp: "ÁÅ´Â§©Â§ßÊúâ", reading: "„Åã„Å¶„Çì„Å†„ÅÑ„ÇÜ„ÅÜ", catchphrase: "Ë±ä„Åã„Åï„Å®ÊàêÂäü„ÇíÊâã„Å´„Åô„Çã‰∫∫", description: "Â§ß„Åç„Å™ÊàêÊûú„Å®Ë±ä„Åã„Åï„ÇíÂÆüÁèæ„Åô„ÇãÂäõ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ", keywords: "ÊàêÂäü,Ë±äÁ©£,ÁπÅÊ†Ñ" },
            { hexagram_id: 15, name_jp: "Âú∞Â±±Ë¨ô", reading: "„Å°„Åñ„Çì„Åë„Çì", catchphrase: "Ë¨ôËôö„Åï„Åß‰∫∫„ÄÖ„Åã„Çâ‰ø°È†º„Åï„Çå„Çã‰∫∫", description: "Ë¨ôËôö„Å™ÂßøÂã¢„ÅßÂ§ö„Åè„ÅÆ‰∫∫„Åã„ÇâÊÖï„Çè„Çå„Åæ„Åô„ÄÇ", keywords: "Ë¨ôÈÅú,‰ø°È†º,‰∫∫Âæ≥" },
            { hexagram_id: 16, name_jp: "Èõ∑Âú∞Ë±´", reading: "„Çâ„ÅÑ„Å°„Çà", catchphrase: "Âñú„Å≥„Å®Ê¥ªÂäõ„Çí„ÇÇ„Åü„Çâ„Åô‰∫∫", description: "Âë®Âõ≤„Å´Âñú„Å≥„Å®ÂâçÂêë„Åç„Å™Ê¥ªÂäõ„ÇíÂ∫É„Åí„Åæ„Åô„ÄÇ", keywords: "Ê≠ìÂñú,Ê¥ªÂäõ,Ê•ΩË¶≥" },
            { hexagram_id: 17, name_jp: "Ê≤¢Èõ∑Èöè", reading: "„Åü„Åè„Çâ„ÅÑ„Åö„ÅÑ", catchphrase: "ÊüîËªü„Å´ÈÅ©Âøú„ÅóÊàêÈï∑„Åô„Çã‰∫∫", description: "Â§âÂåñ„Å´ÊüîËªü„Å´ÈÅ©Âøú„Åó„ÄÅÊàêÈï∑„ÇíÁ∂ö„Åë„Åæ„Åô„ÄÇ", keywords: "ÈÅ©Âøú,ÂæìÈ†Ü,ÊàêÈï∑" },
            { hexagram_id: 18, name_jp: "Â±±È¢®Ë†±", reading: "„Åï„Çì„Å∑„ÅÜ„Åì", catchphrase: "ÊîπÈù©„Å®ÂÜçÁîü„Çí„ÇÇ„Åü„Çâ„Åô‰∫∫", description: "Âè§„ÅÑÂïèÈ°å„ÇíËß£Ê±∫„Åó„ÄÅÊñ∞„Åó„ÅÑÁß©Â∫è„ÇíÁØâ„Åç„Åæ„Åô„ÄÇ", keywords: "ÊîπÈù©,ÂÜçÁîü,‰øÆÂæ©" },
            { hexagram_id: 19, name_jp: "Âú∞Ê≤¢Ëá®", reading: "„Å°„Åü„Åè„Çä„Çì", catchphrase: "‰∫∫„Å´ÂØÑ„ÇäÊ∑ª„ÅÑÂ∞é„Åè‰∫∫", description: "‰∫∫„ÄÖ„Å´ÂØÑ„ÇäÊ∑ª„ÅÑ„ÄÅÂÑ™„Åó„ÅèÂ∞é„ÅèÂäõ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ", keywords: "ÊåáÂ∞é,Êé•Ëøë,Ë¶™Ëøë" },
            { hexagram_id: 20, name_jp: "È¢®Âú∞Ë¶≥", reading: "„Åµ„ÅÜ„Å°„Åã„Çì", catchphrase: "Ê∑±„ÅÑÊ¥ûÂØü„ÅßÊú¨Ë≥™„ÇíË¶ãÊäú„Åè‰∫∫", description: "Áâ©‰∫ã„ÅÆÊú¨Ë≥™„ÇíË¶ãÊäú„ÅèÊ∑±„ÅÑÊ¥ûÂØüÂäõ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ", keywords: "Ë¶≥ÂØü,Ê¥ûÂØü,ÁêÜËß£" },
            { hexagram_id: 21, name_jp: "ÁÅ´Èõ∑Âô¨Âóë", reading: "„Åã„Çâ„ÅÑ„Åú„ÅÑ„Åî„ÅÜ", catchphrase: "Ê≠£Áæ©„ÇíË≤´„ÅèÂº∑„ÅÑÊÑèÂøó„ÅÆ‰∫∫", description: "Âõ∞Èõ£„ÇíÂôõ„ÅøÁ†ï„Åç„ÄÅÊ≠£Áæ©„ÇíÂÆüÁèæ„Åó„Åæ„Åô„ÄÇ", keywords: "Ê≠£Áæ©,Ê±∫Êñ≠,ÂÆüË°å" },
            { hexagram_id: 22, name_jp: "Â±±ÁÅ´Ë≥Å", reading: "„Åï„Çì„Åã„Å≤", catchphrase: "Áæé„Å®Ë™øÂíå„Åß‰∫∫„ÇíÈ≠Ö‰∫Ü„Åô„Çã‰∫∫", description: "ÁæéÁöÑ„Çª„É≥„Çπ„Å®Ë™øÂíå„Åß‰∫∫„ÄÖ„ÇíÈ≠Ö‰∫Ü„Åó„Åæ„Åô„ÄÇ", keywords: "Áæé,Ë£ÖÈ£æ,Ë™øÂíå" },
            { hexagram_id: 23, name_jp: "Â±±Âú∞Ââ•", reading: "„Åï„Çì„Å°„ÅØ„Åè", catchphrase: "Âõ∞Èõ£„Å™ÊôÇÊúü„ÇíËÄê„ÅàÊäú„Åè‰∫∫", description: "Âé≥„Åó„ÅÑÁä∂Ê≥Å„Åß„ÇÇÂøçËÄêÂº∑„ÅèËÄê„ÅàÊäú„Åç„Åæ„Åô„ÄÇ", keywords: "ÂøçËÄê,Ââ•ËêΩ,Ë°∞ÈÄÄ" },
            { hexagram_id: 24, name_jp: "Âú∞Èõ∑Âæ©", reading: "„Å°„Çâ„ÅÑ„Åµ„Åè", catchphrase: "Êñ∞„Åü„Å™Âßã„Åæ„Çä„ÇíÂàá„ÇäÈñã„Åè‰∫∫", description: "Âõ∞Èõ£„ÅÆÂæå„Å´Êñ∞„Åó„ÅÑÂßã„Åæ„Çä„Çí„ÇÇ„Åü„Çâ„Åó„Åæ„Åô„ÄÇ", keywords: "Âæ©Ê¥ª,ÂÜçÁîü,ÂõûÂæ©" },
            { hexagram_id: 25, name_jp: "Â§©Èõ∑Êó†Â¶Ñ", reading: "„Å¶„Çì„Çâ„ÅÑ„ÇÄ„Åº„ÅÜ", catchphrase: "Ëá™ÁÑ∂‰Ωì„ÅßÁúüÂÆü„ÇíË≤´„Åè‰∫∫", description: "ÂÅΩ„Çä„Å™„Åè„ÄÅËá™ÁÑ∂‰Ωì„ÅßÁúüÂÆü„ÇíË≤´„Åç„Åæ„Åô„ÄÇ", keywords: "Á¥îÁúü,Ëá™ÁÑ∂,Ë™†ÂÆü" },
            { hexagram_id: 26, name_jp: "Â±±Â§©Â§ßÁïú", reading: "„Åï„Çì„Å¶„Çì„Å†„ÅÑ„Å°„Åè", catchphrase: "Âäõ„ÇíËìÑ„ÅàÂ§ß„Åç„Å™ÊàêÊûú„Çí‰∏ä„Åí„Çã‰∫∫", description: "„Ç®„Éç„É´„ÇÆ„Éº„ÇíËìÑÁ©ç„Åó„ÄÅÂ§ß„Åç„Å™ÊàêÊûú„ÇíÂÆüÁèæ„Åó„Åæ„Åô„ÄÇ", keywords: "ËìÑÁ©ç,ÊäëÂà∂,Â§ßÊàê" },
            { hexagram_id: 27, name_jp: "Â±±Èõ∑È†§", reading: "„Åï„Çì„Çâ„ÅÑ„ÅÑ", catchphrase: "ÊªãÈ§ä„Å®ÊàêÈï∑„Çí‰øÉ„Åô‰∫∫", description: "Ëá™ÂàÜ„Å®‰ªñËÄÖ„ÅÆÊàêÈï∑„ÇíÂ§ßÂàá„Å´ËÇ≤„Åø„Åæ„Åô„ÄÇ", keywords: "È§äËÇ≤,ÊªãÈ§ä,ÊàêÈï∑" },
            { hexagram_id: 28, name_jp: "Ê≤¢È¢®Â§ßÈÅé", reading: "„Åü„Åè„Åµ„ÅÜ„Å†„ÅÑ„Åã", catchphrase: "Â§ßËÉÜ„Å™ÊåëÊà¶„Çí„Åô„Çã‰∫∫", description: "Â∏∏Ë≠ò„ÇíË∂Ö„Åà„ÇãÂ§ßËÉÜ„Å™ÊåëÊà¶„Çí„Åó„Åæ„Åô„ÄÇ", keywords: "ÈÅéÂâ∞,Â§ßËÉÜ,ÊåëÊà¶" },
            { hexagram_id: 29, name_jp: "ÂùéÁÇ∫Ê∞¥", reading: "„Åã„Çì„ÅÑ„Åô„ÅÑ", catchphrase: "Âõ∞Èõ£„Çí‰πó„ÇäË∂ä„Åà„Çã‰∏çÂ±à„ÅÆ‰∫∫", description: "„Å©„Çì„Å™Âõ∞Èõ£„ÇÇË´¶„ÇÅ„Åö„Å´‰πó„ÇäË∂ä„Åà„Åæ„Åô„ÄÇ", keywords: "Âç±Èô∫,Âõ∞Èõ£,‰∏çÂ±à" },
            { hexagram_id: 30, name_jp: "Èõ¢ÁÇ∫ÁÅ´", reading: "„Çä„ÅÑ„Åã", catchphrase: "Êòé„Çã„Åï„ÅßÂë®Âõ≤„ÇíÁÖß„Çâ„Åô‰∫∫", description: "Áü•ÊÅµ„Å®Êòé„Çã„Åï„ÅßÂë®Âõ≤„ÇíÁÖß„Çâ„Åó„Åæ„Åô„ÄÇ", keywords: "ÂÖâÊòé,Áü•ÊÅµ,ÁÖßÊòé" },
            { hexagram_id: 31, name_jp: "Ê≤¢Â±±Âí∏", reading: "„Åü„Åè„Åñ„Çì„Åã„Çì", catchphrase: "ÊÑüÂåñ„ÅóÂêà„ÅÜÊ∑±„ÅÑÁµÜ„ÇíÁØâ„Åè‰∫∫", description: "Áõ∏‰∫í„Å´ÂΩ±Èüø„ÅóÂêà„ÅÜÊ∑±„ÅÑÈñ¢‰øÇ„ÇíÁØâ„Åç„Åæ„Åô„ÄÇ", keywords: "ÊÑüÂøú,ÂΩ±Èüø,ÁµêÂêà" },
            { hexagram_id: 32, name_jp: "Èõ∑È¢®ÊÅí", reading: "„Çâ„ÅÑ„Åµ„ÅÜ„Åì„ÅÜ", catchphrase: "ÊåÅÁ∂ö„Åô„ÇãÂäõ„ÅßÁõÆÊ®ô„ÇíÈÅîÊàê„Åô„Çã‰∫∫", description: "Á∂ôÁ∂ö„Åô„ÇãÂäõ„ÅßÈï∑ÊúüÁöÑ„Å™ÊàêÂäü„ÇíÂèé„ÇÅ„Åæ„Åô„ÄÇ", keywords: "ÊåÅÁ∂ö,ÊÅíÂ∏∏,Ê∞∏Á∂ö" },
            { hexagram_id: 33, name_jp: "Â§©Â±±ÈÅØ", reading: "„Å¶„Çì„Åñ„Çì„Å®„Çì", catchphrase: "ÈÅ©Âàá„Å™ÊôÇÊúü„ÇíË¶ãÊ•µ„ÇÅÈÄÄ„ÅèÊô∫ÊÖß„ÅÆ‰∫∫", description: "Âºï„ÅçÈöõ„ÇíÁü•„ÇãÊô∫ÊÖß„ÅßË∫´„ÇíÂÆà„Çä„Åæ„Åô„ÄÇ", keywords: "ÈÄÄÈÅø,Èö†ÈÅÅ,ÊôÇÊ©ü" },
            { hexagram_id: 34, name_jp: "Èõ∑Â§©Â§ßÂ£Æ", reading: "„Çâ„ÅÑ„Å¶„Çì„Å†„ÅÑ„Åù„ÅÜ", catchphrase: "ÂäõÂº∑„Åï„ÅßÈÅì„ÇíÂàá„ÇäÈñã„Åè‰∫∫", description: "Âº∑Â§ß„Å™Âäõ„ÅßÊñ∞„Åó„ÅÑÈÅì„ÇíÂàá„ÇäÈñã„Åç„Åæ„Åô„ÄÇ", keywords: "Âº∑Â§ß,Â®ÅÂäõ,ÂâçÈÄ≤" },
            { hexagram_id: 35, name_jp: "ÁÅ´Âú∞Êôã", reading: "„Åã„Å°„Åó„Çì", catchphrase: "ÁùÄÂÆü„Å´ÂâçÈÄ≤„ÅóÊàêÂäü„Åô„Çã‰∫∫", description: "ÁùÄÂÆü„Å™Ê≠©„Åø„ÅßÁ¢∫ÂÆü„Å´ÊàêÂäü„ÇíÊé¥„Åø„Åæ„Åô„ÄÇ", keywords: "ÂâçÈÄ≤,ÊòáÈÄ≤,Áô∫Â±ï" },
            { hexagram_id: 36, name_jp: "Âú∞ÁÅ´ÊòéÂ§∑", reading: "„Å°„Åã„ÇÅ„ÅÑ„ÅÑ", catchphrase: "Âõ∞Èõ£„Å™ÊôÇÊúü„ÇíÊô∫ÊÖß„Åß‰πó„ÇäÂàá„Çã‰∫∫", description: "Êöó„ÅÑÊôÇÊúü„ÇÇÂÜÖ„Å™„ÇãÂÖâ„Åß‰πó„ÇäË∂ä„Åà„Åæ„Åô„ÄÇ", keywords: "Èö†ËîΩ,ÂøçËÄê,ÂÜÖÂÖâ" },
            { hexagram_id: 37, name_jp: "È¢®ÁÅ´ÂÆ∂‰∫∫", reading: "„Åµ„ÅÜ„Åã„Åã„Åò„Çì", catchphrase: "ÂÆ∂Êóè„ÇÑ‰ª≤Èñì„ÇíÂ§ßÂàá„Å´„Åô„Çã‰∫∫", description: "Ë∫´Ëøë„Å™‰∫∫„Å®„ÅÆÈñ¢‰øÇ„ÇíÊúÄ„ÇÇÂ§ßÂàá„Å´„Åó„Åæ„Åô„ÄÇ", keywords: "ÂÆ∂Êóè,Ë¶™ÂØÜ,ÁµÜ" },
            { hexagram_id: 38, name_jp: "ÁÅ´Ê≤¢ÁùΩ", reading: "„Åã„Åü„Åè„Åë„ÅÑ", catchphrase: "ÈÅï„ÅÑ„Çí‰πó„ÇäË∂ä„ÅàÂíåËß£„Åô„Çã‰∫∫", description: "ÂØæÁ´ã„ÇÑÈÅï„ÅÑ„Çí‰πó„ÇäË∂ä„Åà„Å¶ÂíåËß£„Çí„ÇÇ„Åü„Çâ„Åó„Åæ„Åô„ÄÇ", keywords: "ÂØæÁ´ã,‰πñÈõ¢,ÂíåËß£" },
            { hexagram_id: 39, name_jp: "Ê∞¥Â±±Ëπá", reading: "„Åô„ÅÑ„Åñ„Çì„Åë„Çì", catchphrase: "Âõ∞Èõ£„ÇíÊô∫ÊÖß„ÅßËß£Ê±∫„Åô„Çã‰∫∫", description: "Âõ∞Èõ£„Å™Áä∂Ê≥Å„ÇíÊô∫ÊÖß„Å®Â∑•Â§´„Åß‰πó„ÇäË∂ä„Åà„Åæ„Åô„ÄÇ", keywords: "ÈöúÂÆ≥,Âõ∞Èõ£,Ëß£Ê±∫" },
            { hexagram_id: 40, name_jp: "Èõ∑Ê∞¥Ëß£", reading: "„Çâ„ÅÑ„Åô„ÅÑ„Åã„ÅÑ", catchphrase: "ÂïèÈ°å„ÇíËß£Ê±∫„ÅóÈñãÊîæ„Çí„ÇÇ„Åü„Çâ„Åô‰∫∫", description: "Ë§áÈõë„Å™ÂïèÈ°å„ÇíËß£Ê±∫„Åó„ÄÅËß£Êîæ„Çí„ÇÇ„Åü„Çâ„Åó„Åæ„Åô„ÄÇ", keywords: "Ëß£Êîæ,Ëß£Ê±∫,ÈñãÊîæ" },
            { hexagram_id: 41, name_jp: "Â±±Ê≤¢Êêç", reading: "„Åï„Çì„Åü„Åè„Åù„Çì", catchphrase: "Áä†Áâ≤„ÇíÊâï„ÅÑ‰ªñËÄÖ„ÇíÂä©„Åë„Çã‰∫∫", description: "Ëá™„Çâ„ÇíÁä†Áâ≤„Å´„Åó„Å¶‰ªñËÄÖ„ÅÆÂà©Áõä„ÇíÂõ≥„Çä„Åæ„Åô„ÄÇ", keywords: "ÊêçÂ§±,Áä†Áâ≤,Âà©‰ªñ" },
            { hexagram_id: 42, name_jp: "È¢®Èõ∑Áõä", reading: "„Åµ„ÅÜ„Çâ„ÅÑ„Åà„Åç", catchphrase: "Âà©Áõä„Çí„ÇÇ„Åü„Çâ„ÅóÊàêÈï∑„Çí‰øÉ„Åô‰∫∫", description: "Âë®Âõ≤„Å´Âà©Áõä„Çí„ÇÇ„Åü„Çâ„Åó„ÄÅÂÖ±„Å´ÊàêÈï∑„Åó„Åæ„Åô„ÄÇ", keywords: "Âà©Áõä,ÊàêÈï∑,Â¢óÂä†" },
            { hexagram_id: 43, name_jp: "Ê≤¢Â§©Â§¨", reading: "„Åü„Åè„Å¶„Çì„Åã„ÅÑ", catchphrase: "Ê±∫Êñ≠Âäõ„ÅßÈöúÂÆ≥„ÇíÁ™ÅÁ†¥„Åô„Çã‰∫∫", description: "ÁöÑÁ¢∫„Å™Âà§Êñ≠„ÅßÂõ∞Èõ£„ÇíÁ™ÅÁ†¥„Åó„Åæ„Åô„ÄÇ", keywords: "Ê±∫Êñ≠,Á™ÅÁ†¥,Èô§Âéª" },
            { hexagram_id: 44, name_jp: "Â§©È¢®Âß§", reading: "„Å¶„Çì„Å∑„ÅÜ„Åì„ÅÜ", catchphrase: "ÂÅ∂ÁÑ∂„ÅÆÂá∫‰ºö„ÅÑ„ÇíÊ¥ª„Åã„Åô‰∫∫", description: "ÊÄù„ÅÑ„Åå„Åë„Å™„ÅÑÂá∫‰ºö„ÅÑ„ÇíÂ§ßÂàá„Å´„ÅóÊ¥ª„Åã„Åó„Åæ„Åô„ÄÇ", keywords: "Âá∫‰ºö„ÅÑ,ÈÇÇÈÄÖ,Ê©ü‰ºö" },
            { hexagram_id: 45, name_jp: "Ê≤¢Âú∞ËêÉ", reading: "„Åü„Åè„Å°„Åô„ÅÑ", catchphrase: "‰∫∫„ÄÖ„ÇíÈõÜ„ÇÅÁµêÊùü„Åï„Åõ„Çã‰∫∫", description: "Â§ö„Åè„ÅÆ‰∫∫„ÇíÈõÜ„ÇÅ„Å¶Â§ß„Åç„Å™Âäõ„Çí‰Ωú„Çä„Åæ„Åô„ÄÇ", keywords: "ÈõÜÂêà,ÁµêÈõÜ,Áµ±Âêà" },
            { hexagram_id: 46, name_jp: "Âú∞È¢®Âçá", reading: "„Å°„Åµ„ÅÜ„Åó„Çá„ÅÜ", catchphrase: "ÁùÄÂÆü„Å´Âêë‰∏ä„ÅóÊàêÈï∑„Åô„Çã‰∫∫", description: "Âú∞ÈÅì„Å™Âä™Âäõ„ÅßÁùÄÂÆü„Å´Âú∞‰Ωç„ÇíÂêë‰∏ä„Åï„Åõ„Åæ„Åô„ÄÇ", keywords: "‰∏äÊòá,ÊòáÈÄ≤,Âêë‰∏ä" },
            { hexagram_id: 47, name_jp: "Ê≤¢Ê∞¥Âõ∞", reading: "„Åü„Åè„Åô„ÅÑ„Åì„Çì", catchphrase: "Âõ∞Á™Æ„Çí‰πó„ÇäË∂ä„Åà„ÇãÂº∑Èù≠„Å™‰∫∫", description: "Âé≥„Åó„ÅÑÂõ∞Á™ÆÁä∂ÊÖã„ÇÇË´¶„ÇÅ„Åö„Å´‰πó„ÇäË∂ä„Åà„Åæ„Åô„ÄÇ", keywords: "Âõ∞Á™Æ,Ëã¶Â¢É,ÂøçËÄê" },
            { hexagram_id: 48, name_jp: "Ê∞¥È¢®‰∫ï", reading: "„Åô„ÅÑ„Åµ„ÅÜ„Åõ„ÅÑ", catchphrase: "Êô∫ÊÖß„ÅÆÊ∫ê„Åß‰∫∫„ÇíÊΩ§„Åô‰∫∫", description: "Ë±ä„Åã„Å™Êô∫ÊÖß„ÅßÂ§ö„Åè„ÅÆ‰∫∫„ÇíÊΩ§„Åó„Åæ„Åô„ÄÇ", keywords: "Ê∫êÊ≥â,‰æõÁµ¶,ÊÅµ„Åø" },
            { hexagram_id: 49, name_jp: "Ê≤¢ÁÅ´Èù©", reading: "„Åü„Åè„Åã„Åã„Åè", catchphrase: "Èù©Êñ∞ÁöÑ„Å™Â§âÂåñ„Çí„ÇÇ„Åü„Çâ„Åô‰∫∫", description: "Âè§„ÅÑ„ÇÇ„ÅÆ„ÇíÂ§âÈù©„Åó„ÄÅÊñ∞„Åó„ÅÑÊôÇ‰ª£„ÇíÁØâ„Åç„Åæ„Åô„ÄÇ", keywords: "Èù©ÂëΩ,Â§âÈù©,ÊîπÈù©" },
            { hexagram_id: 50, name_jp: "ÁÅ´È¢®Èºé", reading: "„Åã„Åµ„ÅÜ„Å¶„ÅÑ", catchphrase: "Êñ∞Áß©Â∫è„ÇíÁ¢∫Á´ã„Åô„Çã‰∫∫", description: "Êñ∞„Åó„ÅÑÁß©Â∫è„Å®ÊñáÂåñ„ÇíÁ¢∫Á´ã„Åó„Åæ„Åô„ÄÇ", keywords: "Á¢∫Á´ã,Áß©Â∫è,ÊñáÂåñ" },
            { hexagram_id: 51, name_jp: "ÈúáÁÇ∫Èõ∑", reading: "„Åó„Çì„ÅÑ„Çâ„ÅÑ", catchphrase: "Ë°ùÊíÉÁöÑ„Å™Â§âÂåñ„ÅßË¶öÈÜí„Åï„Åõ„Çã‰∫∫", description: "Âº∑„ÅÑË°ùÊíÉ„Åß‰∫∫„ÄÖ„ÇíÁõÆË¶ö„ÇÅ„Åï„Åõ„Åæ„Åô„ÄÇ", keywords: "ÈúáÂãï,È©öÊÑï,Ë¶öÈÜí" },
            { hexagram_id: 52, name_jp: "ËâÆÁÇ∫Â±±", reading: "„Åî„Çì„ÅÑ„Åñ„Çì", catchphrase: "ÈùôÂØÇ„Å™ÂÆâÂÆö„ÅßÂøÉ„ÇíÈéÆ„ÇÅ„Çã‰∫∫", description: "Èùô„Åã„Å™ÂÆâÂÆöÊÑü„ÅßÂë®Âõ≤„Å´ÂÆâ„Çâ„Åé„Çí‰∏é„Åà„Åæ„Åô„ÄÇ", keywords: "ÈùôÊ≠¢,ÂÆâÂÆö,ÁûëÊÉ≥" },
            { hexagram_id: 53, name_jp: "È¢®Â±±Êº∏", reading: "„Åµ„ÅÜ„Åñ„Çì„Åú„Çì", catchphrase: "ÁùÄÂÆü„Å™ÈÄ≤Ê≠©„ÇíÈáç„Å≠„Çã‰∫∫", description: "ÁÑ¶„Çâ„ÅöÁùÄÂÆü„Å´‰∏ÄÊ≠©„Åö„Å§ÂâçÈÄ≤„Åó„Åæ„Åô„ÄÇ", keywords: "Êº∏ÈÄ≤,ÁùÄÂÆü,ÊÆµÈöé" },
            { hexagram_id: 54, name_jp: "Èõ∑Ê≤¢Â∏∞Â¶π", reading: "„Çâ„ÅÑ„Åü„Åè„Åç„Åæ„ÅÑ", catchphrase: "ÂæìÂ±û„ÅÆ‰∏≠„ÅßË™øÂíå„ÇíË¶ã„Å§„Åë„Çã‰∫∫", description: "Âæì„ÅÜÁ´ãÂ†¥„Åß„ÇÇË™øÂíå„Å®Âπ∏„Åõ„ÇíË¶ã„Å§„Åë„Åæ„Åô„ÄÇ", keywords: "ÂæìÂ±û,Ë™øÂíå,ÈÖçÊÖÆ" },
            { hexagram_id: 55, name_jp: "Èõ∑ÁÅ´Ë±ä", reading: "„Çâ„ÅÑ„Åã„Åª„ÅÜ", catchphrase: "Ë±ä„Åã„Å™ÊàêÊûú„ÅßÊ†ÑÂÖâ„ÇíÊé¥„ÇÄ‰∫∫", description: "Ë±äÂØå„Å™ÊàêÊûú„Å®Ê†ÑÂÖâ„ÇíÊâã„Å´„Åó„Åæ„Åô„ÄÇ", keywords: "Ë±äÁ©£,ÂÖÖÂÆü,Ê†ÑÂÖâ" },
            { hexagram_id: 56, name_jp: "ÁÅ´Â±±ÊóÖ", reading: "„Åã„Åñ„Çì„Çä„Çá", catchphrase: "ÊóÖË∑Ø„ÅßÁµåÈ®ì„ÇíÁ©ç„ÇÄ‰∫∫", description: "ÊóÖ„ÇíÈÄö„Åó„Å¶Â§ö„Åè„ÅÆÁµåÈ®ì„Å®Êô∫ÊÖß„ÇíÁ©ç„Åø„Åæ„Åô„ÄÇ", keywords: "ÊóÖË°å,ÁµåÈ®ì,ÁßªÂãï" },
            { hexagram_id: 57, name_jp: "Â∑ΩÁÇ∫È¢®", reading: "„Åù„Çì„ÅÑ„Åµ„ÅÜ", catchphrase: "ÊüîËªüÊÄß„ÅßÂ§âÂåñ„Å´ÈÅ©Âøú„Åô„Çã‰∫∫", description: "È¢®„ÅÆ„Çà„ÅÜ„Å™ÊüîËªüÊÄß„ÅßÂ§âÂåñ„Å´ÂØæÂøú„Åó„Åæ„Åô„ÄÇ", keywords: "ÊüîËªü,ÈÅ©Âøú,Êµ∏ÈÄè" },
            { hexagram_id: 58, name_jp: "ÂÖåÁÇ∫Ê≤¢", reading: "„Å†„ÅÑ„Åü„Åè", catchphrase: "Âñú„Å≥„Å®Ê•Ω„Åó„Åï„ÇíÂàÜ„Åã„Å°Âêà„ÅÜ‰∫∫", description: "‰∫∫„ÄÖ„Å®Âñú„Å≥„ÇÑÊ•Ω„Åó„Åï„ÇíÂàÜ„Åã„Å°Âêà„ÅÑ„Åæ„Åô„ÄÇ", keywords: "Ê≠ìÂñú,Ê•Ω„Åó„Åø,‰∫§ÊµÅ" },
            { hexagram_id: 59, name_jp: "È¢®Ê∞¥Ê∏ô", reading: "„Åµ„ÅÜ„Åô„ÅÑ„Åã„Çì", catchphrase: "Êï£„Çâ„Å∞„Å£„Åü„ÇÇ„ÅÆ„ÇíÂÜçÁµ±Âêà„Åô„Çã‰∫∫", description: "ÂàÜÊï£„Åó„ÅüË¶ÅÁ¥†„ÇíÂÜç„Å≥‰∏Ä„Å§„Å´Áµ±Âêà„Åó„Åæ„Åô„ÄÇ", keywords: "ÂàÜÊï£,Ëß£Êï£,ÂÜçÁµ±Âêà" },
            { hexagram_id: 60, name_jp: "Ê∞¥Ê≤¢ÁØÄ", reading: "„Åô„ÅÑ„Åü„Åè„Åõ„Å§", catchphrase: "ÁØÄÂ∫¶„Çí‰øù„Å°Ë™øÂíå„Çí‰Ωú„Çã‰∫∫", description: "ÈÅ©Âàá„Å™ÁØÄÂà∂„ÅßË™øÂíå„ÅÆ„Å®„Çå„ÅüÁîüÊ¥ª„ÇíÈÄÅ„Çä„Åæ„Åô„ÄÇ", keywords: "ÁØÄÂà∂,Ë™øÁØÄ,ÈÅ©Â∫¶" },
            { hexagram_id: 61, name_jp: "È¢®Ê≤¢‰∏≠Â≠ö", reading: "„Åµ„ÅÜ„Åü„Åè„Å°„ÇÖ„ÅÜ„Åµ", catchphrase: "Ë™†ÂÆü„Åï„ÅßÊ∑±„ÅÑ‰ø°È†º„ÇíÂæó„Çã‰∫∫", description: "ÁúüÂøÉ„Åã„Çâ„ÅÆË™†ÂÆü„Åï„Åß‰∫∫„ÄÖ„ÅÆ‰ø°È†º„ÇíÂæó„Åæ„Åô„ÄÇ", keywords: "Ë™†ÂÆü,‰ø°È†º,ÁúüÂøÉ" },
            { hexagram_id: 62, name_jp: "Èõ∑Â±±Â∞èÈÅé", reading: "„Çâ„ÅÑ„Åñ„Çì„Åó„Çá„ÅÜ„Åã", catchphrase: "Â∞è„Åï„Å™ÈÖçÊÖÆ„ÅßÂ§ß„Åç„Å™ÊàêÊûú„ÇíÁîü„ÇÄ‰∫∫", description: "Á¥∞„ÇÑ„Åã„Å™ÂøÉÈÖç„Çä„ÅßÂ§ß„Åç„Å™ÊàêÂäü„ÇíÂèé„ÇÅ„Åæ„Åô„ÄÇ", keywords: "ÈÖçÊÖÆ,Á¥∞ÂøÉ,Â∞è‰∫ã" },
            { hexagram_id: 63, name_jp: "Ê∞¥ÁÅ´Êó¢Ê∏à", reading: "„Åô„ÅÑ„Åã„Åç„Åï„ÅÑ", catchphrase: "ÂÆåÊàê„Åï„Çå„ÅüË™øÂíå„Çí‰øù„Å§‰∫∫", description: "„Åô„Åπ„Å¶„ÅåÊï¥„Å£„ÅüÂÆåÁíß„Å™Ë™øÂíåÁä∂ÊÖã„ÇíÁ∂≠ÊåÅ„Åó„Åæ„Åô„ÄÇ", keywords: "ÂÆåÊàê,Ë™øÂíå,ÈÅîÊàê" },
            { hexagram_id: 64, name_jp: "ÁÅ´Ê∞¥Êú™Ê∏à", reading: "„Åã„Åô„ÅÑ„Å≥„Åï„ÅÑ", catchphrase: "Êú™ÂÆåÊàê„Åã„ÇâÊñ∞„Åü„Å™ÂèØËÉΩÊÄß„ÇíÁîü„ÇÄ‰∫∫", description: "„Åæ„Å†ÂÆåÊàê„Åó„Å¶„ÅÑ„Å™„ÅÑÁä∂ÊÖã„Å´Êñ∞„Åó„ÅÑÂèØËÉΩÊÄß„ÇíË¶ãÂá∫„Åó„Åæ„Åô„ÄÇ", keywords: "Êú™ÂÆå,ÂèØËÉΩÊÄß,Á∂ôÁ∂ö" }
        ];
        
        // 3. ÂÖ´Âç¶„Éô„ÇØ„Éà„É´„Éá„Éº„ÇøÔºàvectors.jsÁµ±ÂêàÔºâ
        const H64_8D_VECTORS = {
            1: {
                ‰πæ_ÂâµÈÄ†ÊÄß: 9, Èúá_Ë°åÂãïÊÄß: 7, Âùé_Êé¢Ê±ÇÊÄß: 5, ËâÆ_ÂÆâÂÆöÊÄß: 6,
                Âù§_ÂèóÂÆπÊÄß: 1, Â∑Ω_ÈÅ©ÂøúÊÄß: 3, Èõ¢_Ë°®ÁèæÊÄß: 8, ÂÖå_Ë™øÂíåÊÄß: 4
            },
            2: {
                ‰πæ_ÂâµÈÄ†ÊÄß: 2, Èúá_Ë°åÂãïÊÄß: 3, Âùé_Êé¢Ê±ÇÊÄß: 4, ËâÆ_ÂÆâÂÆöÊÄß: 8,
                Âù§_ÂèóÂÆπÊÄß: 9, Â∑Ω_ÈÅ©ÂøúÊÄß: 7, Èõ¢_Ë°®ÁèæÊÄß: 2, ÂÖå_Ë™øÂíåÊÄß: 6
            },
            // ‰ªñ„ÅÆ62Âç¶„ÅÆ„Éô„ÇØ„Éà„É´„ÇÇÂêåÊßò„Å´ÂÆüË£Ö...
        };
        
        // 4. Ê≠£Áµ±ÂÖ´Âç¶ÂÆöÁæ©ÔºàÊòìÁµåÊ∫ñÊã†Ôºâ
        const AUTHENTIC_TRIGRAMS = {
            1: { name: '‰πæ', symbol: '‚ò∞', meaning: 'Â§©„ÉªÂâµÈÄ†„ÉªÁà∂', element: 'metal', nature: 'ÂâõÂÅ•', description: 'Á¥îÁ≤ãÂâµÈÄ†Âäõ„ÄÅÂ§©ÊÄß„ÅÆ„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó„ÄÅÂº∑Âõ∫„Å™ÊÑèÂøó' },
            2: { name: 'ÂÖå', symbol: '‚ò±', meaning: 'Ê≤¢„ÉªÂñú„ÉªÂ∞ëÂ•≥', element: 'metal', nature: 'ÊÇ¶Ê•Ω', description: 'ÂñúÊÇ¶Ë™øÂíå„ÄÅ„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„ÄÅÁ§æ‰∫§ÁöÑÈ≠ÖÂäõ' },
            3: { name: 'Èõ¢', symbol: '‚ò≤', meaning: 'ÁÅ´„ÉªÂÖâ„Éª‰∏≠Â•≥', element: 'fire', nature: 'ÂÖâÊòé', description: 'ÂÖâÊòéË°®Áèæ„ÄÅÁü•ÊÄß„Å®ÊÉÖÁÜ±„ÄÅÊòéÊô∞„Å™Âà§Êñ≠' },
            4: { name: 'Èúá', symbol: '‚ò≥', meaning: 'Èõ∑„ÉªÂãï„ÉªÈï∑Áî∑', element: 'wood', nature: 'Áô∫Âãï', description: 'Èõ∑È≥¥Ë°åÂãï„ÄÅ„Ç®„Éç„É´„ÇÆ„ÉÉ„Ç∑„É•„Å™ÂÆüË°åÂäõ„ÄÅÈù©Êñ∞Âäõ' },
            5: { name: 'Â∑Ω', symbol: '‚ò¥', meaning: 'È¢®„ÉªÂÖ•„ÉªÈï∑Â•≥', element: 'wood', nature: 'È†ÜÂÖ•', description: 'È¢®„ÅÆÊµ∏ÈÄè„ÄÅÊüîËªüÈÅ©Âøú„ÄÅÁ¥∞„ÇÑ„Åã„Å™ÈÖçÊÖÆ' },
            6: { name: 'Âùé', symbol: '‚òµ', meaning: 'Ê∞¥„ÉªÈô∫„Éª‰∏≠Áî∑', element: 'water', nature: 'Èô∑Èô∫', description: 'Ê∞¥„ÅÆÊé¢Ê±Ç„ÄÅÊ∑±Ê∑µÊ¥ûÂØü„ÄÅÂõ∞Èõ£Á™ÅÁ†¥' },
            7: { name: 'ËâÆ', symbol: '‚ò∂', meaning: 'Â±±„ÉªÊ≠¢„ÉªÂ∞ëÁî∑', element: 'earth', nature: 'ÈùôÊ≠¢', description: 'Â±±„ÅÆÂÆâÂÆö„ÄÅÁ∂ôÁ∂öÂäõ„ÄÅ‰∏çÂãï„ÅÆÊÑèÂøó' },
            8: { name: 'Âù§', symbol: '‚ò∑', meaning: 'Âú∞„ÉªÈ†Ü„ÉªÊØç', element: 'earth', nature: 'ÊüîÈ†Ü', description: 'Â§ßÂú∞ÂèóÂÆπ„ÄÅËÇ≤ÊàêÂäõ„ÄÅÁÑ°Èôê„ÅÆÂåÖÂÆπ' }
        };
        
        // Ê≠£Áµ±ÂÖ´Âç¶„Éû„ÉÉ„Éî„É≥„Ç∞ÔºàÂÖàÂ§©ÂÖ´Âç¶ÈÖçÂàóÊ∫ñÊã†Ôºâ
        const AUTHENTIC_TRIGRAM_MAPPING = {
            "‰πæ_ÂâµÈÄ†ÊÄß": 1,  // ‰πæ‚ò∞ - Á¥îÁ≤ãÂâµÈÄ†ÔºàÂ§©„ÉªÁà∂„ÉªÂâõÂÅ•Ôºâ
            "ÂÖå_Ë™øÂíåÊÄß": 2,  // ÂÖå‚ò± - ÂñúÊÇ¶Ë™øÂíåÔºàÊ≤¢„ÉªÂ∞ëÂ•≥„ÉªÊÇ¶Ê•ΩÔºâ
            "Èõ¢_Ë°®ÁèæÊÄß": 3,  // Èõ¢‚ò≤ - ÂÖâÊòéË°®ÁèæÔºàÁÅ´„Éª‰∏≠Â•≥„ÉªÂÖâÊòéÔºâ
            "Èúá_Ë°åÂãïÊÄß": 4,  // Èúá‚ò≥ - Áô∫ÂãïË°åÂãïÔºàÈõ∑„ÉªÈï∑Áî∑„ÉªÂãïÔºâ
            "Â∑Ω_ÈÅ©ÂøúÊÄß": 5,  // Â∑Ω‚ò¥ - È†ÜÂøúÊµ∏ÈÄèÔºàÈ¢®„ÉªÈï∑Â•≥„ÉªÂÖ•Ôºâ
            "Âùé_Êé¢Ê±ÇÊÄß": 6,  // Âùé‚òµ - Ê∑±Ê∑µÊé¢Ê±ÇÔºàÊ∞¥„Éª‰∏≠Áî∑„ÉªÈô∫Ôºâ
            "ËâÆ_ÂÆâÂÆöÊÄß": 7,  // ËâÆ‚ò∂ - ÈùôÊ≠¢ÂÆâÂÆöÔºàÂ±±„ÉªÂ∞ëÁî∑„ÉªÊ≠¢Ôºâ
            "Âù§_ÂèóÂÆπÊÄß": 8   // Âù§‚ò∑ - ÂèóÂÆπËÇ≤ÊàêÔºàÂú∞„ÉªÊØç„ÉªÈ†ÜÔºâ
        };
        
        // 5. Triple OSÂÆöÁæ©
        const TRIPLE_OS = {
            'Engine OS': {
                name: 'Engine OS',
                description: 'Ë´ñÁêÜÁöÑÊÄùËÄÉ„Å®ÂÆüË°åÂäõ„ÅÆ‰∏≠Ê†∏„Ç∑„Çπ„ÉÜ„É†',
                color: '#6366f1',
                trigrams: [1, 4, 6, 7], // ‰πæ„ÄÅÈúá„ÄÅÂùé„ÄÅËâÆ
                keywords: ['ÂâµÈÄ†ÊÄß', '„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó', 'Ë°åÂãïÂäõ', 'Êé¢Ê±ÇÂøÉ', 'ÂÆâÂÆöÊÄß']
            },
            'Interface OS': {
                name: 'Interface OS', 
                description: '„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„Å®Ë°®Áèæ„ÅÆÂØæ‰∫∫„Ç∑„Çπ„ÉÜ„É†',
                color: '#8b5cf6',
                trigrams: [2, 3, 5, 8], // ÂÖå„ÄÅÈõ¢„ÄÅÂ∑Ω„ÄÅÂù§
                keywords: ['Ë™øÂíåÊÄß', '„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥', 'Ë°®ÁèæÂäõ', 'ÈÅ©ÂøúÊÄß', 'ÂèóÂÆπÊÄß']
            },
            'Safe Mode OS': {
                name: 'Safe Mode OS',
                description: 'ÂÆâÂÆö„Å®Ë™øÂíå„ÇíÈáçË¶ñ„Åô„Çã‰øùË≠∑„Ç∑„Çπ„ÉÜ„É†',
                color: '#10b981',
                trigrams: [7, 8, 5, 6], // ËâÆ„ÄÅÂù§„ÄÅÂ∑Ω„ÄÅÂùé
                keywords: ['ÂÆâÂÆöÊÄß', 'ÂèóÂÆπÊÄß', 'ÈÅ©ÂøúÊÄß', 'ÊÖéÈáç„Åï', 'ÂàÜÊûêÂäõ']
            }
        };
        
        // 6. VirtualPersonaEnhancer: ‰ªÆÊÉ≥‰∫∫Ê†ºÁîüÊàêÂº∑Âåñ„Ç∑„Çπ„ÉÜ„É†Ôºà64Âç¶„Éá„Éº„Çø„Éô„Éº„ÇπÈÄ£Êê∫ÁâàÔºâ
        class VirtualPersonaEnhancer {
            constructor() {
                // HEXAGRAMS„Éá„Éº„Çø„Éô„Éº„Çπ„Çí‰ΩøÁî®ÔºàÊó¢„Å´„Ç∞„É≠„Éº„Éê„É´„Å´ÂÆöÁæ©Ê∏à„ÅøÔºâ
                this.hexagrams = window.HEXAGRAMS || [];
                this.trigramSymbols = {
                    1: "‚ò∞", // ‰πæÔºàÂ§©Ôºâ
                    2: "‚ò±", // ÂÖåÔºàÊ≤¢Ôºâ
                    3: "‚ò≤", // Èõ¢ÔºàÁÅ´Ôºâ
                    4: "‚ò≥", // ÈúáÔºàÈõ∑Ôºâ
                    5: "‚ò¥", // Â∑ΩÔºàÈ¢®Ôºâ
                    6: "‚òµ", // ÂùéÔºàÊ∞¥Ôºâ
                    7: "‚ò∂", // ËâÆÔºàÂ±±Ôºâ
                    8: "‚ò∑"  // Âù§ÔºàÂú∞Ôºâ
                };
            }
            
            // Âç¶ID„Åã„ÇâÈÅ©Âàá„Å™„Ç∑„É≥„Éú„É´„ÇíÁîüÊàê
            getSymbolForHexagram(hexagramId) {
                // ‰∏äÂç¶„Å®‰∏ãÂç¶„Å´Âü∫„Å•„ÅÑ„Å¶„Ç∑„É≥„Éú„É´„ÇíÊ±∫ÂÆö
                const hexagram = this.hexagrams.find(h => h.hexagram_id === hexagramId);
                if (!hexagram) return "‚òØ";
                
                // ‰∏äÂç¶„ÅÆ„Ç∑„É≥„Éú„É´„ÇíËøî„ÅôÔºàÁ∞°Áï•ÂåñÔºâ
                return this.trigramSymbols[hexagram.upper_trigram_id] || "‚òØ";
            }
            
            // „Ç≠„Éº„ÉØ„Éº„Éâ„Åã„ÇâÁâπÊÄß„ÇíÊäΩÂá∫
            extractTraitsFromKeywords(keywords) {
                if (!keywords) return [];
                return keywords.split(',').map(k => k.trim());
            }
            
            enhanceOSResult(osResult, osType) {
                // osResult„Å´hexagramId„ÅåÂê´„Åæ„Çå„Å¶„ÅÑ„Çã„ÅØ„Åö
                const hexagramId = osResult.hexagramId || 1; // „Éá„Éï„Ç©„É´„Éà„ÅØ‰πæÁÇ∫Â§©
                const hexagram = this.hexagrams.find(h => h.hexagram_id === hexagramId);
                
                if (!hexagram) {
                    console.warn(`Hexagram ${hexagramId} not found, using default`);
                    return osResult;
                
                // 64Âç¶„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„ÇâÂãïÁöÑ„Å´„Éö„É´„ÇΩ„Éä„ÇíÁîüÊàê
                return {
                    ...osResult,
                    persona: {
                        name: hexagram.catchphrase,  // „Éá„Éº„Çø„Éô„Éº„Çπ„ÅÆ„Ç≠„É£„ÉÉ„ÉÅ„Éï„É¨„Éº„Ç∫„Çí‰ΩøÁî®
                        symbol: this.getSymbolForHexagram(hexagramId),
                        traits: this.extractTraitsFromKeywords(hexagram.keywords),
                        hexagramName: hexagram.name_jp,
                        reading: hexagram.reading,
                        description: hexagram.description,
                        // HaQeiÂì≤Â≠¶„Å´Âü∫„Å•„ÅèÊñáËÑà‰æùÂ≠òÁöÑ„Å™Ë°®Áèæ
                        contextualExpression: `${osType === 'engine' ? 'ÂÜÖÁöÑ‰æ°ÂÄ§Ë¶≥' : osType === 'interface' ? 'Á§æ‰ºöÁöÑÂÅ¥Èù¢' : 'Èò≤Âæ°ÁöÑÂÅ¥Èù¢'}„Å´„Åä„Åë„Çã${hexagram.catchphrase}`
                };
            
            generatePersonaCard(osResult, osType) {
                const enhancedResult = this.enhanceOSResult(osResult, osType);
                const persona = enhancedResult.persona;
                
                if (!persona) {
                    return '<div class="virtual-persona-card">„Éö„É´„ÇΩ„Éä„Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì</div>';
                }
                
                // OS„Çø„Ç§„Éó„Å´Âøú„Åò„ÅüËâ≤ÂàÜ„Åë
                const osColors = {
                    engine: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                    interface: 'linear-gradient(135deg, #48bb78 0%, #38a169 100%)',
                    safemode: 'linear-gradient(135deg, #ed8936 0%, #dd6b20 100%)'
                };
                
                return `
                    <div class="virtual-persona-card" style="background: ${osColors[osType] || osColors.engine};">
                        <div class="persona-header">
                            <span class="persona-symbol">${persona.symbol}</span>
                            <div>
                                <h3 class="persona-name">${persona.name}</h3>
                                <p class="hexagram-name">${persona.hexagramName} (${persona.reading})</p>
                            </div>
                        </div>
                        <div class="persona-content">
                            <p class="persona-context">${persona.contextualExpression}</p>
                            <div class="persona-traits">
                                ${persona.traits.map(trait => `<span class="trait-tag">${trait}</span>`).join('')}
                            </div>
                            <p class="persona-description">${persona.description}</p>
                        </div>
                    </div>
                `;
            }
        }
        
        // 7. TripleOS„Ç®„É≥„Ç∏„É≥ÔºàTypeScript„Åã„ÇâÁßªÊ§çÔºâ
        class TripleOSEngine {
            constructor() {
                this.trigramMapping = this.initializeTrigramMapping();
                this.interfaceKeywords = new Map();
                this.safeModeKeywords = new Map();
                this.initializeKeywordMaps();
            }
            
            initializeTrigramMapping() {
                // ÊòìÁµåÊ∫ñÊã†„ÅÆÊ≠£Áµ±‰∏âÁàª„Éû„ÉÉ„Éî„É≥„Ç∞
                return {
                    "‰πæ": { id: 1, symbol: "‚ò∞", name: "Â§©", nature: "ÂâõÂÅ•", trait: "Á¥îÁ≤ãÂâµÈÄ†„ÉªÂ§©ÊÄß„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó" },
                    "ÂÖå": { id: 2, symbol: "‚ò±", name: "Ê≤¢", nature: "ÊÇ¶Ê•Ω", trait: "ÂñúÊÇ¶Ë™øÂíå„Éª„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥" },
                    "Èõ¢": { id: 3, symbol: "‚ò≤", name: "ÁÅ´", nature: "ÂÖâÊòé", trait: "ÂÖâÊòéË°®Áèæ„ÉªÁü•ÊÄßÊÉÖÁÜ±" },
                    "Èúá": { id: 4, symbol: "‚ò≥", name: "Èõ∑", nature: "Áô∫Âãï", trait: "Èõ∑È≥¥Ë°åÂãï„ÉªÈù©Êñ∞ÂÆüË°å" },
                    "Â∑Ω": { id: 5, symbol: "‚ò¥", name: "È¢®", nature: "È†ÜÂÖ•", trait: "È¢®ÊµÅÊµ∏ÈÄè„ÉªÊüîËªüÈÅ©Âøú" },
                    "Âùé": { id: 6, symbol: "‚òµ", name: "Ê∞¥", nature: "Èô∑Èô∫", trait: "Ê∑±Ê∑µÊé¢Ê±Ç„ÉªÊ¥ûÂØüÁ™ÅÁ†¥" },
                    "ËâÆ": { id: 7, symbol: "‚ò∂", name: "Â±±", nature: "ÈùôÊ≠¢", trait: "Â±±Â≤≥ÂÆâÂÆö„Éª‰∏çÂãïÁ∂ôÁ∂ö" },
                    "Âù§": { id: 8, symbol: "‚ò∑", name: "Âú∞", nature: "ÊüîÈ†Ü", trait: "Â§ßÂú∞ÂèóÂÆπ„ÉªËÇ≤ÊàêÂåÖÂÆπ" }
                };
            }
            
            initializeKeywordMaps() {
                // Interface OS keywords
                this.interfaceKeywords.set("„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó", ["1", "13", "43", "14"]);
                this.interfaceKeywords.set("ÂçîË™øÊÄß", ["2", "15", "45", "8"]);
                this.interfaceKeywords.set("ÂâµÈÄ†ÊÄß", ["1", "43", "34", "14"]);
                
                // SafeMode OS keywords  
                this.safeModeKeywords.set("ÊÖéÈáç", ["2", "52", "39", "15"]);
                this.safeModeKeywords.set("ÂàÜÊûêÁöÑ", ["29", "48", "47", "6"]);
                this.safeModeKeywords.set("Êí§ÈÄÄ", ["33", "12", "45", "35"]);
            }
            
            // Triple OSÂàÜÊûê„ÅÆ„É°„Ç§„É≥Âá¶ÁêÜ
            async analyzeTripleOS(allAnswers) {
                // console.log("üîØ Starting Triple OS Analysis");
                
                try {
                    // 1. ÂõûÁ≠î„Çí‰æ°ÂÄ§Ë¶≥Ë≥™Âïè„Å®„Ç∑„Éä„É™„Ç™Ë≥™Âïè„Å´ÂàÜÈõ¢
                    const { worldviewAnswers, scenarioAnswers } = this.separateAnswers(allAnswers);
                    
                    // 2. Engine OSÔºà‰æ°ÂÄ§Ë¶≥„Ç∑„Çπ„ÉÜ„É†Ôºâ„ÅÆÂàÜÊûê
                    const engineOS = await this.analyzeEngineOS(worldviewAnswers);
                    
                    // 3. Interface OSÔºàÁ§æ‰ºöÁöÑ„Ç∑„Çπ„ÉÜ„É†Ôºâ„ÅÆÂàÜÊûê
                    const interfaceOS = await this.analyzeInterfaceOS(scenarioAnswers, engineOS);
                    
                    // 4. SafeMode OSÔºàÈò≤Âæ°„Ç∑„Çπ„ÉÜ„É†Ôºâ„ÅÆÂàÜÊûê
                    const safeModeOS = await this.analyzeSafeModeOS(scenarioAnswers, engineOS);
                    
                    // 5. ÂÖ®OS„ÅåÊ≠£Â∏∏„Å´Ë®àÁÆó„Åï„Çå„Åü„ÅãÁ¢∫Ë™ç
                    this.validateTripleOSResults(engineOS, interfaceOS, safeModeOS);
                    
                    // 6. ÂêÑOS„ÅÆ„Ç®„Éç„É´„ÇÆ„ÉºÂº∑Â∫¶„ÇíË®àÁÆó
                    engineOS.energy = this.calculateOSEnergy(engineOS);
                    interfaceOS.energy = this.calculateOSEnergy(interfaceOS);
                    safeModeOS.energy = this.calculateOSEnergy(safeModeOS);
                    
                    console.log("‚ö° OS Energies:", {
                        engine: engineOS.energy,
                        interface: interfaceOS.energy,
                        safeMode: safeModeOS.energy
                    });
                    
                    // 7. Triple OSÁµ±ÂêàÂàÜÊûê„ÅÆÂÆüË°å
                    const tripleOSIntegration = await this.calculateTripleOSInteraction(engineOS, interfaceOS, safeModeOS);
                    
                    // console.log("‚úÖ Triple OS Analysis Completed Successfully");
                    
                    return {
                        engineOS,
                        interfaceOS,
                        safeModeOS,
                        integration: tripleOSIntegration,
                        consistencyScore: tripleOSIntegration.consistency,
                        balanceScore: tripleOSIntegration.balance,
                        HaQeiIntegration: tripleOSIntegration.integration,
                        recommendations: tripleOSIntegration.recommendations,
                        validationStatus: "completed",
                        timestamp: Date.now()
                    };
                    
                } catch (error) {
                    console.error("‚ùå Triple OS Analysis Error:", error);
                    
                    // Áµ±Âêà„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞ - „Éá„Éï„Ç©„É´„Éà„ÅÆTriple OSÁµêÊûú„ÇíËøî„Åô
                    return this.getDefaultTripleOSResults();
            
            separateAnswers(allAnswers) {
                const worldviewAnswers = [];
                const scenarioAnswers = [];
                
                allAnswers.forEach(answer => {
                    const questionNum = parseInt(answer.questionId.replace('q', ''));
                    if (questionNum >= 1 && questionNum <= 24) {
                        worldviewAnswers.push(answer);
                    } else if (questionNum >= 25 && questionNum <= 30) {
                        scenarioAnswers.push(answer);
                });
                
                return { worldviewAnswers, scenarioAnswers };
            
            async analyzeEngineOS(worldviewAnswers) {
                console.log("üî• Engine OS Analysis: Core Values System Mapping");
                
                try {
                    // „É¶„Éº„Ç∂„Éº„Éô„ÇØ„Éà„É´„ÅÆÊßãÁØâ
                    const userVector = this.buildUserVector(worldviewAnswers);
                    console.log("üìä User Vector:", userVector);
                    
                    // ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„Éº„ÅÆË®àÁÆó
                    const trigramEnergies = this.calculateTrigramEnergies(userVector);
                    console.log("‚ö° Trigram Energies:", trigramEnergies);
                    
                    // üåü ÊîπÂñÑÔºöÂÖ®‰Ωì„Ç®„Éç„É´„ÇÆ„Éº„Éê„É©„É≥„ÇπÈáçË¶ñ„ÅÆ64Âç¶ÈÅ∏Êäû
                    const authenticEngine = new AuthenticEnergyBalanceEngine();
                    const optimalResult = authenticEngine.selectOptimalHexagramByEnergyBalance(
                        trigramEnergies, 
                        'Engine OS'
                    
                    console.log(`üèÜ Engine OS Optimal Result:`, optimalResult);
                    
                    // 64Âç¶„Éá„Éº„Çø„ÅÆÂèñÂæóÔºàÂæìÊù•„ÅÆ„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆ‰∫íÊèõÊÄßÁ∂≠ÊåÅÔºâ
                    const hexagram = HEXAGRAMS.find(h => h.hexagram_id === optimalResult.hexagramId) || HEXAGRAMS[0];
                    
                    return {
                        hexagramId: optimalResult.hexagramId,
                        hexagramName: optimalResult.hexagramName || hexagram.name_jp,
                        description: hexagram.description,
                        catchphrase: hexagram.catchphrase,
                        primaryTrigram: optimalResult.upperTrigram,
                        secondaryTrigram: optimalResult.lowerTrigram,
                        trigramEnergies,
                        // üåü Êñ∞Ê©üËÉΩÔºöÂÖ®‰ΩìË™øÂíåÂàÜÊûê„ÅÆË©≥Á¥∞ÁµêÊûú
                        harmonyScore: optimalResult.harmonyScore,
                        energyUtilization: optimalResult.energyUtilization,
                        osCompatibility: optimalResult.osCompatibility,
                        detailedAnalysis: optimalResult.detailedAnalysis,
                        alternativeCandidates: optimalResult.alternativeCandidates,
                        improvementRecommendations: optimalResult.improvementRecommendations,
                        // ÂæìÊù•„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆÈÅï„ÅÑ„ÇíÊòéÁ§∫
                        originalMethod: this.getLegacyResult(trigramEnergies),
                        improvedMethod: true,
                        balanceType: 'authentic_energy_balance'
                    };
                    
                } catch (error) {
                    console.error("‚ùå Engine OS Analysis Error:", error);
                    // „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºöÂæìÊù•ÊñπÂºè
                    return this.analyzeEngineOSLegacy(worldviewAnswers);
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
            
            // üîÑ ÂæìÊù•ÊñπÂºè„ÅÆ‰øùÊåÅÔºàÊØîËºÉ„Éª„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÁî®Ôºâ
            getLegacyResult(trigramEnergies) {
                const sortedTrigrams = Object.entries(trigramEnergies).sort(([, a], [, b]) => b - a);
                const upperTrigram = sortedTrigrams[0][0];
                const lowerTrigram = sortedTrigrams[1][0];
                const hexagramId = this.mapTrigramsToHexagram(upperTrigram, lowerTrigram);
                
                return {
                    method: 'legacy_highest_two',
                    upperTrigram,
                    lowerTrigram, 
                    hexagramId,
                    note: 'ÂæìÊù•„ÅÆÊúÄÈ´òÂÄ§2‰∏âÁàªÈÅ∏ÊäûÊñπÂºè'
                };
            
            // „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÁî®„ÅÆÂæìÊù•ÂàÜÊûê
            analyzeEngineOSLegacy(worldviewAnswers) {
                console.warn("üö® Falling back to legacy Engine OS analysis");
                
                const userVector = this.buildUserVector(worldviewAnswers);
                const trigramEnergies = this.calculateTrigramEnergies(userVector);
                
                const sortedTrigrams = Object.entries(trigramEnergies).sort(([, a], [, b]) => b - a);
                const upperTrigram = sortedTrigrams[0][0];
                const lowerTrigram = sortedTrigrams[1][0];
                
                const hexagramId = this.mapTrigramsToHexagram(upperTrigram, lowerTrigram);
                const hexagram = HEXAGRAMS.find(h => h.hexagram_id === hexagramId) || HEXAGRAMS[0];
                
                return {
                    hexagramId,
                    hexagramName: hexagram.name_jp,
                    description: hexagram.description,
                    catchphrase: hexagram.catchphrase,
                    primaryTrigram: upperTrigram,
                    secondaryTrigram: lowerTrigram,
                    trigramEnergies,
                    balanceType: 'legacy_fallback',
                    improvedMethod: false
                };
            
            buildUserVector(answers) {
                const vector = {
                    ‰πæ_ÂâµÈÄ†ÊÄß: 0, Èúá_Ë°åÂãïÊÄß: 0, Âùé_Êé¢Ê±ÇÊÄß: 0, ËâÆ_ÂÆâÂÆöÊÄß: 0,
                    Âù§_ÂèóÂÆπÊÄß: 0, Â∑Ω_ÈÅ©ÂøúÊÄß: 0, Èõ¢_Ë°®ÁèæÊÄß: 0, ÂÖå_Ë™øÂíåÊÄß: 0
                };
                
                answers.forEach(answer => {
                    const option = answer.selectedOption;
                    if (option && option.scoring) {
                        Object.entries(option.scoring).forEach(([dimension, score]) => {
                            if (vector.hasOwnProperty(dimension)) {
                                vector[dimension] += score;
                        });
                });
                
                return vector;
            
            calculateTrigramEnergies(userVector) {
                // ÊòìÁµåÊ∫ñÊã†„ÅÆÊ≠£Áµ±‰∏âÁàª„Ç®„Éç„É´„ÇÆ„ÉºË®àÁÆó
                const rawEnergies = {};
                
                // 8Ê¨°ÂÖÉ„Éô„ÇØ„Éà„É´„Åã„Çâ8‰∏âÁàª„Å∏„ÅÆÊ≠£Áµ±Â§âÊèõ
                Object.entries(AUTHENTIC_TRIGRAM_MAPPING).forEach(([dimension, trigramId]) => {
                    const trigramName = this.getTrigramName(trigramId);
                    rawEnergies[trigramName] = userVector[dimension] || 0;
                });
                
                // HaQeiÂãïÁöÑÊ≠£Ë¶èÂåñÔºàÊúÄÈ´òÂÄ§„Çí100„Å®„Åó„ÄÅÁõ∏ÂØæÁöÑ„Éê„É©„É≥„ÇπÁ∂≠ÊåÅÔºâ
                const maxEnergy = Math.max(...Object.values(rawEnergies));
                const normalizedEnergies = {};
                
                if (maxEnergy > 0) {
                    Object.entries(rawEnergies).forEach(([trigram, energy]) => {
                        // Ê≠£Ë¶èÂåñ + Èô∞ÈôΩ„Éê„É©„É≥„ÇπË™øÊï¥
                        const normalized = (energy / maxEnergy) * 100;
                        normalizedEnergies[trigram] = Math.max(0, Math.min(100, normalized));
                    });
                } else {
                    // „Éá„Éï„Ç©„É´„ÉàÂÄ§ÔºàÂùáÁ≠âÂàÜÊï£Ôºâ
                    Object.keys(rawEnergies).forEach(trigram => {
                        normalizedEnergies[trigram] = 12.5; // 100/8
                    });
                
                return normalizedEnergies;
            
            getTrigramName(trigramId) {
                // üåü IMPROVED: Ë©≥Á¥∞„Å™Ë™¨Êòé‰ªò„ÅçtrigramÂêçÂâçÂèñÂæó
                const trigramMap = {
                    '‰πæ': '‰πæ (Â§©) - ÂâµÈÄ†ÊÄß„Éª„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó„ÅÆÂç¶',
                    'ÂÖå': 'ÂÖå (Ê≤¢) - Ë™øÂíåÊÄß„Éª‰∫§ÊµÅ„ÅÆÂç¶',
                    'Èõ¢': 'Èõ¢ (ÁÅ´) - Ë°®ÁèæÊÄß„ÉªÊÉÖÁÜ±„ÅÆÂç¶',
                    'Èúá': 'Èúá (Èõ∑) - Ë°åÂãïÊÄß„ÉªÂ§âÈù©„ÅÆÂç¶', 
                    'Â∑Ω': 'Â∑Ω (È¢®) - ÈÅ©ÂøúÊÄß„ÉªÊüîËªüÊÄß„ÅÆÂç¶',
                    'Âùé': 'Âùé (Ê∞¥) - Êé¢Ê±ÇÊÄß„ÉªÊ∑±Â±§ÁêÜËß£„ÅÆÂç¶',
                    'ËâÆ': 'ËâÆ (Â±±) - ÂÆâÂÆöÊÄß„ÉªÊåÅÁ∂öÂäõ„ÅÆÂç¶',
                    'Âù§': 'Âù§ (Âú∞) - ÂèóÂÆπÊÄß„ÉªÊîØÊè¥„ÅÆÂç¶'
                };
                
                // üõ°Ô∏è UNDEFINED PROTECTION: ÂÆâÂÖ®„Å™ÂèñÂæó
                if (typeof trigramId === 'number') {
                    const trigramNames = ["‰πæ", "ÂÖå", "Èõ¢", "Èúá", "Â∑Ω", "Âùé", "ËâÆ", "Âù§"];
                    const trigramKey = trigramNames[trigramId - 1];
                    return trigramMap[trigramKey] || `Á¨¨${trigramId}Âç¶ (Ë©≥Á¥∞‰∏çÊòé)`;
                
                if (typeof trigramId === 'string') {
                    return trigramMap[trigramId] || `${trigramId} (Ë©≥Á¥∞ÊÉÖÂ†±„ÇíÂèñÂæó‰∏≠)`;
                
                return 'Âç¶ÊÉÖÂ†±„ÇíÂèñÂæó‰∏≠...';
            
            mapTrigramsToHexagram(upperTrigram, lowerTrigram) {
                // ÊòìÁµåÊ∫ñÊã†„ÅÆÊ≠£Á¢∫„Å™64Âç¶Ë®àÁÆóÔºàÂÖàÂ§©ÂÖ´Âç¶ÈÖçÂàóÂü∫Ê∫ñÔºâ
                const trigramToNumber = {
                    "‰πæ": 1, "ÂÖå": 2, "Èõ¢": 3, "Èúá": 4,
                    "Â∑Ω": 5, "Âùé": 6, "ËâÆ": 7, "Âù§": 8
                };
                
                const upper = trigramToNumber[upperTrigram] || 1;
                const lower = trigramToNumber[lowerTrigram] || 1;
                
                // Ê≠£Áµ±ÁöÑ64Âç¶„Éû„Éà„É™„ÉÉ„ÇØ„ÇπÔºàÂÖàÂ§©ÂÖ´Âç¶È†ÜÂ∫èÔºâ
                const authenticHexagramMatrix = [
                    [1, 43, 14, 34, 9, 5, 26, 11],   // ‰πæ‰∏ä (Â§©)
                    [58, 60, 38, 54, 61, 59, 28, 19], // ÂÖå‰∏ä (Ê≤¢)
                    [50, 64, 56, 62, 55, 63, 35, 8],  // Èõ¢‰∏ä (ÁÅ´)
                    [51, 16, 40, 32, 46, 48, 18, 7],  // Èúá‰∏ä (Èõ∑)
                    [57, 20, 53, 42, 37, 45, 22, 36], // Â∑Ω‰∏ä (È¢®)
                    [6, 29, 4, 7, 59, 60, 3, 2],      // Âùé‰∏ä (Ê∞¥)
                    [33, 52, 39, 15, 53, 56, 31, 12], // ËâÆ‰∏ä (Â±±)
                    [2, 47, 4, 7, 46, 29, 27, 24]     // Âù§‰∏ä (Âú∞)
                ];
                
                // ÊòìÁµåÊ≠£Áµ±Ë®àÁÆó
                const hexagramId = authenticHexagramMatrix[upper - 1][lower - 1];
                
                console.log(`üîØ Authentic I-Ching Mapping: ${upperTrigram}(${upper}) over ${lowerTrigram}(${lower}) = Hexagram ${hexagramId}`);
                
                return hexagramId;
            
            // Âç¶„Éá„Éº„ÇøÂèñÂæó„É°„ÇΩ„ÉÉ„Éâ
            getHexagramData(hexagramId) {
                const hexagram = HEXAGRAMS.find(h => h.hexagram_id === hexagramId);
                if (!hexagram) {
                    console.warn(`Hexagram ${hexagramId} not found, using default`);
                    return HEXAGRAMS[0] || {
                        hexagram_id: hexagramId,
                        name_jp: `Âç¶${hexagramId}`,
                        description: "„Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì",
                        catchphrase: "---"
                    };
                return hexagram;
            
            async analyzeInterfaceOS(scenarioAnswers, engineOS) {
                console.log("üåê Interface OS Analysis: Social Pattern Mapping");
                
                try {
                    // 1. „Ç∑„Éä„É™„Ç™Ë≥™Âïè„Åã„ÇâÁ§æ‰ºöÁöÑ„Éë„Çø„Éº„É≥„ÇíÂàÜÊûê
                    const socialPatterns = this.analyzeSocialPatterns(scenarioAnswers);
                    console.log("üìä Social Patterns:", socialPatterns);
                    
                    // 2. Interface OSÂ∞ÇÁî®„ÅÆ8Ê¨°ÂÖÉ„Éô„ÇØ„Éà„É´ÊßãÁØâ
                    const interfaceVector = this.buildInterfaceVector(socialPatterns);
                    console.log("üéØ Interface Vector:", interfaceVector);
                    
                    // 3. Á§æ‰ºöÁöÑ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„ÉºË®àÁÆó
                    const socialTrigramEnergies = this.calculateSocialTrigramEnergies(interfaceVector);
                    console.log("‚ö° Social Trigram Energies:", socialTrigramEnergies);
                    
                    // 4. Engine OS„Å®„ÅÆÁõ∏‰∫í‰ΩúÁî®Ë£úÊ≠£
                    const adjustedEnergies = this.adjustForEngineOS(socialTrigramEnergies, engineOS);
                    console.log("üîÑ Adjusted for Engine OS:", adjustedEnergies);
                    
                    // 5. üåü ÊîπÂñÑÔºöInterface OSÂÖ®‰Ωì„Ç®„Éç„É´„ÇÆ„Éº„Éê„É©„É≥„ÇπÈáçË¶ñ„ÅÆÊúÄÈÅ©ÈÅ∏Êäû
                    const authenticEngine = new AuthenticEnergyBalanceEngine();
                    const optimalResult = authenticEngine.selectOptimalHexagramByEnergyBalance(
                        adjustedEnergies, 
                        'Interface OS'
                    
                    console.log(`üèÜ Interface OS Optimal Result:`, optimalResult);
                    
                    // 6. 64Âç¶„Éá„Éº„ÇøÂèñÂæó
                    const hexagramData = this.getHexagramData(optimalResult.hexagramId);
                    
                    // 7. Interface OSÂ∞ÇÁî®Ëß£ÈáàÁîüÊàê
                    const interfaceInterpretation = this.generateInterfaceInterpretation(
                        optimalResult.hexagramId, optimalResult.upperTrigram, optimalResult.lowerTrigram, socialPatterns, engineOS
                    
                    console.log(`üåü Interface OS Result: Hexagram ${optimalResult.hexagramId} (${hexagramData.name_jp})`);
                    
                    return {
                        hexagramId: optimalResult.hexagramId,
                        hexagramName: optimalResult.hexagramName || hexagramData.name_jp,
                        catchphrase: hexagramData.catchphrase,
                        upperTrigram: optimalResult.upperTrigram,
                        lowerTrigram: optimalResult.lowerTrigram,
                        socialPatterns,
                        interfaceVector,
                        socialStyle: this.determineSocialStyle(socialPatterns),
                        description: interfaceInterpretation.description,
                        leadership: interfaceInterpretation.leadership,
                        communication: interfaceInterpretation.communication,
                        conflictResolution: interfaceInterpretation.conflictResolution,
                        adaptability: interfaceInterpretation.adaptability,
                        engineOSInfluence: interfaceInterpretation.engineOSInfluence,
                        trigramEnergies: adjustedEnergies,
                        type: "Interface OS",
                        // üåü Êñ∞Ê©üËÉΩÔºöÂÖ®‰ΩìË™øÂíåÂàÜÊûê„ÅÆË©≥Á¥∞ÁµêÊûú
                        harmonyScore: optimalResult.harmonyScore,
                        energyUtilization: optimalResult.energyUtilization,
                        osCompatibility: optimalResult.osCompatibility,
                        detailedAnalysis: optimalResult.detailedAnalysis,
                        alternativeCandidates: optimalResult.alternativeCandidates,
                        improvementRecommendations: optimalResult.improvementRecommendations,
                        balanceType: 'authentic_energy_balance',
                        improvedMethod: true
                    };
                    
                } catch (error) {
                    console.error("‚ùå Interface OS Analysis Error:", error);
                    return this.getDefaultInterfaceOS();
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            async analyzeSafeModeOS(scenarioAnswers, engineOS) {
                console.log("üõ°Ô∏è SafeMode OS Analysis: Defensive Pattern Extraction");
                
                try {
                    // 1. „Ç∑„Éä„É™„Ç™„Åã„ÇâÈò≤Âæ°„Éë„Çø„Éº„É≥„ÇíÊäΩÂá∫
                    const defensivePatterns = this.extractDefensivePatterns(scenarioAnswers);
                    console.log("‚ö° Defensive Patterns:", defensivePatterns);
                    
                    // 2. „Çπ„Éà„É¨„ÇπÂèçÂøú„Éô„ÇØ„Éà„É´ÊßãÁØâ
                    const stressVector = this.buildStressResponseVector(defensivePatterns);
                    console.log("üå™Ô∏è Stress Response Vector:", stressVector);
                    
                    // 3. Èò≤Âæ°ÁöÑ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„ÉºË®àÁÆó
                    const defensiveTrigramEnergies = this.calculateDefensiveTrigramEnergies(stressVector);
                    console.log("‚öîÔ∏è Defensive Trigram Energies:", defensiveTrigramEnergies);
                    
                    // 4. Engine OS„Å´„Çà„ÇãÂü∫Á§éÁöÑÂΩ±ÈüøÔºà40%Ôºâ
                    const adjustedEnergies = this.adjustForCorePersonality(defensiveTrigramEnergies, engineOS);
                    console.log("üîß Core-Adjusted Energies:", adjustedEnergies);
                    
                    // 5. üåü ÊîπÂñÑÔºöSafe Mode OSÂÖ®‰Ωì„Ç®„Éç„É´„ÇÆ„Éº„Éê„É©„É≥„ÇπÈáçË¶ñ„ÅÆÊúÄÈÅ©ÈÅ∏Êäû
                    const authenticEngine = new AuthenticEnergyBalanceEngine();
                    const optimalResult = authenticEngine.selectOptimalHexagramByEnergyBalance(
                        adjustedEnergies, 
                        'Safe Mode OS'
                    
                    console.log(`üèÜ Safe Mode OS Optimal Result:`, optimalResult);
                    
                    // 6. 64Âç¶„Éá„Éº„ÇøÂèñÂæó
                    const hexagramData = this.getHexagramData(optimalResult.hexagramId);
                    
                    // 7. SafeMode OSÂ∞ÇÁî®Ëß£ÈáàÁîüÊàê
                    const safeModeInterpretation = this.generateSafeModeInterpretation(
                        optimalResult.hexagramId, optimalResult.upperTrigram, optimalResult.lowerTrigram, defensivePatterns, engineOS
                    
                    console.log(`üîØ SafeMode OS Result: Hexagram ${optimalResult.hexagramId} (${hexagramData.name_jp})`);
                    
                    return {
                        hexagramId: optimalResult.hexagramId,
                        hexagramName: optimalResult.hexagramName || hexagramData.name_jp,
                        description: safeModeInterpretation.description,
                        catchphrase: hexagramData.catchphrase,
                        primaryDefense: optimalResult.upperTrigram,
                        secondaryDefense: optimalResult.lowerTrigram,
                        defensiveType: safeModeInterpretation.defensiveType,
                        stressResponse: safeModeInterpretation.stressResponse,
                        activationTrigger: safeModeInterpretation.activationTrigger,
                        defensiveStrength: this.calculateDefensiveStrength(defensivePatterns),
                        trigramEnergies: adjustedEnergies,
                        type: "Safe Mode OS",
                        // üåü Êñ∞Ê©üËÉΩÔºöÂÖ®‰ΩìË™øÂíåÂàÜÊûê„ÅÆË©≥Á¥∞ÁµêÊûú
                        harmonyScore: optimalResult.harmonyScore,
                        energyUtilization: optimalResult.energyUtilization,
                        osCompatibility: optimalResult.osCompatibility,
                        detailedAnalysis: optimalResult.detailedAnalysis,
                        alternativeCandidates: optimalResult.alternativeCandidates,
                        improvementRecommendations: optimalResult.improvementRecommendations,
                        balanceType: 'authentic_energy_balance',
                        improvedMethod: true
                    };
                    
                } catch (error) {
                    console.error("‚ùå SafeMode OS Analysis Error:", error);
                    return this.getDefaultSafeModeOS();
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                

            extractDefensivePatterns(scenarioAnswers) {
                const patterns = {
                    leadershipStress: 0,    // Q25: Ë≤¨‰ªª„ÅÆÈáçÂúß„Å∏„ÅÆÈò≤Âæ°
                    interpersonalStress: 0, // Q26: ‰∫∫ÈñìÈñ¢‰øÇ„Çπ„Éà„É¨„Çπ„Å∏„ÅÆÈò≤Âæ°
                    familyStress: 0,        // Q27: Ë¶™ÂØÜÈñ¢‰øÇ„ÅÆË≤†Ëç∑„Å∏„ÅÆÈò≤Âæ°
                    emergencyStress: 0,     // Q28: Âç±Ê©üÁöÑÁä∂Ê≥Å„Å∏„ÅÆÈò≤Âæ°
                    competitionStress: 0,   // Q29: Á´∂‰∫âÂúßÂäõ„Å∏„ÅÆÈò≤Âæ°
                    collaborationStress: 0  // Q30: ÂçîË™ø„ÅÆË≤†ÊãÖ„Å∏„ÅÆÈò≤Âæ°
                };
                
                // ÂêÑ„Ç∑„Éä„É™„Ç™ÂõûÁ≠î„Åã„ÇâÈò≤Âæ°ÁöÑÂèçÂøú„Éë„Çø„Éº„É≥„ÇíÊäΩÂá∫
                scenarioAnswers.forEach((answer, index) => {
                    const questionNum = 25 + index;
                    const stressResponse = this.analyzeStressResponse(answer, questionNum);
                    
                    switch(questionNum) {
                        case 25: patterns.leadershipStress = stressResponse; break;
                        case 26: patterns.interpersonalStress = stressResponse; break;
                        case 27: patterns.familyStress = stressResponse; break;
                        case 28: patterns.emergencyStress = stressResponse; break;
                        case 29: patterns.competitionStress = stressResponse; break;
                        case 30: patterns.collaborationStress = stressResponse; break;
                });
                
                return patterns;

            analyzeStressResponse(answer, questionNum) {
                // ÂõûÁ≠î„Åã„ÇâÈò≤Âæ°ÁöÑ„Éë„Çø„Éº„É≥„ÇíÊï∞ÂÄ§Âåñ
                const responseIntensity = this.calculateResponseIntensity(answer);
                const defensiveType = this.identifyDefensiveType(answer, questionNum);
                
                return {
                    intensity: responseIntensity,
                    type: defensiveType,
                    pattern: this.mapToDefensivePattern(defensiveType)
                };

            calculateResponseIntensity(answer) {
                // ÂõûÁ≠î„ÅÆÂº∑Â∫¶„Çí0-1„ÅßÊ∏¨ÂÆö
                if (!answer || !answer.text) return 0.5;
                
                const text = answer.text.toLowerCase();
                const intensityKeywords = {
                    high: ['Áµ∂ÂØæ', 'ÂøÖ„Åö', 'ÂÆåÂÖ®', 'ÂæπÂ∫ï', 'Êñ≠Âõ∫', 'Êñ≠ÁÑ∂', 'Âç≥Â∫ß', 'Á∑äÊÄ•'],
                    medium: ['„Åß„Åç„Çã„Å†„Åë', '„Å™„Çã„Åπ„Åè', 'Âä™Âäõ', 'Ê§úË®é', 'Áõ∏Ë´á', 'Ë™øÊï¥'],
                    low: ['ÊßòÂ≠êË¶ã', '‰øùÁïô', 'Âª∂Êúü', 'ÂõûÈÅø', 'ÁÑ°Ë¶ñ', 'ÊîæÁΩÆ']
                };
                
                let score = 0.5; // baseline
                
                intensityKeywords.high.forEach(keyword => {
                    if (text.includes(keyword)) score += 0.15;
                });
                intensityKeywords.medium.forEach(keyword => {
                    if (text.includes(keyword)) score += 0.05;
                });
                intensityKeywords.low.forEach(keyword => {
                    if (text.includes(keyword)) score -= 0.1;
                });
                
                return Math.max(0, Math.min(1, score));

            identifyDefensiveType(answer, questionNum) {
                if (!answer || !answer.text) return 'neutral';
                
                const text = answer.text.toLowerCase();
                
                // Èò≤Âæ°„Çø„Ç§„Éó„Ç≠„Éº„ÉØ„Éº„ÉâÂàÜÊûê
                const defensiveKeywords = {
                    retreat: ['Êí§ÈÄÄ', 'Ë∑ùÈõ¢', 'ÈÅø„Åë„Çã', 'Èõ¢„Çå„Çã', 'ÈÄÄ„Åè', 'ÈÄÉ„Åí'],
                    confront: ['ÂØæÊäó', 'Á´ã„Å°Âêë„Åã„ÅÜ', 'Êà¶„ÅÜ', 'ÊåëÊà¶', 'ÂèçÊíÉ', 'ÊäµÊäó'],
                    avoid: ['ÂõûÈÅø', 'Â∑ß„Åø', 'ËøÇÂõû', 'Âà•„ÅÆÈÅì', 'ÊüîËªü', 'ÈÅ©Âøú'],
                    endure: ['ËÄê„Åà„Çã', 'ÊàëÊÖ¢', 'Âøç„Å∂', 'ÊåÅ‰πÖ', 'Á∂ôÁ∂ö', 'Â†ÖÊåÅ'],
                    transform: ['Â§âÂåñ', 'ÈÅ©Âøú', 'Â§âÂÆπ', 'Ë™øÊï¥', '‰øÆÊ≠£', 'ÈÄ≤Âåñ'],
                    boundary: ['Â¢ÉÁïå', 'Á∑öÂºï„Åç', 'Âà∂Èôê', 'Âå∫Âà•', 'ÂàÜÈõ¢', 'Èò≤Â£Å'],
                    harmonize: ['Ë™øÂíå', 'ÂêåÂåñ', 'Ê∫∂„ÅëËæº„ÇÄ', 'ÂçîË™ø', 'Âêà„Çè„Åõ„Çã', 'ËûçÂêà'],
                    fortify: ['Âº∑Âåñ', 'Âõ∫„ÇÅ„Çã', 'ÂÆà„Çã', 'Èò≤Âæ°', 'ÂÆâÂÆö', 'Â†ÖÂõ∫']
                };
                
                let maxScore = 0;
                let dominantType = 'neutral';
                
                Object.entries(defensiveKeywords).forEach(([type, keywords]) => {
                    let score = 0;
                    keywords.forEach(keyword => {
                        if (text.includes(keyword)) score++;
                    });
                    if (score > maxScore) {
                        maxScore = score;
                        dominantType = type;
                });
                
                return dominantType;

            mapToDefensivePattern(defensiveType) {
                const patternMap = {
                    retreat: 'Êí§ÈÄÄ',     // Âù§„ÉªËâÆ
                    confront: 'ÂØæÊäó',    // ‰πæ„ÉªÈúá
                    avoid: 'ÂõûÈÅø',       // Â∑Ω„ÉªÂÖå
                    endure: 'ËÄêÂøç',      // Âùé„ÉªËâÆ
                    transform: 'Â§âÂÆπ',   // Èõ¢„ÉªÂ∑Ω
                    boundary: 'ÁµêÁïå',    // ËâÆ„ÉªÂù§
                    harmonize: 'ÂêåÂåñ',   // Âù§„ÉªÂ∑Ω
                    fortify: 'Á°¨Âåñ',     // ‰πæ„ÉªËâÆ
                    neutral: '‰∏≠Á´ã'
                };
                
                return patternMap[defensiveType] || '‰∏≠Á´ã';

            buildStressResponseVector(defensivePatterns) {
                // Èò≤Âæ°ÁöÑ8Ê¨°ÂÖÉ„Éô„ÇØ„Éà„É´ÊßãÁØâ
                const vector = {
                    Èò≤Âæ°_Êí§ÈÄÄÊÄß: 0,    // Âù§ - ÂèóÂãïÁöÑÊí§ÈÄÄ
                    Èò≤Âæ°_ÂØæÊäóÊÄß: 0,    // ‰πæ - Á©çÊ•µÁöÑÂØæÊäó
                    Èò≤Âæ°_ÂõûÈÅøÊÄß: 0,    // Â∑Ω - ÊüîËªü„Å™ÂõûÈÅø
                    Èò≤Âæ°_ÊåÅ‰πÖÊÄß: 0,    // Âùé - ÂøçËÄê„Å®ÊåÅ‰πÖ
                    Èò≤Âæ°_Â§âÂÆπÊÄß: 0,    // Èõ¢ - Â§âÂåñ„Å®ÈÅ©Âøú
                    Èò≤Âæ°_Â¢ÉÁïåÊÄß: 0,    // ËâÆ - Â¢ÉÁïåË®≠ÂÆö
                    Èò≤Âæ°_Ë™øÂíåÊÄß: 0,    // ÂÖå - Ë™øÂíåÁöÑËß£Ê±∫
                    Èò≤Âæ°_Â†ÖÂõ∫ÊÄß: 0     // Èúá - Áû¨Áô∫ÁöÑÈò≤Âæ°
                };
                
                // ÂêÑ„Çπ„Éà„É¨„ÇπÂèçÂøú„ÇíÂØæÂøú„Åô„ÇãÈò≤Âæ°Ê¨°ÂÖÉ„Å´„Éû„ÉÉ„Éî„É≥„Ç∞
                Object.entries(defensivePatterns).forEach(([stressType, response]) => {
                    const intensity = response.intensity || 0;
                    const pattern = response.pattern || '‰∏≠Á´ã';
                    
                    switch(pattern) {
                        case 'Êí§ÈÄÄ':
                            vector.Èò≤Âæ°_Êí§ÈÄÄÊÄß += intensity * 0.8;
                            vector.Èò≤Âæ°_Ë™øÂíåÊÄß += intensity * 0.3;
                            break;
                        case 'ÂØæÊäó':
                            vector.Èò≤Âæ°_ÂØæÊäóÊÄß += intensity * 0.8;
                            vector.Èò≤Âæ°_Â†ÖÂõ∫ÊÄß += intensity * 0.4;
                            break;
                        case 'ÂõûÈÅø':
                            vector.Èò≤Âæ°_ÂõûÈÅøÊÄß += intensity * 0.8;
                            vector.Èò≤Âæ°_Â§âÂÆπÊÄß += intensity * 0.3;
                            break;
                        case 'ËÄêÂøç':
                            vector.Èò≤Âæ°_ÊåÅ‰πÖÊÄß += intensity * 0.8;
                            vector.Èò≤Âæ°_Â¢ÉÁïåÊÄß += intensity * 0.4;
                            break;
                        case 'Â§âÂÆπ':
                            vector.Èò≤Âæ°_Â§âÂÆπÊÄß += intensity * 0.8;
                            vector.Èò≤Âæ°_ÂõûÈÅøÊÄß += intensity * 0.3;
                            break;
                        case 'ÁµêÁïå':
                            vector.Èò≤Âæ°_Â¢ÉÁïåÊÄß += intensity * 0.8;
                            vector.Èò≤Âæ°_ÊåÅ‰πÖÊÄß += intensity * 0.3;
                            break;
                        case 'ÂêåÂåñ':
                            vector.Èò≤Âæ°_Ë™øÂíåÊÄß += intensity * 0.8;
                            vector.Èò≤Âæ°_Êí§ÈÄÄÊÄß += intensity * 0.3;
                            break;
                        case 'Á°¨Âåñ':
                            vector.Èò≤Âæ°_Â†ÖÂõ∫ÊÄß += intensity * 0.8;
                            vector.Èò≤Âæ°_ÂØæÊäóÊÄß += intensity * 0.3;
                            break;
                });
                
                // Ê≠£Ë¶èÂåñ
                const maxValue = Math.max(...Object.values(vector));
                if (maxValue > 0) {
                    Object.keys(vector).forEach(key => {
                        vector[key] = vector[key] / maxValue;
                    });
                
                return vector;

            calculateDefensiveTrigramEnergies(stressVector) {
                // Èò≤Âæ°ÁöÑ8Ê¨°ÂÖÉ„Éô„ÇØ„Éà„É´„Åã„Çâ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„Éº„ÇíË®àÁÆó
                return {
                    ‰πæ: stressVector.Èò≤Âæ°_ÂØæÊäóÊÄß * 0.7 + stressVector.Èò≤Âæ°_Â†ÖÂõ∫ÊÄß * 0.3,
                    ÂÖå: stressVector.Èò≤Âæ°_Ë™øÂíåÊÄß * 0.8 + stressVector.Èò≤Âæ°_ÂõûÈÅøÊÄß * 0.2,
                    Èõ¢: stressVector.Èò≤Âæ°_Â§âÂÆπÊÄß * 0.8 + stressVector.Èò≤Âæ°_ÂØæÊäóÊÄß * 0.2,
                    Èúá: stressVector.Èò≤Âæ°_Â†ÖÂõ∫ÊÄß * 0.6 + stressVector.Èò≤Âæ°_ÂØæÊäóÊÄß * 0.4,
                    Â∑Ω: stressVector.Èò≤Âæ°_ÂõûÈÅøÊÄß * 0.7 + stressVector.Èò≤Âæ°_Â§âÂÆπÊÄß * 0.3,
                    Âùé: stressVector.Èò≤Âæ°_ÊåÅ‰πÖÊÄß * 0.8 + stressVector.Èò≤Âæ°_Â¢ÉÁïåÊÄß * 0.2,
                    ËâÆ: stressVector.Èò≤Âæ°_Â¢ÉÁïåÊÄß * 0.7 + stressVector.Èò≤Âæ°_Êí§ÈÄÄÊÄß * 0.3,
                    Âù§: stressVector.Èò≤Âæ°_Êí§ÈÄÄÊÄß * 0.7 + stressVector.Èò≤Âæ°_Ë™øÂíåÊÄß * 0.3
                };

            adjustForCorePersonality(defensiveEnergies, engineOS) {
                // Engine OS„ÅÆÂü∫Á§é‰∫∫Ê†º„ÅåÈò≤Âæ°„Éë„Çø„Éº„É≥„Å´40%„ÅÆÂΩ±Èüø„Çí‰∏é„Åà„Çã
                const coreInfluence = 0.4;
                const defensiveBase = 0.6;
                
                if (!engineOS || !engineOS.trigramEnergies) return defensiveEnergies;
                
                const adjusted = {};
                Object.keys(defensiveEnergies).forEach(trigram => {
                    const coreEnergy = engineOS.trigramEnergies[trigram] || 0;
                    const defensiveEnergy = defensiveEnergies[trigram] || 0;
                    
                    adjusted[trigram] = (defensiveEnergy * defensiveBase) + (coreEnergy * coreInfluence);
                });
                
                return adjusted;

            selectDefensiveTrigrams(energies) {
                // „Ç®„Éç„É´„ÇÆ„ÉºÂÄ§„Åß„ÇΩ„Éº„Éà„Åó„Å¶‰∏ä‰Ωç2„Å§„ÅÆ‰∏âÁàª„ÇíÈÅ∏Êäû
                const sorted = Object.entries(energies)
                    .sort(([,a], [,b]) => b - a);
                
                return [sorted[0][0], sorted[1][0]];

            generateSafeModeInterpretation(hexagramId, primaryDefense, secondaryDefense, patterns, engineOS) {
                // SafeMode OSÂ∞ÇÁî®„ÅÆ64Âç¶Ëß£Èáà
                const defensiveInterpretations = this.getSafeModeHexagramInterpretations();
                const interpretation = defensiveInterpretations[hexagramId] || this.getDefaultDefensiveInterpretation();
                
                // „Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫„Åï„Çå„ÅüËß£Èáà„ÇíÁîüÊàê
                const personalizedDescription = this.personalizeSafeModeDescription(
                    interpretation, primaryDefense, secondaryDefense, patterns, engineOS
                
                return {
                    description: personalizedDescription,
                    catchphrase: interpretation.catchphrase || "Âõ∞Èõ£„Å´Á´ã„Å°Âêë„Åã„ÅÜÈò≤Âæ°„Ç∑„Çπ„ÉÜ„É†",
                    defensiveType: interpretation.primaryDefense || "Á∑èÂêàÈò≤Âæ°",
                    stressResponse: interpretation.stressResponse || "Áä∂Ê≥ÅÈÅ©ÂøúÂûãÂØæÂøú",
                    activationTrigger: this.identifyActivationTrigger(patterns)
                };

            getSafeModeHexagramInterpretations() {
                return {
                    1: { // ‰πæÁÇ∫Â§©
                        name: "Â§©Èõ∑ÁÑ°Á™ÆÂûãÈò≤Âæ°",
                        catchphrase: "Âõ∞Èõ£„ÇíÂäõ„ÅßÁ™ÅÁ†¥„Åô„Çã",
                        primaryDefense: "Á©çÊ•µÁöÑÂØæÊäó",
                        stressResponse: "Ê≠£Èù¢Á™ÅÁ†¥„Å´„Çà„ÇãËß£Ê±∫"
                    2: { // Âù§ÁÇ∫Âú∞
                        name: "Â§ßÂú∞ÂåÖÂÆπÂûãÈò≤Âæ°",
                        catchphrase: "ÂÖ®„Å¶„ÇíÂèó„ÅëÂÖ•„ÇåÂåÖ„ÅøËæº„ÇÄ",
                        primaryDefense: "ÂèóÂÆπ„ÉªÂêåÂåñ",
                        stressResponse: "Áí∞Â¢É„Å∏„ÅÆÂÆåÂÖ®ÈÅ©Âøú"
                    29: { // ÂùéÁÇ∫Ê∞¥
                        name: "Ê∑±Ê∑µÊµÅÊ∞¥ÂûãÈò≤Âæ°",
                        catchphrase: "Âõ∞Èõ£„ÇíÊµÅ„Çå„Çã„Çà„ÅÜ„Å´ÈÄöÈÅé„Åô„Çã",
                        primaryDefense: "Êµ∏ÈÄè„ÉªÊåÅÁ∂ö",
                        stressResponse: "ÈöúÂÆ≥„ÅÆÊú¨Ë≥™„ÇíÁêÜËß£„ÅóËøÇÂõû"
                    52: { // ËâÆÁÇ∫Â±±
                        name: "‰∏çÂãïË¶ÅÂ°ûÂûãÈò≤Âæ°",
                        catchphrase: "Áµ∂ÂØæÁöÑ„Å™Â¢ÉÁïå„ÇíË®≠ÂÆö„Åô„Çã",
                        primaryDefense: "ÈùôÊ≠¢„ÉªÂ¢ÉÁïå",
                        stressResponse: "ÂÆåÂÖ®„Å™Èò≤Âæ°‰ΩìÂà∂ÊßãÁØâ"
                    58: { // ÂÖåÁÇ∫Ê≤¢
                        name: "Ë™øÂíå‰∫§ÊµÅÂûãÈò≤Âæ°",
                        catchphrase: "ÂØæË©±„ÅßÂç±Ê©ü„Çí‰πó„ÇäË∂ä„Åà„Çã",
                        primaryDefense: "ÂçîË™ø„Éª‰∫§Ê∏â",
                        stressResponse: "Èñ¢‰øÇÊÄß„Å´„Çà„ÇãÂïèÈ°åËß£Ê±∫"
                    30: { // Èõ¢ÁÇ∫ÁÅ´
                        name: "ÊòéÁÖßÂ§âÂÆπÂûãÈò≤Âæ°",
                        catchphrase: "Áä∂Ê≥Å„ÇíË¶ãÊ•µ„ÇÅÂ§âÂåñ„Åô„Çã",
                        primaryDefense: "Ê¥ûÂØü„ÉªÈÅ©Âøú",
                        stressResponse: "Áä∂Ê≥ÅÂàÜÊûê„Å´„Çà„ÇãÊúÄÈÅ©Âåñ"
                    51: { // ÈúáÁÇ∫Èõ∑
                        name: "ÈõªÂÖâÁü≥ÁÅ´ÂûãÈò≤Âæ°",
                        catchphrase: "Áû¨ÊôÇ„Å´Ë°åÂãï„ÅóÂç±Ê©ü„ÇíËÑ±„Åô„Çã",
                        primaryDefense: "Áû¨Áô∫„ÉªÊ±∫Êñ≠",
                        stressResponse: "ËøÖÈÄü„Å™Áä∂Ê≥ÅÊâìÈñã"
                    57: { // Â∑ΩÁÇ∫È¢®
                        name: "È†ÜÈ¢®ÊüîËªüÂûãÈò≤Âæ°",
                        catchphrase: "ÊüîËªüÊÄß„ÅßÂõ∞Èõ£„ÇíÂõûÈÅø„Åô„Çã",
                        primaryDefense: "ÊüîËªü„ÉªÂõûÈÅø",
                        stressResponse: "Áä∂Ê≥Å„Å´Âøú„Åò„ÅüÊüîËªüÂØæÂøú"
                    // ‰ªñ„ÅÆÂç¶„ÅÆËß£Èáà„ÇÇÂêåÊßò„Å´...
                    16: { // Èõ∑Âú∞‰∫à
                        name: "Ê∫ñÂÇôÂÖÖÂÆüÂûãÈò≤Âæ°",
                        catchphrase: "‰∫ãÂâçÊ∫ñÂÇô„ÅßÂç±Ê©ü„ÇíÈò≤„Åê",
                        primaryDefense: "‰∫àÈò≤„ÉªÊ∫ñÂÇô",
                        stressResponse: "ÂÖàË™≠„Åø„Å´„Çà„ÇãÂç±Ê©üÂõûÈÅø"
                    39: { // Ê∞¥Â±±Ëπá
                        name: "Âõ∞Èõ£Á™ÅÁ†¥ÂûãÈò≤Âæ°",
                        catchphrase: "Âõ∞Èõ£„ÅÆ‰∏≠„Åß„ÇÇÂâçÈÄ≤„Åô„Çã",
                        primaryDefense: "ÂøçËÄê„ÉªÊåÅÁ∂ö",
                        stressResponse: "Âõ∞Èõ£„Çí‰πó„ÇäË∂ä„Åà„ÇãÁ≤ò„ÇäÂº∑„Åï"
                    3: { // Ê∞¥Èõ∑Â±Ø
                        name: "ÂàùÊúüÊ∑∑‰π±ÂØæÂøúÂûãÈò≤Âæ°",
                        catchphrase: "Ê∑∑‰π±„ÅÆ‰∏≠„ÅßÁß©Â∫è„ÇíË¶ã„Å§„Åë„Çã",
                        primaryDefense: "ÂøçËÄê„ÉªÊï¥ÁêÜ",
                        stressResponse: "Ê∑∑‰π±Áä∂Ê≥Å„ÅÆÊÆµÈöéÁöÑÊï¥ÁêÜ"
                    4: { // Â±±Ê∞¥Ëíô
                        name: "Â≠¶ÁøíÈÅ©ÂøúÂûãÈò≤Âæ°",
                        catchphrase: "ÁÑ°Áü•„ÇíË™ç„ÇÅ„Å¶Â≠¶„Å∂„Åì„Å®„ÅßÂÆà„Çã",
                        primaryDefense: "Â≠¶Áøí„ÉªÂ¢ÉÁïå",
                        stressResponse: "Áü•Ë≠ò‰∏çË∂≥„ÅÆË¨ôËôö„Å™Ë£úÂÆå"
                    5: { // Ê∞¥Â§©ÈúÄ
                        name: "Ê©ü‰ºöÂæÖÊ©üÂûãÈò≤Âæ°",
                        catchphrase: "ÈÅ©Âàá„Å™„Çø„Ç§„Éü„É≥„Ç∞„ÇíÂæÖ„Å§",
                        primaryDefense: "ÂæÖÊ©ü„ÉªÊåÅÁ∂ö",
                        stressResponse: "ÁÑ¶„Çâ„ÅöÊ©ü‰ºö„ÇíÂæÖ„Å§ÊåÅ‰πÖÊà¶"
                    6: { // Â§©Ê∞¥Ë®ü
                        name: "Ê≠£ÂΩìÈò≤Ë°õÂûãÈò≤Âæ°",
                        catchphrase: "Ê≠£Áæ©„Çí‰∏ªÂºµ„Åó„Å¶Á´ã„Å°Âêë„Åã„ÅÜ",
                        primaryDefense: "Ê≠£ÂΩìÊÄß„ÉªÂØæÊäó",
                        stressResponse: "Ê≠£ÂΩì„Å™Ê®©Âà©„ÅÆ‰∏ªÂºµ„Å®Èò≤Ë°õ"
                    7: { // Âú∞Ê∞¥Â∏´
                        name: "ÁµÑÁπîÊà¶Áï•ÂûãÈò≤Âæ°",
                        catchphrase: "ÁµÑÁπîÂäõ„ÅßÂõ∞Èõ£„Å´ÂØæÂá¶„Åô„Çã",
                        primaryDefense: "Áµ±Áéá„ÉªÊåÅÁ∂ö",
                        stressResponse: "ÁµÑÁπîÁöÑ„Å™ÂïèÈ°åËß£Ê±∫"
                    8: { // Ê∞¥Âú∞ÊØî
                        name: "ÂçîË™øÈÄ£Â∏ØÂûãÈò≤Âæ°",
                        catchphrase: "‰ª≤Èñì„Å®ÁµêÊùü„Åó„Å¶ÂÆà„Çã",
                        primaryDefense: "ÂçîË™ø„ÉªÂèóÂÆπ",
                        stressResponse: "Áõ∏‰∫íÊîØÊè¥„Å´„Çà„ÇãÂç±Ê©üÂØæÂøú"
                    9: { // È¢®Â§©Â∞èÁïú
                        name: "Â∞èË¶èÊ®°ËìÑÁ©çÂûãÈò≤Âæ°",
                        catchphrase: "Â∞è„Åï„Å™Ê∫ñÂÇô„ÅßÂ§ß„Åç„Å™Âç±Ê©ü„Å´ÂÇô„Åà„Çã",
                        primaryDefense: "Ê∫ñÂÇô„ÉªÊüîËªü",
                        stressResponse: "ÊÆµÈöéÁöÑ„Å™Ê∫ñÂÇô„Å®ÈÅ©Âøú"
                    10: { // Â§©Ê≤¢Â±•
                        name: "ÊÖéÈáçÊ≠©Ë°åÂûãÈò≤Âæ°",
                        catchphrase: "Âç±Èô∫„ÇíÊâøÁü•„ÅßÊÖéÈáç„Å´ÈÄ≤„ÇÄ",
                        primaryDefense: "ÊÖéÈáç„ÉªÂØæÊäó",
                        stressResponse: "„É™„Çπ„ÇØË™çË≠ò„Å®ÊÖéÈáç„Å™Ë°åÂãï"
                    11: { // Âú∞Â§©Ê≥∞
                        name: "Ë™øÂíåÂÆâÂÆöÂûãÈò≤Âæ°",
                        catchphrase: "Âπ≥Âíå„Å®Ë™øÂíå„ÇíÁ∂≠ÊåÅ„Åô„Çã",
                        primaryDefense: "ÂÆâÂÆö„ÉªÂèóÂÆπ",
                        stressResponse: "„Éê„É©„É≥„Çπ„ÅÆÂèñ„Çå„ÅüÂØæÂøú"
                    12: { // Â§©Âú∞Âê¶
                        name: "ÈñâÂ°ûÁ™ÅÁ†¥ÂûãÈò≤Âæ°",
                        catchphrase: "ÈñâÂ°ûÁä∂Ê≥Å„ÇíÊâìÁ†¥„Åô„Çã",
                        primaryDefense: "Á™ÅÁ†¥„ÉªÂØæÊäó",
                        stressResponse: "ÁèæÁä∂ÊâìÁ†¥„Å´„Çà„ÇãÊ¥ªË∑ØÈñãÊãì"
                    13: { // Â§©ÁÅ´Âêå‰∫∫
                        name: "ÂêåÂøóÁµêÈõÜÂûãÈò≤Âæ°",
                        catchphrase: "Âøó„ÇíÂêå„Åò„Åè„Åô„Çã‰∫∫„Å®ÁµêÊùü„Åô„Çã",
                        primaryDefense: "ÁµêÊùü„ÉªÊ¥ûÂØü",
                        stressResponse: "ÁêÜÂøµ„Å´„Çà„ÇãÂõ£Áµê„Å®ÂØæÂøú"
                    14: { // ÁÅ´Â§©Â§ßÊúâ
                        name: "Ë±äÂØåË≥áÊ∫êÂûãÈò≤Âæ°",
                        catchphrase: "Ë±äÂØå„Å™Ë≥áÊ∫ê„ÅßÂç±Ê©ü„Çí‰πó„ÇäË∂ä„Åà„Çã",
                        primaryDefense: "Ë±äÁ©£„ÉªÊ¥ûÂØü",
                        stressResponse: "Ë≥áÊ∫ê„ÇíÊ¥ªÁî®„Åó„ÅüÂåÖÊã¨ÁöÑÂØæÂøú"
                    15: { // Âú∞Â±±Ë¨ô
                        name: "Ë¨ôÈÅúÂõûÈÅøÂûãÈò≤Âæ°",
                        catchphrase: "Ë¨ôÈÅú„Åô„Çã„Åì„Å®„ÅßÂç±Ê©ü„ÇíÈÅø„Åë„Çã",
                        primaryDefense: "Ë¨ôËôö„ÉªÂ¢ÉÁïå",
                        stressResponse: "‰ΩéÂßøÂã¢„Å´„Çà„ÇãÊë©Êì¶ÂõûÈÅø"
                    17: { // Ê≤¢Èõ∑Èöè
                        name: "ÊüîËªüËøΩÂæìÂûãÈò≤Âæ°",
                        catchphrase: "Áä∂Ê≥Å„Å´Âæì„Å£„Å¶ÊüîËªü„Å´ÂØæÂøú„Åô„Çã",
                        primaryDefense: "ËøΩÂæì„ÉªË™øÂíå",
                        stressResponse: "Áí∞Â¢ÉÂ§âÂåñ„Å∏„ÅÆÊüîËªü„Å™ÈÅ©Âøú"
                    18: { // Â±±È¢®Ë†±
                        name: "ÂïèÈ°å‰øÆÂæ©ÂûãÈò≤Âæ°",
                        catchphrase: "ËÖêÊïó„ÇíÊ≠£„Åó„Å¶ÂÅ•ÂÖ®Âåñ„Åô„Çã",
                        primaryDefense: "‰øÆÂæ©„ÉªÂ¢ÉÁïå",
                        stressResponse: "Ê†πÊú¨ÁöÑ„Å™ÂïèÈ°åËß£Ê±∫"
                    19: { // Âú∞Ê≤¢Ëá®
                        name: "Êé•ËøëÁõ£Ë¶ñÂûãÈò≤Âæ°",
                        catchphrase: "Ëøë„Å•„ÅÑ„Å¶ÂïèÈ°å„ÇíÁõ£Ë¶ñ„Åô„Çã",
                        primaryDefense: "Êé•Ëøë„ÉªË™øÂíå",
                        stressResponse: "Á©çÊ•µÁöÑ„Å™Èñ¢‰∏é„Å´„Çà„ÇãËß£Ê±∫"
                    20: { // È¢®Âú∞Ë¶≥
                        name: "Ë¶≥ÂØüÊ¥ûÂØüÂûãÈò≤Âæ°",
                        catchphrase: "È´ò„ÅÑË¶ñÁÇπ„Åã„ÇâÁä∂Ê≥Å„Çí‰øØÁû∞„Åô„Çã",
                        primaryDefense: "Ë¶≥ÂØü„ÉªÊüîËªü",
                        stressResponse: "ÂÆ¢Ë¶≥ÁöÑÂàÜÊûê„Å´„Çà„ÇãÂØæÁ≠ñÁ´ãÊ°à"
                    21: { // ÁÅ´Èõ∑Âô¨Âóë
                        name: "ÈöúÂÆ≥Èô§ÂéªÂûãÈò≤Âæ°",
                        catchphrase: "ÈöúÂÆ≥„ÇíÂôõ„ÅøÁ†ï„ÅÑ„Å¶Èô§Âéª„Åô„Çã",
                        primaryDefense: "Èô§Âéª„ÉªÊ¥ûÂØü",
                        stressResponse: "ÂïèÈ°å„ÅÆÊ†∏ÂøÉ„Å∏„ÅÆÁõ¥Êé•ÁöÑÂØæÂá¶"
                    22: { // Â±±ÁÅ´Ë≥Å
                        name: "Ë£ÖÈ£æÈö†ËîΩÂûãÈò≤Âæ°",
                        catchphrase: "Áæé„Åó„ÅèË£Ö„Å£„Å¶Êú¨Ë≥™„ÇíÈö†„Åô",
                        primaryDefense: "Ë£ÖÈ£æ„ÉªÂ¢ÉÁïå",
                        stressResponse: "Â§ñË¶ã„ÇíÊï¥„Åà„ÅüÈò≤Âæ°Êà¶Áï•"
                    23: { // Â±±Âú∞Ââ•
                        name: "Ââ•Èõ¢ÊúÄÂ∞èÂåñÂûãÈò≤Âæ°",
                        catchphrase: "Â§±„ÅÜ„ÇÇ„ÅÆ„ÇíÊúÄÂ∞èÈôê„Å´Êäë„Åà„Çã",
                        primaryDefense: "‰øùÂÖ®„ÉªÂ¢ÉÁïå",
                        stressResponse: "ÊêçÂ§±ÊúÄÂ∞èÂåñÊà¶Áï•"
                    24: { // Âú∞Èõ∑Âæ©
                        name: "Âæ©ÂÖÉÂõûÂæ©ÂûãÈò≤Âæ°",
                        catchphrase: "ÂÖÉ„ÅÆÁä∂ÊÖã„Å´Êàª„Åô„Åì„Å®„ÅßÂÆâÂÆö„ÇíÂõ≥„Çã",
                        primaryDefense: "Âæ©ÂÖÉ„ÉªÂèóÂÆπ",
                        stressResponse: "ÂéüÁÇπÂõûÂ∏∞„Å´„Çà„ÇãÂÆâÂÆöÂåñ"
                    25: { // Â§©Èõ∑Êó†Â¶Ñ
                        name: "Á¥îÁúüÁÑ°Âû¢ÂûãÈò≤Âæ°",
                        catchphrase: "Á¥îÁ≤ã„Å™ÂøÉ„ÅßÁÅΩ„ÅÑ„ÇíÈÅø„Åë„Çã",
                        primaryDefense: "Á¥îÁúü„ÉªÂØæÊäó",
                        stressResponse: "Ë™†ÂÆü„Åï„Å´„Çà„ÇãËá™ÁÑ∂„Å™Ëß£Ê±∫"
                    26: { // Â±±Â§©Â§ßÁïú
                        name: "Â§ßË¶èÊ®°ËìÑÁ©çÂûãÈò≤Âæ°",
                        catchphrase: "Â§ß„Åç„Å™Âäõ„ÇíËìÑ„Åà„Å¶Âç±Ê©ü„Å´ÂÇô„Åà„Çã",
                        primaryDefense: "ËìÑÁ©ç„ÉªÂ¢ÉÁïå",
                        stressResponse: "Èï∑ÊúüÁöÑ„Å™Ê∫ñÂÇô„Å´„Çà„Çã‰∏áÂÖ®„Å™ÂØæÂøú"
                    27: { // Â±±Èõ∑È†§
                        name: "Ê†ÑÈ§äË£úÁµ¶ÂûãÈò≤Âæ°",
                        catchphrase: "ÈÅ©Âàá„Å™Ê†ÑÈ§ä„Åß‰ΩìÂäõ„ÇíÁ∂≠ÊåÅ„Åô„Çã",
                        primaryDefense: "È§äËÇ≤„ÉªÂ¢ÉÁïå",
                        stressResponse: "Âü∫Á§é‰ΩìÂäõ„ÅÆÁ∂≠ÊåÅ„Å®Âº∑Âåñ"
                    28: { // Ê≤¢È¢®Â§ßÈÅé
                        name: "ÈÅéÂ§ßË≤†Ëç∑ËÄê‰πÖÂûãÈò≤Âæ°",
                        catchphrase: "ÈôêÁïå„ÇíË∂Ö„Åà„ÅüË≤†Ëç∑„Å´ËÄê„Åà„Çã",
                        primaryDefense: "ËÄê‰πÖ„ÉªË™øÂíå",
                        stressResponse: "Ê•µÈôêÁä∂Ê≥Å„Åß„ÅÆÊåÅ‰πÖÊà¶"
                    31: { // Ê≤¢Â±±Âí∏
                        name: "ÊÑüÂøúÂÖ±È≥¥ÂûãÈò≤Âæ°",
                        catchphrase: "Áõ∏Êâã„Å®ÊÑüÂøú„Åó„Å¶Ë™øÂíå„Åô„Çã",
                        primaryDefense: "ÊÑüÂøú„ÉªË™øÂíå",
                        stressResponse: "Áõ∏‰∫íÁêÜËß£„Å´„Çà„ÇãÂïèÈ°åËß£Ê±∫"
                    32: { // Èõ∑È¢®ÊÅí
                        name: "ÊåÅÁ∂öÁ∂ôÁ∂öÂûãÈò≤Âæ°",
                        catchphrase: "Â§â„Çè„Çâ„Å¨ÂßøÂã¢„ÅßÊåÅÁ∂ö„Åô„Çã",
                        primaryDefense: "ÊåÅÁ∂ö„ÉªÊüîËªü",
                        stressResponse: "‰∏ÄË≤´„Åó„ÅüÊñπÈáù„Å´„Çà„ÇãÂÆâÂÆöÂØæÂøú"
                    33: { // Â§©Â±±ÈÅØ
                        name: "Êà¶Áï•ÁöÑÊí§ÈÄÄÂûãÈò≤Âæ°",
                        catchphrase: "ÈÅ©Âàá„Å™„Çø„Ç§„Éü„É≥„Ç∞„ÅßÈÄÄ„Åè",
                        primaryDefense: "Êí§ÈÄÄ„ÉªÂØæÊäó",
                        stressResponse: "Êà¶Áï•ÁöÑ„Å™ÂæåÈÄÄ„Å´„Çà„ÇãÁ´ã„Å¶Áõ¥„Åó"
                    34: { // Èõ∑Â§©Â§ßÂ£Æ
                        name: "Âº∑Â§ßÂäõÈáèÂûãÈò≤Âæ°",
                        catchphrase: "Âº∑Â§ß„Å™Âäõ„ÅßÊ≠£Èù¢Á™ÅÁ†¥„Åô„Çã",
                        primaryDefense: "Âº∑Âäõ„ÉªÂØæÊäó",
                        stressResponse: "ÂúßÂÄíÁöÑ„Å™Âäõ„Å´„Çà„ÇãÂïèÈ°åËß£Ê±∫"
                    35: { // ÁÅ´Âú∞Êôã
                        name: "ÂâçÈÄ≤Áô∫Â±ïÂûãÈò≤Âæ°",
                        catchphrase: "ÂâçÈÄ≤„Åô„Çã„Åì„Å®„ÅßÂç±Ê©ü„ÇíËÑ±„Åô„Çã",
                        primaryDefense: "ÂâçÈÄ≤„ÉªÊ¥ûÂØü",
                        stressResponse: "Á©çÊ•µÁöÑ„Å™ÊîªÂã¢„Å´„Çà„ÇãÂ±ÄÈù¢ÊâìÈñã"
                    36: { // Âú∞ÁÅ´ÊòéÂ§∑
                        name: "ÊΩú‰ºèÈö†ÈÅÅÂûãÈò≤Âæ°",
                        catchphrase: "ÂÖâ„ÇíÈö†„Åó„Å¶Âç±Èô∫„Çí„ÇÑ„ÇäÈÅé„Åî„Åô",
                        primaryDefense: "Èö†ÈÅÅ„ÉªÂèóÂÆπ",
                        stressResponse: "ÁõÆÁ´ã„Åü„Å™„ÅÑ„Åì„Å®„Å´„Çà„ÇãÂÆâÂÖ®Á¢∫‰øù"
                    37: { // È¢®ÁÅ´ÂÆ∂‰∫∫
                        name: "ÂÆ∂ÊóèÁµêÊùüÂûãÈò≤Âæ°",
                        catchphrase: "ÂÆ∂Êóè„ÅÆÁµÜ„ÅßÂç±Ê©ü„Çí‰πó„ÇäË∂ä„Åà„Çã",
                        primaryDefense: "ÁµêÊùü„ÉªÊüîËªü",
                        stressResponse: "Ë∫´ÂÜÖ„Å®„ÅÆÂº∑Âõ∫„Å™ÈÄ£Â∏Ø"
                    38: { // ÁÅ´Ê≤¢ÁùΩ
                        name: "ÂØæÁ´ãË™øÂíåÂûãÈò≤Âæ°",
                        catchphrase: "ÂØæÁ´ã„Åó„Å™„Åå„Çâ„ÇÇË™øÂíå„Çí‰øù„Å§",
                        primaryDefense: "Ë™øÂíå„ÉªÊ¥ûÂØü",
                        stressResponse: "ÈÅï„ÅÑ„ÇíË™ç„ÇÅ„Åü‰∏ä„Åß„ÅÆÂçîÂäõ"
                    40: { // Èõ∑Ê∞¥Ëß£
                        name: "Ëß£ÊîæÈñãÊîæÂûãÈò≤Âæ°",
                        catchphrase: "ÊùüÁ∏õ„ÇíËß£„ÅÑ„Å¶Ëá™Áî±„ÇíÂèñ„ÇäÊàª„Åô",
                        primaryDefense: "Ëß£Êîæ„ÉªËøÖÈÄü",
                        stressResponse: "Âà∂Á¥Ñ„Åã„Çâ„ÅÆËÑ±Âç¥„Å´„Çà„ÇãÂïèÈ°åËß£Ê±∫"
                    41: { // Â±±Ê≤¢Êêç
                        name: "ÈÅ©ÂàáÂâäÊ∏õÂûãÈò≤Âæ°",
                        catchphrase: "ÁÑ°ÈßÑ„ÇíÂâä„Å£„Å¶„Çπ„É™„É†Âåñ„Åô„Çã",
                        primaryDefense: "ÂâäÊ∏õ„ÉªÂ¢ÉÁïå",
                        stressResponse: "ÂäπÁéáÂåñ„Å´„Çà„Çã‰ΩìË≥™Âº∑Âåñ"
                    42: { // È¢®Èõ∑Áõä
                        name: "Áõ∏‰∫íÂà©ÁõäÂûãÈò≤Âæ°",
                        catchphrase: "„Åø„Çì„Å™„ÅÆÂà©Áõä„ÅßÂïèÈ°å„ÇíËß£Ê±∫„Åô„Çã",
                        primaryDefense: "Âà©Áõä„ÉªÊüîËªü",
                        stressResponse: "win-win„ÅÆÈñ¢‰øÇÊßãÁØâ"
                    43: { // Ê≤¢Â§©Â§¨
                        name: "Ê±∫Êñ≠ÂÆüË°åÂûãÈò≤Âæ°",
                        catchphrase: "Êñ≠Âõ∫„Å®„Åó„ÅüÊ±∫Êñ≠„ÅßÂç±Ê©ü„ÇíÊñ≠„Å§",
                        primaryDefense: "Ê±∫Êñ≠„ÉªË™øÂíå",
                        stressResponse: "ÊòéÁ¢∫„Å™Âà§Êñ≠„Å´„Çà„ÇãËøÖÈÄü„Å™ÂØæÂá¶"
                    44: { // Â§©È¢®Âß§
                        name: "ÂÅ∂ÁÑ∂ÈÅ≠ÈÅáÂûãÈò≤Âæ°",
                        catchphrase: "‰∫àÊúü„Åõ„Å¨Âá∫‰ºö„ÅÑ„ÇíÊ¥ªÁî®„Åô„Çã",
                        primaryDefense: "Ê©ü‰ºö„ÉªÂØæÊäó",
                        stressResponse: "ÂÅ∂ÁÑ∂„ÅÆÊ©ü‰ºö„ÇíÊúÄÂ§ßÈôêÊ¥ªÁî®"
                    45: { // Ê≤¢Âú∞ËêÉ
                        name: "ÈõÜÁµêÁµ±ÂêàÂûãÈò≤Âæ°",
                        catchphrase: "„Åø„Çì„Å™„ÅßÈõÜ„Åæ„Å£„Å¶Âäõ„ÇíÂêà„Çè„Åõ„Çã",
                        primaryDefense: "Áµ±Âêà„ÉªË™øÂíå",
                        stressResponse: "ÈõÜÂõ£„ÅÆÂäõ„Å´„Çà„ÇãÂïèÈ°åËß£Ê±∫"
                    46: { // Âú∞È¢®Âçá
                        name: "ÊÆµÈöéÊàêÈï∑ÂûãÈò≤Âæ°",
                        catchphrase: "ÊÆµÈöé„ÇíËøΩ„Å£„Å¶ÊàêÈï∑„ÅóÂº∑Âåñ„Åô„Çã",
                        primaryDefense: "ÊàêÈï∑„ÉªÂèóÂÆπ",
                        stressResponse: "Á∂ôÁ∂öÁöÑ„Å™ÊîπÂñÑ„Å´„Çà„Çã‰ΩìË≥™Âº∑Âåñ"
                    47: { // Ê≤¢Ê∞¥Âõ∞
                        name: "Âõ∞Á™ÆÂøçËÄêÂûãÈò≤Âæ°",
                        catchphrase: "Âõ∞„Å£„ÅüÊôÇ„Åì„ÅùËÄê„ÅàÂøç„Å∂",
                        primaryDefense: "ÂøçËÄê„ÉªË™øÂíå",
                        stressResponse: "Ëã¶Â¢É„Åß„ÅÆÁ≤æÁ•ûÂäõ„Å´„Çà„ÇãÊåÅ‰πÖÊà¶"
                    48: { // Ê∞¥È¢®‰∫ï
                        name: "ÂÆâÂÆö‰æõÁµ¶ÂûãÈò≤Âæ°",
                        catchphrase: "Â§â„Çè„Çâ„Å¨‰æ°ÂÄ§„ÇíÊèê‰æõ„ÅóÁ∂ö„Åë„Çã",
                        primaryDefense: "ÂÆâÂÆö„ÉªÊåÅÁ∂ö",
                        stressResponse: "‰ø°È†º„Åß„Åç„ÇãÂü∫Áõ§„ÅÆÁ∂≠ÊåÅ"
                    49: { // Ê≤¢ÁÅ´Èù©
                        name: "Â§âÈù©Âà∑Êñ∞ÂûãÈò≤Âæ°",
                        catchphrase: "Ê†πÊú¨„Åã„ÇâÂ§â„Åà„Å¶Êñ∞„Åó„Åè„Åô„Çã",
                        primaryDefense: "Â§âÈù©„ÉªË™øÂíå",
                        stressResponse: "ÊäúÊú¨ÁöÑ„Å™ÊîπÈù©„Å´„Çà„ÇãÂïèÈ°åËß£Ê±∫"
                    50: { // ÁÅ´È¢®Èºé
                        name: "ÂÆâÂÆöÁµ±Ê≤ªÂûãÈò≤Âæ°",
                        catchphrase: "Êñ∞„Åó„ÅÑÁß©Â∫è„ÅßÂÆâÂÆö„ÇíÂõ≥„Çã",
                        primaryDefense: "Áµ±Ê≤ª„ÉªÊ¥ûÂØü",
                        stressResponse: "Êñ∞‰ΩìÂà∂„Å´„Çà„ÇãÂÆâÂÆöÂåñ"
                    53: { // È¢®Â±±Êº∏
                        name: "Êº∏ÈÄ≤Áô∫Â±ïÂûãÈò≤Âæ°",
                        catchphrase: "Â∞ë„Åó„Åö„Å§ÁùÄÂÆü„Å´ÈÄ≤Ê≠©„Åô„Çã",
                        primaryDefense: "Êº∏ÈÄ≤„ÉªÊüîËªü",
                        stressResponse: "ÊÆµÈöéÁöÑ„Å™ÊîπÂñÑ„Å´„Çà„ÇãÂÆâÂÆöÊàêÈï∑"
                    54: { // Èõ∑Ê≤¢Â∏∞Â¶π
                        name: "ÈÅ©ÂøúÈ†ÜÂøúÂûãÈò≤Âæ°",
                        catchphrase: "‰∏é„Åà„Çâ„Çå„ÅüÂΩπÂâ≤„Å´È†ÜÂøú„Åô„Çã",
                        primaryDefense: "È†ÜÂøú„ÉªËøÖÈÄü",
                        stressResponse: "Áí∞Â¢É„Å´Âêà„Çè„Åõ„ÅüÊüîËªü„Å™ÈÅ©Âøú"
                    55: { // Èõ∑ÁÅ´Ë±ä
                        name: "Ë±äÁ©£ÂÖÖÂÆüÂûãÈò≤Âæ°",
                        catchphrase: "Ë±ä„Åã„Åï„ÅÆ‰∏≠„Åß„Éê„É©„É≥„Çπ„Çí‰øù„Å§",
                        primaryDefense: "Ë±äÁ©£„ÉªËøÖÈÄü",
                        stressResponse: "‰ΩôË£ï„ÅÆ„ÅÇ„ÇãÁä∂Ê≥Å„Åß„ÅÆÈÅ©Âàá„Å™Âà§Êñ≠"
                    56: { // ÁÅ´Â±±ÊóÖ
                        name: "ÊóÖË°åÈÅ©ÂøúÂûãÈò≤Âæ°",
                        catchphrase: "ÊÖ£„Çå„Å™„ÅÑÁí∞Â¢É„Å´ÈÅ©Âøú„Åô„Çã",
                        primaryDefense: "ÈÅ©Âøú„ÉªÊ¥ûÂØü",
                        stressResponse: "Â§âÂåñ„Å∏„ÅÆÊüîËªü„Å™ÂØæÂøú"
                    59: { // È¢®Ê∞¥Ê∏ô
                        name: "ÂàÜÊï£Á∑©ÂíåÂûãÈò≤Âæ°",
                        catchphrase: "Âõ∫„Åæ„Å£„Åü„ÇÇ„ÅÆ„ÇíÂàÜÊï£„Åó„Å¶Âíå„Çâ„Åí„Çã",
                        primaryDefense: "ÂàÜÊï£„ÉªÊüîËªü",
                        stressResponse: "Á∑äÂºµ„ÅÆÁ∑©Âíå„Å´„Çà„ÇãÂïèÈ°åËß£Ê±∫"
                    60: { // Ê∞¥Ê≤¢ÁØÄ
                        name: "ÁØÄÂà∂ÈôêÂÆöÂûãÈò≤Âæ°",
                        catchphrase: "ÈÅ©Âàá„Å™ÁØÄÂ∫¶„ÅßÂÆâÂÆö„Çí‰øù„Å§",
                        primaryDefense: "ÁØÄÂà∂„ÉªÊåÅÁ∂ö",
                        stressResponse: "„Éê„É©„É≥„Çπ„ÅÆÂèñ„Çå„ÅüÂà∂Èôê„Å´„Çà„ÇãÂÆâÂÆö"
                    61: { // È¢®Ê≤¢‰∏≠Â≠ö
                        name: "Ë™†ÂÆü‰ø°È†ºÂûãÈò≤Âæ°",
                        catchphrase: "Ë™†ÂÆü„Åï„Åß‰ø°È†º„ÇíÁØâ„ÅçÂÆà„Çã",
                        primaryDefense: "Ë™†ÂÆü„ÉªÊüîËªü",
                        stressResponse: "‰ø°È†ºÈñ¢‰øÇ„Å´„Çà„ÇãÂïèÈ°åËß£Ê±∫"
                    62: { // Èõ∑Â±±Â∞èÈÅé
                        name: "Â∞èË¶èÊ®°Ë∂ÖË∂äÂûãÈò≤Âæ°",
                        catchphrase: "Â∞è„Åï„Å™Âä™Âäõ„ÅßÂ§ß„Åç„Å™ÂäπÊûú„ÇíÂæó„Çã",
                        primaryDefense: "ÂäπÁéá„ÉªËøÖÈÄü",
                        stressResponse: "Â∞è„Åï„Å™Â∑•Â§´„Å´„Çà„ÇãÂäπÊûúÁöÑÂØæÂøú"
                    63: { // Ê∞¥ÁÅ´Êó¢Ê∏à
                        name: "ÂÆåÊàêÁ∂≠ÊåÅÂûãÈò≤Âæ°",
                        catchphrase: "ÂÆåÊàê„Åó„ÅüÁä∂ÊÖã„ÇíÁ∂≠ÊåÅ„Åô„Çã",
                        primaryDefense: "Á∂≠ÊåÅ„ÉªÊåÅÁ∂ö",
                        stressResponse: "ÁèæÁä∂Á∂≠ÊåÅ„Å´„Çà„ÇãÂÆâÂÆöÁ¢∫‰øù"
                    64: { // ÁÅ´Ê∞¥Êú™Ê∏à
                        name: "Êú™ÂÆåÊàêÁô∫Â±ïÂûãÈò≤Âæ°",
                        catchphrase: "Êú™ÂÆåÊàê„Å†„Åã„Çâ„Åì„ÅùÂèØËÉΩÊÄß„Åå„ÅÇ„Çã",
                        primaryDefense: "Áô∫Â±ï„ÉªÊ¥ûÂØü",
                        stressResponse: "ÊîπÂñÑ„ÅÆ‰ΩôÂú∞„ÇíÊ¥ªÁî®„Åó„ÅüÊàêÈï∑"
                };

            getDefaultDefensiveInterpretation() {
                return {
                    name: "Á∑èÂêàÈÅ©ÂøúÂûãÈò≤Âæ°",
                    catchphrase: "Áä∂Ê≥Å„Å´Âøú„Åò„Å¶ÊúÄÈÅ©„Å™Èò≤Âæ°„ÇíÈÅ∏Êäû„Åô„Çã",
                    primaryDefense: "ÈÅ©Âøú„ÉªË™øÊï¥",
                    stressResponse: "„Éê„É©„É≥„ÇπÂûãÂç±Ê©üÂØæÂøú"
                };

            personalizeSafeModeDescription(interpretation, primary, secondary, patterns, engineOS) {
                const stressLevel = this.calculateOverallStressLevel(patterns);
                const primaryStrength = this.getTrigramStrength(primary, patterns);
                const secondaryStrength = this.getTrigramStrength(secondary, patterns);
                
                let description = `${interpretation.name}: ${interpretation.primaryDefense}„Çí‰∏ªËª∏„Å®„Åó„ÅüÈò≤Âæ°„Ç∑„Çπ„ÉÜ„É†„ÄÇ`;
                
                if (stressLevel > 0.7) {
                    description += "È´ò„Çπ„Éà„É¨„ÇπÁí∞Â¢É‰∏ã„ÅßÂº∑Âäõ„Å´Áô∫Âãï„Åó„ÄÅ";
                } else if (stressLevel > 0.4) {
                    description += "‰∏≠Á®ãÂ∫¶„ÅÆ„Çπ„Éà„É¨„ÇπÁä∂Ê≥Å„ÅßÈÅ©Âàá„Å´‰ΩúÂãï„Åó„ÄÅ";
                } else {
                    description += "ËªΩÂæÆ„Å™„Çπ„Éà„É¨„ÇπÁä∂Ê≥Å„Åß„ÇÇ‰∫àÈò≤ÁöÑ„Å´Ê©üËÉΩ„Åó„ÄÅ";
                
                description += `${primary}„ÅÆ${this.getTrigramDefensiveCharacter(primary)}„Å®${secondary}„ÅÆ${this.getTrigramDefensiveCharacter(secondary)}„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„Å¶ÂØæÂøú„Åô„Çã„ÄÇ`;
                
                return description;

            getTrigramDefensiveCharacter(trigram) {
                const characters = {
                    ‰πæ: "Âº∑Âäõ„Å™ÂØæÊäóÂäõ",
                    ÂÖå: "Ë™øÂíåÁöÑËß£Ê±∫Âäõ",
                    Èõ¢: "Áä∂Ê≥ÅÊ¥ûÂØüÂäõ",
                    Èúá: "ËøÖÈÄü„Å™Ë°åÂãïÂäõ",
                    Â∑Ω: "ÊüîËªü„Å™ÈÅ©ÂøúÂäõ",
                    Âùé: "ÊåÅÁ∂öÁöÑÂøçËÄêÂäõ",
                    ËâÆ: "Â†ÖÂõ∫„Å™Â¢ÉÁïåÂäõ",
                    Âù§: "ÂåÖÂÆπÁöÑÂèóÂÆπÂäõ"
                };
                return characters[trigram] || "Á∑èÂêàÁöÑÈò≤Âæ°Âäõ";

            identifyActivationTrigger(patterns) {
                const triggers = [];
                
                Object.entries(patterns).forEach(([type, response]) => {
                    if (response.intensity > 0.6) {
                        switch(type) {
                            case 'leadershipStress': triggers.push('Ë≤¨‰ªª„ÅÆÈáçÂúß'); break;
                            case 'interpersonalStress': triggers.push('‰∫∫ÈñìÈñ¢‰øÇ„ÅÆÊë©Êì¶'); break;
                            case 'familyStress': triggers.push('Ë¶™ÂØÜÈñ¢‰øÇ„ÅÆË≤†Ëç∑'); break;
                            case 'emergencyStress': triggers.push('Á∑äÊÄ•‰∫ãÊÖã'); break;
                            case 'competitionStress': triggers.push('Á´∂‰∫âÁí∞Â¢É'); break;
                            case 'collaborationStress': triggers.push('ÂçîË™ø„ÅÆË≤†ÊãÖ'); break;
                });
                
                return triggers.length > 0 ? triggers.join('„ÄÅ') : '‰∏ÄËà¨ÁöÑ„Å™„Çπ„Éà„É¨„ÇπÁä∂Ê≥Å';

            calculateDefensiveStrength(patterns) {
                const intensities = Object.values(patterns).map(p => p.intensity || 0);
                if (intensities.length === 0) return 0;
                return intensities.reduce((sum, intensity) => sum + intensity, 0) / intensities.length;

            calculateOverallStressLevel(patterns) {
                return this.calculateDefensiveStrength(patterns);

            getTrigramStrength(trigram, patterns) {
                // ‰∏âÁàª„ÅÆÈò≤Âæ°„Éë„Çø„Éº„É≥„Åß„ÅÆÂº∑Â∫¶„ÇíË®àÁÆó
                const trigramPatternMap = {
                    ‰πæ: ['ÂØæÊäó', 'Á°¨Âåñ'],
                    ÂÖå: ['Ë™øÂíå', 'ÂõûÈÅø'],
                    Èõ¢: ['Â§âÂÆπ', 'ÂØæÊäó'],
                    Èúá: ['Á°¨Âåñ', 'ÂØæÊäó'],
                    Â∑Ω: ['ÂõûÈÅø', 'Â§âÂÆπ'],
                    Âùé: ['ËÄêÂøç', 'ÁµêÁïå'],
                    ËâÆ: ['ÁµêÁïå', 'Êí§ÈÄÄ'],
                    Âù§: ['Êí§ÈÄÄ', 'ÂêåÂåñ']
                };
                
                const relevantPatterns = trigramPatternMap[trigram] || [];
                let strength = 0;
                let count = 0;
                
                Object.values(patterns).forEach(response => {
                    if (relevantPatterns.includes(response.pattern)) {
                        strength += response.intensity;
                        count++;
                });
                
                return count > 0 ? strength / count : 0.5;

            getDefaultSafeModeOS() {
                return {
                    hexagramId: 39, // Ê∞¥Â±±Ëπá - Âõ∞Èõ£„Çí‰πó„ÇäË∂ä„Åà„Çã
                    hexagramName: "Ê∞¥Â±±Ëπá",
                    description: "Âõ∞Èõ£„Å™Áä∂Ê≥Å„Åß„ÇÇÁ≤ò„ÇäÂº∑„ÅèÂâçÈÄ≤„Åô„ÇãÈò≤Âæ°„Ç∑„Çπ„ÉÜ„É†",
                    catchphrase: "Âõ∞Èõ£„Çí‰πó„ÇäË∂ä„Åà„Çã‰∏çÂ±à„ÅÆÁ≤æÁ•û",
                    primaryDefense: "Âùé",
                    secondaryDefense: "ËâÆ",
                    defensiveType: "Âõ∞Èõ£Á™ÅÁ†¥Âûã",
                    stressResponse: "ÂøçËÄê„Å®Â¢ÉÁïåË®≠ÂÆö„Å´„Çà„ÇãÊåÅ‰πÖÊà¶",
                    activationTrigger: "Âõ∞Èõ£„Å™Áä∂Ê≥ÅÂÖ®Ëà¨",
                    defensiveStrength: 0.6,
                    trigramEnergies: { ‰πæ: 0.3, ÂÖå: 0.2, Èõ¢: 0.2, Èúá: 0.3, Â∑Ω: 0.2, Âùé: 0.7, ËâÆ: 0.6, Âù§: 0.4 },
                    type: "Safe Mode OS"
                };

            /**
             * Interface OSÂàÜÊûê„ÅÆË£úÂä©„É°„ÇΩ„ÉÉ„ÉâÁæ§
             */
             
            // 1. „Ç∑„Éä„É™„Ç™Ë≥™ÂïèÔºàQ25-Q30Ôºâ„Åã„ÇâÁ§æ‰ºöÁöÑ„Éë„Çø„Éº„É≥„ÇíÂàÜÊûê
            analyzeSocialPatterns(scenarioAnswers) {
                const patterns = {
                    Q25_leadership: 0,      // „É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„ÉóÁä∂Ê≥ÅÂØæÂøú
                    Q26_interpersonal: 0,   // ÂØæ‰∫∫Èñ¢‰øÇÂõ∞Èõ£„Å∏„ÅÆÂØæÂá¶
                    Q27_family: 0,          // ÂÆ∂Êóè„ÉªË¶™ÂØÜÈñ¢‰øÇ„ÅÆÂá¶ÁêÜ
                    Q28_emergency: 0,       // Á∑äÊÄ•‰∫ãÊÖã„ÉªÂç±Ê©üÁÆ°ÁêÜ
                    Q29_competition: 0,     // Á´∂‰∫â„Éª‰∫â„ÅÑ„Å∏„ÅÆÂØæÂøú
                    Q30_community: 0        // ÂÖ±Âêå‰Ωì„ÉªÂçîÂäõÈñ¢‰øÇÊßãÁØâ
                };
                
                // „Ç∑„Éä„É™„Ç™ÂõûÁ≠î„Åã„ÇâÁ§æ‰ºöÁöÑ„Éë„Çø„Éº„É≥„Çπ„Ç≥„Ç¢Ë®àÁÆó
                scenarioAnswers.forEach((answer, index) => {
                    const questionId = `Q${25 + index}`;
                    const scoreValue = this.calculateScenarioScore(answer, questionId);
                    
                    switch (questionId) {
                        case 'Q25': patterns.Q25_leadership = scoreValue; break;
                        case 'Q26': patterns.Q26_interpersonal = scoreValue; break;
                        case 'Q27': patterns.Q27_family = scoreValue; break;
                        case 'Q28': patterns.Q28_emergency = scoreValue; break;
                        case 'Q29': patterns.Q29_competition = scoreValue; break;
                        case 'Q30': patterns.Q30_community = scoreValue; break;
                });
                
                return patterns;
            
            // 2. Interface OSÂ∞ÇÁî®„ÅÆ8Ê¨°ÂÖÉ„Éô„ÇØ„Éà„É´ÊßãÁØâ
            buildInterfaceVector(socialPatterns) {
                const vector = {
                    "Â§ñÂêë_‰∏ªÂ∞éÊÄß": 0,    // ‰πæ - „É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó„Éª‰∏ªÂ∞é
                    "Â§ñÂêë_Ë™øÂíåÊÄß": 0,    // ÂÖå - Á§æ‰∫§„Éª„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥
                    "Â§ñÂêë_Ë°®ÁèæÊÄß": 0,    // Èõ¢ - „Éó„É¨„Çº„É≥„ÉÜ„Éº„Ç∑„Éß„É≥„ÉªÈ≠ÖÂäõ
                    "Â§ñÂêë_Ë°åÂãïÊÄß": 0,    // Èúá - Âç≥ÂøúÊÄß„Éª„Ç¢„ÇØ„Ç∑„Éß„É≥
                    "ÂÜÖÂêë_ÈÅ©ÂøúÊÄß": 0,    // Â∑Ω - È†ÜÂøú„ÉªÂçîË™ø
                    "ÂÜÖÂêë_ÂàÜÊûêÊÄß": 0,    // Âùé - Ë¶≥ÂØü„ÉªÊ¥ûÂØü
                    "ÂÜÖÂêë_ÂÆâÂÆöÊÄß": 0,    // ËâÆ - ‰∏ÄË≤´ÊÄß„Éª‰ø°È†ºÊÄß
                    "ÂÜÖÂêë_ÊîØÊè¥ÊÄß": 0     // Âù§ - „Çµ„Éù„Éº„Éà„ÉªË≤¢ÁåÆ
                };
                
                // Q25-Q30„ÅÆÁ§æ‰ºöÁöÑ„Éë„Çø„Éº„É≥„Çí8Ê¨°ÂÖÉ„Å´„Éû„ÉÉ„Éî„É≥„Ç∞
                vector["Â§ñÂêë_‰∏ªÂ∞éÊÄß"] = (socialPatterns.Q25_leadership * 0.5) + (socialPatterns.Q28_emergency * 0.3);
                vector["Â§ñÂêë_Ë™øÂíåÊÄß"] = (socialPatterns.Q26_interpersonal * 0.4) + (socialPatterns.Q30_community * 0.4);
                vector["Â§ñÂêë_Ë°®ÁèæÊÄß"] = (socialPatterns.Q25_leadership * 0.3) + (socialPatterns.Q26_interpersonal * 0.3);
                vector["Â§ñÂêë_Ë°åÂãïÊÄß"] = (socialPatterns.Q28_emergency * 0.4) + (socialPatterns.Q29_competition * 0.4);
                
                vector["ÂÜÖÂêë_ÈÅ©ÂøúÊÄß"] = (socialPatterns.Q26_interpersonal * 0.3) + (socialPatterns.Q27_family * 0.4);
                vector["ÂÜÖÂêë_ÂàÜÊûêÊÄß"] = (socialPatterns.Q28_emergency * 0.3) + (socialPatterns.Q29_competition * 0.3);
                vector["ÂÜÖÂêë_ÂÆâÂÆöÊÄß"] = (socialPatterns.Q27_family * 0.4) + (socialPatterns.Q30_community * 0.3);
                vector["ÂÜÖÂêë_ÊîØÊè¥ÊÄß"] = (socialPatterns.Q27_family * 0.3) + (socialPatterns.Q30_community * 0.3);
                
                // Ê≠£Ë¶èÂåñÔºà0-1ÁØÑÂõ≤Ôºâ
                Object.keys(vector).forEach(key => {
                    vector[key] = Math.max(0, Math.min(1, vector[key]));
                });
                
                return vector;
            
            // 3. Á§æ‰ºöÁöÑ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„ÉºË®àÁÆó
            calculateSocialTrigramEnergies(interfaceVector) {
                return {
                    "‰πæ": interfaceVector["Â§ñÂêë_‰∏ªÂ∞éÊÄß"] * 1.0,
                    "ÂÖå": interfaceVector["Â§ñÂêë_Ë™øÂíåÊÄß"] * 1.0,
                    "Èõ¢": interfaceVector["Â§ñÂêë_Ë°®ÁèæÊÄß"] * 1.0,
                    "Èúá": interfaceVector["Â§ñÂêë_Ë°åÂãïÊÄß"] * 1.0,
                    "Â∑Ω": interfaceVector["ÂÜÖÂêë_ÈÅ©ÂøúÊÄß"] * 1.0,
                    "Âùé": interfaceVector["ÂÜÖÂêë_ÂàÜÊûêÊÄß"] * 1.0,
                    "ËâÆ": interfaceVector["ÂÜÖÂêë_ÂÆâÂÆöÊÄß"] * 1.0,
                    "Âù§": interfaceVector["ÂÜÖÂêë_ÊîØÊè¥ÊÄß"] * 1.0
                };
            
            // 4. Engine OS„Å®„ÅÆÁõ∏‰∫í‰ΩúÁî®Ë£úÊ≠£
            adjustForEngineOS(socialEnergies, engineOS) {
                const adjustedEnergies = { ...socialEnergies };
                const engineInfluence = 0.25; // 25%„ÅÆÂΩ±ÈüøÂ∫¶
                
                if (!engineOS || !engineOS.upperTrigram || !engineOS.lowerTrigram) {
                    return adjustedEnergies;
                
                // Engine OS„ÅÆ‰∏ªË¶Å‰∏âÁàª„ÅåÁ§æ‰ºöÁöÑË°®Áèæ„Å´‰∏é„Åà„ÇãÂΩ±Èüø
                const enginePrimary = engineOS.upperTrigram;
                
                // ÂÜÖÂêëÁöÑEngine OS„ÅØÂ§ñÂêëÁöÑInterface OS„ÇíÊäëÂà∂
                if (["Âù§", "ËâÆ", "Âùé", "Â∑Ω"].includes(enginePrimary)) {
                    adjustedEnergies["‰πæ"] *= (1 - engineInfluence * 0.8);
                    adjustedEnergies["Èõ¢"] *= (1 - engineInfluence * 0.6);
                    adjustedEnergies["Èúá"] *= (1 - engineInfluence * 0.7);
                    adjustedEnergies["ÂÖå"] *= (1 - engineInfluence * 0.4);
                
                // Â§ñÂêëÁöÑEngine OS„ÅØÂ§ñÂêëÁöÑInterface OS„ÇíÂº∑Âåñ
                if (["‰πæ", "ÂÖå", "Èõ¢", "Èúá"].includes(enginePrimary)) {
                    adjustedEnergies["‰πæ"] *= (1 + engineInfluence * 0.6);
                    adjustedEnergies["Èõ¢"] *= (1 + engineInfluence * 0.5);
                    adjustedEnergies["Èúá"] *= (1 + engineInfluence * 0.5);
                    adjustedEnergies["ÂÖå"] *= (1 + engineInfluence * 0.7);
                
                // ÁâπÂÆö„ÅÆEngine OSÁµÑ„ÅøÂêà„Çè„ÅõË£úÊ≠£
                if (enginePrimary === "Âù§") { // ÂèóÂÆπÁöÑEngine OS
                    adjustedEnergies["Âù§"] *= (1 + engineInfluence * 1.2);
                    adjustedEnergies["Â∑Ω"] *= (1 + engineInfluence * 0.8);
                
                if (enginePrimary === "‰πæ") { // ÂâµÈÄ†ÁöÑEngine OS
                    adjustedEnergies["‰πæ"] *= (1 + engineInfluence * 1.0);
                    adjustedEnergies["Èúá"] *= (1 + engineInfluence * 0.7);
                
                return adjustedEnergies;
            
            // 5. Interface OSÁî®„ÅÆÊúÄÈÅ©‰∏âÁàªÈÅ∏Êäû
            selectInterfaceTrigrams(adjustedEnergies) {
                // Á§æ‰ºöÁöÑË°®Áèæ„Åß„ÅØÂ§ñÂç¶Ôºà‰∏äÂç¶Ôºâ„ÇíÈáçË¶ñ
                const sortedTrigrams = Object.entries(adjustedEnergies)
                    .sort(([, a], [, b]) => b - a);
                
                const upperTrigram = sortedTrigrams[0][0];
                const lowerTrigram = sortedTrigrams[1][0];
                
                // Á§æ‰ºöÁöÑÁõ∏‰∫í‰ΩúÁî®„ÅÆÂ¶•ÂΩìÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
                if (this.isValidSocialCombination(upperTrigram, lowerTrigram)) {
                    return { upperTrigram, lowerTrigram };
                } else {
                    // ÁÑ°Âäπ„Å™ÁµÑ„ÅøÂêà„Çè„Åõ„ÅÆÂ†¥Âêà„ÄÅË™øÊï¥
                    return this.adjustSocialCombination(sortedTrigrams);
            
            // 6. Interface OSÂ∞ÇÁî®Ëß£ÈáàÁîüÊàê
            generateInterfaceInterpretation(hexagramId, upperTrigram, lowerTrigram, socialPatterns, engineOS) {
                const baseInterpretation = this.getInterfaceHexagramInterpretation(hexagramId);
                
                return {
                    description: baseInterpretation.description,
                    leadership: this.analyzeLeadershipStyle(upperTrigram, socialPatterns),
                    communication: this.analyzeCommunicationStyle(upperTrigram, lowerTrigram, socialPatterns),
                    conflictResolution: this.analyzeConflictStyle(lowerTrigram, socialPatterns),
                    adaptability: this.analyzeAdaptability(upperTrigram, lowerTrigram, socialPatterns),
                    engineOSInfluence: this.analyzeEngineInfluence(engineOS, upperTrigram, lowerTrigram)
                };
            
            // 7. Á§æ‰ºöÁöÑ„Çπ„Çø„Ç§„É´Âà§ÂÆö
            determineSocialStyle(socialPatterns) {
                const leadership = socialPatterns.Q25_leadership;
                const interpersonal = socialPatterns.Q26_interpersonal;
                const community = socialPatterns.Q30_community;
                
                if (leadership > 0.7) return "‰∏ªÂ∞éÂûã„É™„Éº„ÉÄ„Éº";
                if (community > 0.7) return "ÂçîË™øÂûã„Éï„Ç°„Ç∑„É™„ÉÜ„Éº„Çø„Éº";
                if (interpersonal > 0.7) return "ÂØæ‰∫∫Èñ¢‰øÇÈáçË¶ñÂûã";
                if (leadership > 0.5 && community > 0.5) return "„Éê„É©„É≥„ÇπÂûã„É™„Éº„ÉÄ„Éº";
                return "ÈÅ©ÂøúÂûã„Çµ„Éù„Éº„Çø„Éº";
            
            // 8. „Éá„Éï„Ç©„É´„ÉàInterface OS
            getDefaultInterfaceOS() {
                return {
                    hexagramId: 11,
                    hexagramName: "Âú∞Â§©Ê≥∞",
                    upperTrigram: "Âù§",
                    lowerTrigram: "‰πæ", 
                    socialPatterns: { Q25_leadership: 0.5, Q26_interpersonal: 0.5, Q27_family: 0.5, Q28_emergency: 0.5, Q29_competition: 0.5, Q30_community: 0.5 },
                    interfaceVector: {},
                    socialStyle: "„Éê„É©„É≥„ÇπÂûã",
                    description: "Ë™øÂíå„Å®„Éê„É©„É≥„Çπ„ÇíÈáçË¶ñ„Åô„Çã„Éá„Éï„Ç©„É´„ÉàÁ§æ‰ºöÁöÑ‰∫∫Ê†º",
                    leadership: "ÂåÖÂÆπÁöÑ„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó",
                    communication: "ÂèåÊñπÂêë„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥",
                    conflictResolution: "‰ª≤‰ªã„ÉªË™øÂÅúÂûã",
                    adaptability: "È´ò„ÅÑÈÅ©ÂøúÂäõ",
                    engineOSInfluence: "ÂÆâÂÆö„Åó„ÅüÁõ∏‰∫í‰ΩúÁî®",
                    type: "Interface OS"
                };
            
            /**
             * Interface OSÂàÜÊûê„ÅÆË©≥Á¥∞Ë£úÂä©„É°„ÇΩ„ÉÉ„ÉâÁæ§
             */
             
            // „Ç∑„Éä„É™„Ç™ÂõûÁ≠î„ÅÆ„Çπ„Ç≥„Ç¢Ë®àÁÆó
            calculateScenarioScore(answer, questionId) {
                // ÂõûÁ≠îÈÅ∏ÊäûËÇ¢„Å´Âü∫„Å•„Åè„Çπ„Ç≥„Ç¢Ë®àÁÆó„É≠„Ç∏„ÉÉ„ÇØ
                // A=1.0, B=0.75, C=0.5, D=0.25 „ÅÆÂü∫Êú¨„Çπ„Ç≥„Ç¢
                const baseScore = {
                    'A': 1.0,
                    'B': 0.75, 
                    'C': 0.5,
                    'D': 0.25
                }[answer] || 0.5;
                
                // Ë≥™Âïè„Çø„Ç§„Éó„Å´„Çà„ÇãÈáç„ÅøË™øÊï¥
                const questionWeights = {
                    'Q25': 1.0, // „É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó
                    'Q26': 0.9, // ÂØæ‰∫∫Èñ¢‰øÇ
                    'Q27': 0.8, // ÂÆ∂Êóè
                    'Q28': 1.0, // Á∑äÊÄ•‰∫ãÊÖã
                    'Q29': 0.9, // Á´∂‰∫â
                    'Q30': 0.8  // ÂÖ±Âêå‰Ωì
                };
                
                return baseScore * (questionWeights[questionId] || 1.0);
            
            // Á§æ‰ºöÁöÑÁµÑ„ÅøÂêà„Çè„Åõ„ÅÆÂ¶•ÂΩìÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
            isValidSocialCombination(upperTrigram, lowerTrigram) {
                // Á§æ‰ºöÁöÑ„Å´‰∏çÈÅ©Âàá„Å™ÁµÑ„ÅøÂêà„Çè„Åõ„ÇíÈô§Â§ñ
                const invalidCombinations = [
                    // Âêå„Åò‰∏âÁàª„ÅÆÈáçË§á„ÅØÈÅø„Åë„Çã
                    [upperTrigram, upperTrigram]
                ];
                
                return !invalidCombinations.some(([upper, lower]) => 
                    upper === upperTrigram && lower === lowerTrigram
            
            // Á§æ‰ºöÁöÑÁµÑ„ÅøÂêà„Çè„Åõ„ÅÆË™øÊï¥
            adjustSocialCombination(sortedTrigrams) {
                // ‰∏ä‰Ωç3„Å§„Åã„ÇâÈÅ©Âàá„Å™ÁµÑ„ÅøÂêà„Çè„Åõ„ÇíÈÅ∏Êäû
                for (let i = 0; i < sortedTrigrams.length - 1; i++) {
                    for (let j = i + 1; j < sortedTrigrams.length; j++) {
                        const upper = sortedTrigrams[i][0];
                        const lower = sortedTrigrams[j][0];
                        
                        if (this.isValidSocialCombination(upper, lower)) {
                            return { upperTrigram: upper, lowerTrigram: lower };
                
                // „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºö‰πæ-Âù§ ÁµÑ„ÅøÂêà„Çè„Åõ
                return { upperTrigram: "‰πæ", lowerTrigram: "Âù§" };
            
            // Interface OSÂ∞ÇÁî®„ÅÆ64Âç¶Ëß£Èáà„Éá„Éº„Çø
            getInterfaceHexagramInterpretation(hexagramId) {
                const interpretations = {
                    // ‰∏ªË¶Å64Âç¶„ÅÆÁ§æ‰ºöÁöÑ‰∫∫Ê†ºËß£Èáà
                    1: { description: "Á¥îÁ≤ã„Å™ÂâµÈÄ†ÁöÑ„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó - Èù©Êñ∞ÁöÑ„Å™Á§æ‰ºöÁöÑÂΩ±ÈüøÂäõ", leadership: "ÂâµÈÄ†ÁöÑ", communication: "inspiring" },
                    2: { description: "ÂèóÂÆπÁöÑ„Å™ÊîØÊè¥Âûã‰∫∫Ê†º - ÂçîË™ø„Å®ËÇ≤ÊàêÈáçË¶ñ", leadership: "ÊîØÊè¥ÁöÑ", communication: "empathetic" },
                    3: { description: "ÂàùÊúüÊÆµÈöé„ÅÆÁµÑÁπîËÄÖ - Âü∫Áõ§ÊßãÁØâÈáçË¶ñ", leadership: "ÁµÑÁπîÊßãÁØâÂûã", communication: "foundational" },
                    4: { description: "ÊåáÂ∞éÁöÑ„É°„É≥„Çø„Éº - ÊïôËÇ≤„Å®ÊàêÈï∑‰øÉÈÄ≤", leadership: "„É°„É≥„Çø„ÉºÂûã", communication: "educational" },
                    5: { description: "Êà¶Áï•ÁöÑÂæÖÊ©üËÄÖ - „Çø„Ç§„Éü„É≥„Ç∞„ÇíÈáçË¶ñ", leadership: "Êà¶Áï•ÁöÑ", communication: "strategic" },
                    6: { description: "ÊÖéÈáç„Å™Ë™øÂÅúËÄÖ - ÂØæÁ´ãÂõûÈÅøÈáçË¶ñ", leadership: "Ë™øÂÅúÂûã", communication: "diplomatic" },
                    7: { description: "ÈõÜÂõ£ÊåáÂ∞éËÄÖ - „ÉÅ„Éº„É†Áµ±ÁéáÈáçË¶ñ", leadership: "ÈõÜÂõ£Áµ±Áéá", communication: "commanding" },
                    8: { description: "ÂçîÂäõ‰øÉÈÄ≤ËÄÖ - ÈÄ£Êê∫„Å®ÁµêÊùüÈáçË¶ñ", leadership: "ÂçîÂäõ‰øÉÈÄ≤", communication: "unifying" },
                    9: { description: "Á¥∞„ÇÑ„Åã„Å™ÁÆ°ÁêÜËÄÖ - Ë©≥Á¥∞„Å∏„ÅÆÈÖçÊÖÆ", leadership: "ÁÆ°ÁêÜÂûã", communication: "detailed" },
                    10: { description: "Á§ºÂÑÄÊ≠£„Åó„ÅÑ‰∫§Ê∏âËÄÖ - ÂìÅÊ†ºÈáçË¶ñ", leadership: "ÂìÅÊ†ºÈáçË¶ñ", communication: "dignified" },
                    11: { description: "Ë™øÂíåÁöÑ„É™„Éº„ÉÄ„Éº - „Éê„É©„É≥„Çπ„Å®Áµ±Âêà„ÇíÈáçË¶ñ", leadership: "Áµ±ÂêàÁöÑ", communication: "inclusive" },
                    12: { description: "Áã¨Á´ãÁöÑÊÄùËÄÉËÄÖ - Áã¨Ëá™„ÅÆÁ§æ‰ºöÁöÑÁ´ãÂ†¥", leadership: "Áã¨Á´ãÁöÑ", communication: "selective" },
                    13: { description: "Âêå‰∫∫ÂûãÂçîÂäõËÄÖ - ÂÖ±Âêå‰ΩìÊÑèË≠òÈáçË¶ñ", leadership: "ÂçîÂäõÁöÑ", communication: "collaborative" },
                    14: { description: "Â§ßÊúâÂûãÊàêÊûú‰∏ªÁæ©ËÄÖ - ÂÆüÁ∏æ„Å®ÊàêÊûúÈáçË¶ñ", leadership: "ÊàêÊûú‰∏ªÁæ©", communication: "results-oriented" },
                    15: { description: "Ë¨ôËôö„Å™ÂÆüÂäõËÄÖ - Êéß„Åà„ÇÅ„Å™„Åå„ÇâÁ¢∫ÂÆü", leadership: "Ë¨ôËôö„Å™ÂÆüÂäõ", communication: "modest" },
                    16: { description: "ÁÜ±ÊÑè„ÅÇ„ÇãÂãïÊ©ü‰ªò„ÅëËÄÖ - „Ç§„É≥„Çπ„Éî„É¨„Éº„Ç∑„Éß„É≥ÈáçË¶ñ", leadership: "ÂãïÊ©ü‰ªò„Åë", communication: "enthusiastic" },
                    17: { description: "ËøΩÈöè„ÉªÈÅ©ÂøúÂûã - Áä∂Ê≥ÅÂØæÂøúÈáçË¶ñ", leadership: "ËøΩÈöèÈÅ©Âøú", communication: "responsive" },
                    18: { description: "ÂïèÈ°åËß£Ê±∫ËÄÖ - Ë™≤È°åÊîπÂñÑÈáçË¶ñ", leadership: "ÂïèÈ°åËß£Ê±∫", communication: "reformative" },
                    19: { description: "Ë¶™„Åó„Åø„ÇÑ„Åô„ÅÑÊé•ËøëËÄÖ - ‰∫∫ÈñìÈñ¢‰øÇÈáçË¶ñ", leadership: "Ë¶™ÂíåÁöÑ", communication: "approachable" },
                    20: { description: "Ë¶≥ÂØü„ÉªÂàÜÊûêÂûã - Ê¥ûÂØüÂäõÈáçË¶ñ", leadership: "ÂàÜÊûêË¶≥ÂØü", communication: "insightful" },
                    21: { description: "ÂÖ¨Ê≠£„Å™Ë£ÅÂÆöËÄÖ - ÂÆ¢Ë¶≥ÊÄßÈáçË¶ñ", leadership: "ÂÖ¨Ê≠£Ë£ÅÂÆö", communication: "objective" },
                    22: { description: "ÁæéÁöÑ„Çª„É≥„ÇπÈáçË¶ñ - È≠ÖÂäõ„Å®Ë£ÖÈ£æ", leadership: "ÁæéÁöÑË°®Áèæ", communication: "aesthetic" },
                    23: { description: "ÊÆµÈöéÁöÑÂ§âÈù©ËÄÖ - ÊÖéÈáç„Å™ÊîπÈù©", leadership: "ÊÆµÈöéÂ§âÈù©", communication: "gradual" },
                    24: { description: "Âæ©Ê¥ª„ÉªÂÜçÁîüÂûã - Á´ã„Å°Áõ¥„ÇäÈáçË¶ñ", leadership: "Âæ©Ê¥ªÂÜçÁîü", communication: "resilient" },
                    25: { description: "Ëá™ÁÑ∂‰Ωì„ÉªÁÑ°ÈÇ™Ê∞ó - Á¥îÁ≤ãÊÄßÈáçË¶ñ", leadership: "Ëá™ÁÑ∂‰Ωì", communication: "authentic" },
                    26: { description: "ËìÑÁ©ç„ÉªÊ∫ñÂÇôÂûã - Âäõ„ÅÆÊ∏©Â≠òÈáçË¶ñ", leadership: "ËìÑÁ©çÊ∫ñÂÇô", communication: "preparative" },
                    27: { description: "È§äËÇ≤„ÉªÊîØÊè¥Âûã - „Ç±„Ç¢„Å®ÊàêÈï∑", leadership: "È§äËÇ≤ÊîØÊè¥", communication: "nurturing" },
                    28: { description: "ÈÅéÂ§ßË≤†Ëç∑ÂØæÂøú - ÈáçË≤¨„Å∏„ÅÆÊåëÊà¶", leadership: "ÈáçË≤¨ÂØæÂøú", communication: "challenging" },
                    29: { description: "Âõ∞Èõ£Á™ÅÁ†¥ËÄÖ - Âç±Èô∫„Å™Áä∂Ê≥Å„Å∏„ÅÆÂØæÂá¶", leadership: "Âõ∞Èõ£Á™ÅÁ†¥", communication: "persevering" },
                    30: { description: "ÊòéÊô∞„Å™Ë°®ÁèæËÄÖ - ÊòéÁ¢∫ÊÄß„Å®Ëºù„Åç", leadership: "ÊòéÊô∞Ë°®Áèæ", communication: "illuminating" },
                    31: { description: "ÊÑüÂåñ„ÉªÂΩ±ÈüøÂäõ - Áõ∏‰∫í‰ΩúÁî®ÈáçË¶ñ", leadership: "Áõ∏‰∫íÊÑüÂåñ", communication: "influential" },
                    32: { description: "ÊåÅÁ∂ö„ÉªÁ∂ôÁ∂öÂûã - Èï∑ÊúüÁöÑË¶ñÁÇπ", leadership: "ÊåÅÁ∂öÁ∂ôÁ∂ö", communication: "enduring" },
                    33: { description: "Êà¶Áï•ÁöÑÊí§ÈÄÄËÄÖ - ÈÅ©Âàá„Å™Âºï„ÅçÈöõ", leadership: "Êà¶Áï•Êí§ÈÄÄ", communication: "tactical" },
                    34: { description: "Â§ß„Åç„Å™Âäõ„ÅÆÁô∫ÊèÆ - Âº∑Âäõ„Å™„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó", leadership: "Âº∑ÂäõÁô∫ÊèÆ", communication: "powerful" },
                    35: { description: "ÈÄ≤Ê≠©„ÉªÁô∫Â±ïÂûã - ÂâçÈÄ≤ÈáçË¶ñ", leadership: "ÈÄ≤Ê≠©Áô∫Â±ï", communication: "progressive" },
                    36: { description: "Âõ∞Èõ£ÊôÇ„ÅÆË≥¢Êòé„Åï - ÈÄÜÂ¢É„Åß„ÅÆÁü•ÊÅµ", leadership: "ÈÄÜÂ¢ÉË≥¢Êòé", communication: "wise" },
                    37: { description: "ÂÆ∂Êóè„ÉªÁµÑÁπîÈÅãÂñ∂ - ÂÜÖÈÉ®Áµ±Ê≤ªÈáçË¶ñ", leadership: "ÁµÑÁπîÈÅãÂñ∂", communication: "administrative" },
                    38: { description: "ÂØæÁ´ã„ÉªÂ∑ÆÁï∞Ë™øÊï¥ - Â§öÊßòÊÄßÂØæÂøú", leadership: "Â∑ÆÁï∞Ë™øÊï¥", communication: "mediating" },
                    39: { description: "ÈöúÂÆ≥Áâ©ÂØæÂá¶ - Âõ∞Èõ£ÂÖãÊúçÈáçË¶ñ", leadership: "ÈöúÂÆ≥ÂÖãÊúç", communication: "overcoming" },
                    40: { description: "Ëß£Êîæ„ÉªËß£Ê±∫Âûã - ÊùüÁ∏õ„Åã„Çâ„ÅÆËá™Áî±", leadership: "Ëß£ÊîæËß£Ê±∫", communication: "liberating" },
                    41: { description: "Ê∏õÂ∞ë„ÉªÂâäÊ∏õÁÆ°ÁêÜ - ÁÑ°ÈßÑ„ÅÆÊéíÈô§", leadership: "ÂäπÁéáÂåñ", communication: "streamlining" },
                    42: { description: "Â¢óÁõä„ÉªÊã°Â§ßÂûã - ÊàêÈï∑„Å®Áô∫Â±ï", leadership: "Êã°Â§ßÊàêÈï∑", communication: "expanding" },
                    43: { description: "Ê±∫Êñ≠Âäõ„ÅÆ„ÅÇ„Çã„É™„Éº„ÉÄ„Éº - ÊòéÁ¢∫„Å™ÊñπÂêëÊÄß", leadership: "Ê±∫Êñ≠Âäõ", communication: "direct" },
                    44: { description: "ÈÅ≠ÈÅá„ÉªÈÅ©ÂøúÂûã - Áä∂Ê≥ÅÂØæÂøúÈáçË¶ñ", leadership: "ÈÅ©ÂøúÁöÑ", communication: "flexible" },
                    45: { description: "ÈõÜÂêà„ÉªÁµ±Âêà‰øÉÈÄ≤ - Âõ£ÁµêÈáçË¶ñ", leadership: "Áµ±Âêà‰øÉÈÄ≤", communication: "unifying" },
                    46: { description: "‰∏äÊòá„ÉªÂêë‰∏äÂûã - ÊàêÈï∑ÂøóÂêë", leadership: "Âêë‰∏äÂøóÂêë", communication: "elevating" },
                    47: { description: "Âõ∞Á™Æ„ÉªÂà∂Á¥ÑÂØæÂøú - ÈôêÁïåÁä∂Ê≥Å„ÅÆÁÆ°ÁêÜ", leadership: "Âà∂Á¥ÑÁÆ°ÁêÜ", communication: "constrained" },
                    48: { description: "Ê∑±„ÅÑÁü•ÊÅµ„ÅÆ‰∫ïÊà∏ - Áü•Ë≠ò„Å®ÁµåÈ®ì", leadership: "Áü•ÊÅµÊèê‰æõ", communication: "knowledgeable" },
                    49: { description: "Èù©Êñ∞„ÉªÂ§âÈù©ËÄÖ - Ê†πÊú¨ÁöÑÂ§âÂåñ", leadership: "Èù©Êñ∞Â§âÈù©", communication: "revolutionary" },
                    50: { description: "Ê®©Â®Å„ÉªË≤¨‰ªªËÄÖ - ÈáçË¶Å„Å™ÂΩπÂâ≤", leadership: "Ê®©Â®ÅË≤¨‰ªª", communication: "authoritative" },
                    51: { description: "Ë°ùÊíÉ„ÉªÂãïÊè∫ÂØæÂøú - Â§âÂåñ„Å∏„ÅÆÂØæÂá¶", leadership: "Â§âÂåñÂØæÂøú", communication: "dynamic" },
                    52: { description: "ÂÆâÂÆö„ÉªÈùôÊ≠¢Á∂≠ÊåÅ - ÁèæÁä∂Á∂≠ÊåÅÈáçË¶ñ", leadership: "ÂÆâÂÆöÁ∂≠ÊåÅ", communication: "steady" },
                    53: { description: "ÊÆµÈöéÁöÑÁô∫Â±ï - ÁùÄÂÆü„Å™ÈÄ≤Ê≠©", leadership: "ÊÆµÈöéÁô∫Â±ï", communication: "gradual" },
                    54: { description: "ÂæìÂ±û„ÉªË£úÂä©ÂΩπ - „Çµ„Éù„Éº„ÉàÈáçË¶ñ", leadership: "Ë£úÂä©ÊîØÊè¥", communication: "supportive" },
                    55: { description: "Ë±ä„Åã„Åï„ÅÆÈ†ÇÁÇπ - ÊúÄÈ´òÊΩÆ„ÅÆÁä∂ÊÖã", leadership: "Ë±äÂØåÊèê‰æõ", communication: "abundant" },
                    56: { description: "ÊóÖË°å„ÉªÁßªÂãïÂûã - Â§âÂåñ„Å®ÈÅ©Âøú", leadership: "ÁßªÂãïÈÅ©Âøú", communication: "adaptive" },
                    57: { description: "È†ÜÂøú„ÉªÊµ∏ÈÄèÂûã - ÊüîËªü„Å™ÂΩ±ÈüøÂäõ", leadership: "ÊüîËªüÊµ∏ÈÄè", communication: "penetrating" },
                    58: { description: "ÂñúÊÇ¶„ÉªÊ•Ω„Åó„ÅïÊèê‰æõ - „Éù„Ç∏„ÉÜ„Ç£„ÉñÂΩ±Èüø", leadership: "ÂñúÊÇ¶Êèê‰æõ", communication: "joyful" },
                    59: { description: "ÂàÜÊï£„ÉªÊã°Êï£ÂØæÂøú - Êï£Êº´„Åï„Å∏„ÅÆÂØæÂá¶", leadership: "Áµ±ÂêàÈõÜÁ¥Ñ", communication: "focusing" },
                    60: { description: "ÁØÄÂ∫¶„ÉªÂà∂ÈôêÁÆ°ÁêÜ - „Éê„É©„É≥„ÇπÈáçË¶ñ", leadership: "ÁØÄÂ∫¶ÁÆ°ÁêÜ", communication: "balanced" },
                    61: { description: "ÂÜÖÁöÑÁúüÂÆüÈáçË¶ñ - Ë™†ÂÆüÊÄß„ÅÆË°®Áèæ", leadership: "Ë™†ÂÆüË°®Áèæ", communication: "sincere" },
                    62: { description: "Â∞è„Åï„Å™ÈÅéÂ∫¶ - Á¥∞„Åã„Å™Ë™øÊï¥", leadership: "ÂæÆÁ¥∞Ë™øÊï¥", communication: "precise" },
                    63: { description: "ÂÆåÊàê„ÉªÈÅîÊàêÂûã - ÁõÆÊ®ôÈÅîÊàêÈáçË¶ñ", leadership: "ÂÆåÊàêÈÅîÊàê", communication: "accomplished" },
                    64: { description: "Êú™ÂÆåÊàê„ÉªÁ∂ôÁ∂öÂûã - ÈÄ≤Ë°å‰∏≠„ÅÆÁä∂ÊÖã", leadership: "Á∂ôÁ∂öÈÄ≤Ë°å", communication: "ongoing" }
                };
                
                return interpretations[hexagramId] || {
                    description: "„Éê„É©„É≥„ÇπÂûãÁ§æ‰ºöÁöÑ‰∫∫Ê†º - Áä∂Ê≥Å„Å´Âøú„Åò„ÅüÈÅ©Âøú",
                    leadership: "„Éê„É©„É≥„ÇπÂûã",
                    communication: "adaptable"
                };
            
            // „É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó„Çπ„Çø„Ç§„É´ÂàÜÊûê
            analyzeLeadershipStyle(upperTrigram, socialPatterns) {
                const styles = {
                    "‰πæ": "ÂâµÈÄ†ÁöÑ„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó - Èù©Êñ∞„Å®Â§âÂåñ„Çí„ÇÇ„Åü„Çâ„Åô",
                    "ÂÖå": "ÂØæË©±Âûã„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó - „Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„ÇíÈáçË¶ñ", 
                    "Èõ¢": "È≠ÖÂäõÁöÑ„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó - „Ç§„É≥„Çπ„Éî„É¨„Éº„Ç∑„Éß„É≥„Çí‰∏é„Åà„Çã",
                    "Èúá": "Ë°åÂãïÂûã„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó - ËøÖÈÄü„Å™Ê±∫Êñ≠„Å®ÂÆüË°å",
                    "Â∑Ω": "ÂçîË™øÂûã„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó - „ÉÅ„Éº„É†„ÅÆË™øÂíå„ÇíÈáçË¶ñ",
                    "Âùé": "Ê¥ûÂØüÂûã„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó - Ê∑±„ÅÑÂàÜÊûê„Å´Âü∫„Å•„ÅèÂà§Êñ≠",
                    "ËâÆ": "ÂÆâÂÆöÂûã„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó - ‰∏ÄË≤´ÊÄß„Å®‰ø°È†ºÊÄß",
                    "Âù§": "ÊîØÊè¥Âûã„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó - „É°„É≥„Éê„Éº„ÅÆÊàêÈï∑„Çí‰øÉÈÄ≤"
                };
                
                const baseStyle = styles[upperTrigram] || "„Éê„É©„É≥„ÇπÂûã„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó";
                const leadershipScore = socialPatterns.Q25_leadership || 0.5;
                
                if (leadershipScore > 0.8) {
                    return `Âº∑„ÅÑ${baseStyle}`;
                } else if (leadershipScore > 0.6) {
                    return baseStyle;
                } else {
                    return `Êéß„Åà„ÇÅ„Å™${baseStyle}`;
            
            // „Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„Çπ„Çø„Ç§„É´ÂàÜÊûê
            analyzeCommunicationStyle(upperTrigram, lowerTrigram, socialPatterns) {
                const upperStyles = {
                    "‰πæ": "Áõ¥Êé•ÁöÑ",
                    "ÂÖå": "Ë¶™„Åó„Åø„ÇÑ„Åô„ÅÑ",
                    "Èõ¢": "Ë°®ÁèæË±ä„Åã",
                    "Èúá": "„Ç®„Éç„É´„ÇÆ„ÉÉ„Ç∑„É•",
                    "Â∑Ω": "ÈÖçÊÖÆÊ∑±„ÅÑ",
                    "Âùé": "ÊÖéÈáç",
                    "ËâÆ": "ÂÆâÂÆö„Åó„Åü",
                    "Âù§": "ÂåÖÂÆπÁöÑ"
                };
                
                const lowerStyles = {
                    "‰πæ": "ÂäõÂº∑„ÅÑÂü∫Áõ§",
                    "ÂÖå": "ÂñúÊÇ¶„ÅÆÂü∫Áõ§", 
                    "Èõ¢": "ÊòéÊô∞„Å™Âü∫Áõ§",
                    "Èúá": "Ë°åÂãï„ÅÆÂü∫Áõ§",
                    "Â∑Ω": "ÊüîËªü„Å™Âü∫Áõ§",
                    "Âùé": "Ê∑±„ÅÑÂü∫Áõ§",
                    "ËâÆ": "ÂÆâÂÆö„Åó„ÅüÂü∫Áõ§",
                    "Âù§": "ÂèóÂÆπÁöÑÂü∫Áõ§"
                };
                
                const interpersonalScore = socialPatterns.Q26_interpersonal || 0.5;
                const styleIntensity = interpersonalScore > 0.7 ? "Á©çÊ•µÁöÑ„Å´" : interpersonalScore > 0.4 ? "" : "ÊÖéÈáç„Å´";
                
                return `${styleIntensity}${upperStyles[upperTrigram]}„Å™„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥Ôºà${lowerStyles[lowerTrigram]}Ôºâ`;
            
            // ÂØæÁ´ãËß£Ê±∫„Çπ„Çø„Ç§„É´ÂàÜÊûê
            analyzeConflictStyle(lowerTrigram, socialPatterns) {
                const styles = {
                    "‰πæ": "Á©çÊ•µÁöÑËß£Ê±∫ - ‰∏ªÂ∞éÁöÑ„Å´ÂïèÈ°å„Å´Âèñ„ÇäÁµÑ„ÇÄ",
                    "ÂÖå": "ÂØæË©±ÈáçË¶ñ - Ë©±„ÅóÂêà„ÅÑ„Å´„Çà„ÇãËß£Ê±∫„ÇíÂõ≥„Çã",
                    "Èõ¢": "ÊòéÁ¢∫ÂåñÈáçË¶ñ - ÂïèÈ°å„ÇíÊòé„Çâ„Åã„Å´„Åó„Å¶Ëß£Ê±∫",
                    "Èúá": "ËøÖÈÄüÂØæÂøú - Á¥†Êó©„ÅÑÂà§Êñ≠„ÅßËß£Ê±∫",
                    "Â∑Ω": "Á©è„ÇÑ„ÅãËß£Ê±∫ - ÊÆµÈöéÁöÑ„ÅßÊüîËªü„Å™„Ç¢„Éó„É≠„Éº„ÉÅ",
                    "Âùé": "ÊÖéÈáçÂàÜÊûê - Ê∑±„ÅèÂàÜÊûê„Åó„Å¶„Åã„ÇâÂØæÂøú",
                    "ËâÆ": "ÂÜ∑ÈùôÂØæÂá¶ - ÊôÇÈñì„Çí„Åã„Åë„ÅüÊÖéÈáç„Å™Ëß£Ê±∫",
                    "Âù§": "ÂèóÂÆπÁöÑËß£Ê±∫ - ÂåÖÂÆπÂäõ„ÅßÂïèÈ°å„ÇíÂíå„Çâ„Åí„Çã"
                };
                
                const competitionScore = socialPatterns.Q29_competition || 0.5;
                const baseStyle = styles[lowerTrigram] || "„Éê„É©„É≥„ÇπÂûãËß£Ê±∫";
                
                if (competitionScore > 0.7) {
                    return `Á´∂‰∫âÁöÑ„Å™${baseStyle}`;
                } else if (competitionScore < 0.3) {
                    return `ÂçîË™øÁöÑ„Å™${baseStyle}`;
                } else {
                    return baseStyle;
            
            // ÈÅ©ÂøúÊÄßÂàÜÊûê
            analyzeAdaptability(upperTrigram, lowerTrigram, socialPatterns) {
                const adaptabilityScores = {
                    "‰πæ": 0.6, "ÂÖå": 0.8, "Èõ¢": 0.7, "Èúá": 0.9,
                    "Â∑Ω": 0.9, "Âùé": 0.7, "ËâÆ": 0.3, "Âù§": 0.8
                };
                
                const upperScore = adaptabilityScores[upperTrigram] || 0.5;
                const lowerScore = adaptabilityScores[lowerTrigram] || 0.5;
                const avgScore = (upperScore + lowerScore) / 2;
                
                const familyScore = socialPatterns.Q27_family || 0.5;
                const emergencyScore = socialPatterns.Q28_emergency || 0.5;
                const contextScore = (familyScore + emergencyScore) / 2;
                
                const finalScore = (avgScore * 0.7) + (contextScore * 0.3);
                
                if (finalScore > 0.8) return "ÈùûÂ∏∏„Å´È´ò„ÅÑÈÅ©ÂøúÂäõ";
                if (finalScore > 0.6) return "È´ò„ÅÑÈÅ©ÂøúÂäõ";
                if (finalScore > 0.4) return "‰∏≠Á®ãÂ∫¶„ÅÆÈÅ©ÂøúÂäõ"; 
                return "ÈôêÂÆöÁöÑ„Å™ÈÅ©ÂøúÂäõ";
            
            // Engine OS„ÅÆÂΩ±ÈüøÂàÜÊûê
            analyzeEngineInfluence(engineOS, interfaceUpper, interfaceLower) {
                if (!engineOS || !engineOS.upperTrigram) {
                    return "Engine OSÊÉÖÂ†±‰∏çË∂≥„Å´„Çà„ÇäÂΩ±Èüø‰∏çÊòé";
                
                const engineUpper = engineOS.upperTrigram;
                const compatibility = this.calculateTrigramCompatibility(engineUpper, interfaceUpper);
                
                if (compatibility > 0.7) {
                    return `Engine OSÔºà${engineUpper}Ôºâ„Å®„ÅÆÈ´ò„ÅÑË¶™ÂíåÊÄß - ‰∏ÄË≤´„Åó„Åü‰∫∫Ê†ºË°®Áèæ`;
                } else if (compatibility > 0.4) {
                    return `Engine OSÔºà${engineUpper}Ôºâ„Å®„ÅÆÈÅ©Â∫¶„Å™Ë¶™ÂíåÊÄß - „Éê„É©„É≥„ÇπÂèñ„Çå„ÅüË°®Áèæ`;
                } else {
                    return `Engine OSÔºà${engineUpper}Ôºâ„Å®„ÅÆË£úÂÆåÈñ¢‰øÇ - ÂÜÖÂ§ñ„ÅÆ„Ç≥„É≥„Éà„É©„Çπ„Éà`;
            
            // ‰∏âÁàªÈñì„ÅÆË¶™ÂíåÊÄßË®àÁÆó
            calculateTrigramCompatibility(trigram1, trigram2) {
                const compatibilityMatrix = {
                    "‰πæ": { "‰πæ": 1.0, "ÂÖå": 0.8, "Èõ¢": 0.9, "Èúá": 0.7, "Â∑Ω": 0.4, "Âùé": 0.5, "ËâÆ": 0.6, "Âù§": 0.2 },
                    "ÂÖå": { "‰πæ": 0.8, "ÂÖå": 1.0, "Èõ¢": 0.7, "Èúá": 0.6, "Â∑Ω": 0.8, "Âùé": 0.4, "ËâÆ": 0.3, "Âù§": 0.7 },
                    "Èõ¢": { "‰πæ": 0.9, "ÂÖå": 0.7, "Èõ¢": 1.0, "Èúá": 0.5, "Â∑Ω": 0.6, "Âùé": 0.2, "ËâÆ": 0.4, "Âù§": 0.8 },
                    "Èúá": { "‰πæ": 0.7, "ÂÖå": 0.6, "Èõ¢": 0.5, "Èúá": 1.0, "Â∑Ω": 0.3, "Âùé": 0.8, "ËâÆ": 0.2, "Âù§": 0.4 },
                    "Â∑Ω": { "‰πæ": 0.4, "ÂÖå": 0.8, "Èõ¢": 0.6, "Èúá": 0.3, "Â∑Ω": 1.0, "Âùé": 0.7, "ËâÆ": 0.8, "Âù§": 0.9 },
                    "Âùé": { "‰πæ": 0.5, "ÂÖå": 0.4, "Èõ¢": 0.2, "Èúá": 0.8, "Â∑Ω": 0.7, "Âùé": 1.0, "ËâÆ": 0.9, "Âù§": 0.6 },
                    "ËâÆ": { "‰πæ": 0.6, "ÂÖå": 0.3, "Èõ¢": 0.4, "Èúá": 0.2, "Â∑Ω": 0.8, "Âùé": 0.9, "ËâÆ": 1.0, "Âù§": 0.7 },
                    "Âù§": { "‰πæ": 0.2, "ÂÖå": 0.7, "Èõ¢": 0.8, "Èúá": 0.4, "Â∑Ω": 0.9, "Âùé": 0.6, "ËâÆ": 0.7, "Âù§": 1.0 }
                };
                
                return compatibilityMatrix[trigram1]?.[trigram2] || 0.5;
            
            calculateConsistencyScore(engineOS, interfaceOS, safeModeOS) {
                try {
                    // 1. Âç¶„ÅÆÁõ∏‰∫íË∑ùÈõ¢„ÇíË®àÁÆó
                    const engineInterface = Math.abs(engineOS.hexagramId - interfaceOS.hexagramId);
                    const engineSafeMode = Math.abs(engineOS.hexagramId - safeModeOS.hexagramId);
                    const interfaceSafeMode = Math.abs(interfaceOS.hexagramId - safeModeOS.hexagramId);
                    
                    // 2. ‰∏âÁàª„É¨„Éô„É´„Åß„ÅÆÊï¥ÂêàÊÄßÂàÜÊûê
                    const trigramConsistency = this.analyzeTrigramConsistency(engineOS, interfaceOS, safeModeOS);
                    
                    // 3. HaQeiÂì≤Â≠¶ÁöÑ‰∏ÄË≤´ÊÄß„ÅÆË©ï‰æ°
                    const philosophicalConsistency = this.evaluatePhilosophicalConsistency(engineOS, interfaceOS, safeModeOS);
                    
                    // 4. Á∑èÂêàÊï¥ÂêàÊÄß„Çπ„Ç≥„Ç¢Ë®àÁÆó
                    const distanceScore = Math.max(0, 100 - (engineInterface + engineSafeMode + interfaceSafeMode) / 3 * 1.5);
                    const finalScore = (distanceScore * 0.4 + trigramConsistency * 0.35 + philosophicalConsistency * 0.25);
                    
                    return Math.min(100, Math.max(0, finalScore));
                    
                } catch (error) {
                    console.error("‚ùå Consistency calculation error:", error);
                    return 50; // „Éá„Éï„Ç©„É´„ÉàÂÄ§
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            /**
             * Triple OSÁõ∏‰∫í‰ΩúÁî®„ÅÆÁ∑èÂêàÂàÜÊûê
             * 3„Å§„ÅÆOS„ÅÆÁµ±ÂêàÁöÑÂãï‰Ωú„ÇíË©ï‰æ°„Åó„ÄÅÊé®Â•®‰∫ãÈ†Ö„ÇíÁîüÊàê
             */
            async calculateTripleOSInteraction(engineOS, interfaceOS, safeModeOS) {
                // console.log("üîØ Calculating Triple OS Interaction");
                
                try {
                    // 1. Êï¥ÂêàÊÄß„Çπ„Ç≥„Ç¢Ë®àÁÆó
                    const consistency = this.calculateConsistencyScore(engineOS, interfaceOS, safeModeOS);
                    
                    // 2. ÂãïÁöÑ„Éê„É©„É≥„ÇπË©ï‰æ°
                    const balance = this.evaluateDynamicBalance(engineOS, interfaceOS, safeModeOS);
                    
                    // 3. HaQeiÁµ±ÂêàÂ∫¶Ë©ï‰æ°
                    const integration = this.assessHaQeiIntegration(engineOS, interfaceOS, safeModeOS);
                    
                    // 4. „Éá„Éº„Çø„Éï„É≠„ÉºÊ§úË®º
                    const dataFlowValidation = this.validateDataFlow(engineOS, interfaceOS, safeModeOS);
                    
                    // 5. Êé®Â•®‰∫ãÈ†ÖÁîüÊàê
                    const recommendations = this.generateRecommendations(consistency, balance, integration, dataFlowValidation);
                    
                    return {
                        consistency,
                        balance,
                        integration,
                        dataFlow: dataFlowValidation,
                        recommendations,
                        timestamp: Date.now(),
                        status: "success"
                    };
                    
                } catch (error) {
                    console.error("‚ùå Triple OS Interaction calculation failed:", error);
                    return this.getDefaultTripleOSInteraction();
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            /**
             * ÂãïÁöÑ„Éê„É©„É≥„ÇπË©ï‰æ°
             * 3„Å§„ÅÆOS„ÅÆÁõ∏‰∫í‰ΩúÁî®„Å´„Åä„Åë„ÇãÂãïÁöÑÂπ≥Ë°°„ÇíË©ï‰æ°
             */
            evaluateDynamicBalance(engineOS, interfaceOS, safeModeOS) {
                console.log("‚öñÔ∏è Evaluating Dynamic Balance");
                
                try {
                    // 1. „Ç®„Éç„É´„ÇÆ„ÉºÂàÜÂ∏É„ÅÆÂàÜÊûê
                    const energyDistribution = this.analyzeEnergyDistribution(engineOS, interfaceOS, safeModeOS);
                    
                    // 2. Áõ∏‰∫íË£úÂÆåÊÄß„ÅÆË©ï‰æ°
                    const complementarity = this.assessComplementarity(engineOS, interfaceOS, safeModeOS);
                    
                    // 3. ÂÆâÂÆöÊÄßÊåáÊ®ô„ÅÆË®àÁÆó
                    const stability = this.calculateStabilityIndex(engineOS, interfaceOS, safeModeOS);
                    
                    // 4. ÈÅ©ÂøúÊÄßÊåáÊ®ô„ÅÆË®àÁÆó
                    const adaptability = this.calculateAdaptabilityIndex(engineOS, interfaceOS, safeModeOS);
                    
                    // 5. Á∑èÂêà„Éê„É©„É≥„Çπ„Çπ„Ç≥„Ç¢
                    const balanceScore = (
                        energyDistribution * 0.3 + 
                        complementarity * 0.25 + 
                        stability * 0.25 + 
                        adaptability * 0.2
                    
                    return Math.min(100, Math.max(0, balanceScore));
                    
                } catch (error) {
                    console.error("‚ùå Dynamic balance evaluation failed:", error);
                    return 65; // „Éá„Éï„Ç©„É´„Éà„Éê„É©„É≥„ÇπÂÄ§
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            /**
             * HaQeiÁµ±ÂêàÂ∫¶Ë©ï‰æ°
             * ÊòìÁµåÂì≤Â≠¶„Å´Âü∫„Å•„ÅèÁµ±Âêà„É¨„Éô„É´„ÅÆË©ï‰æ°
             */
            assessHaQeiIntegration(engineOS, interfaceOS, safeModeOS) {
                console.log("üåü Assessing HaQei Integration");
                
                try {
                    // 1. ÊòìÁµåÂéüÁêÜ„ÅÆÈÅ©Áî®Â∫¶Ë©ï‰æ°
                    const yijingPrinciples = this.evaluateYijingPrinciples(engineOS, interfaceOS, safeModeOS);
                    
                    // 2. ‰∏âÊâçÊÄùÊÉ≥„ÅÆ‰ΩìÁèæÂ∫¶ÔºàÂ§©„Éª‰∫∫„ÉªÂú∞Ôºâ
                    const sancaiEmbodiment = this.evaluateSancaiEmbodiment(engineOS, interfaceOS, safeModeOS);
                    
                    // 3. Èô∞ÈôΩË™øÂíå„ÅÆÂÆüÁèæÂ∫¶
                    const yinyangHarmony = this.evaluateYinyangHarmony(engineOS, interfaceOS, safeModeOS);
                    
                    // 4. ‰∫îË°åÁõ∏Áîü„ÅÆÂÆüÁèæÂ∫¶
                    const wuxingSynergy = this.evaluateWuxingSynergy(engineOS, interfaceOS, safeModeOS);
                    
                    // 5. HaQeiÁµ±Âêà„Çπ„Ç≥„Ç¢
                    const integrationScore = (
                        yijingPrinciples * 0.35 +
                        sancaiEmbodiment * 0.25 +
                        yinyangHarmony * 0.25 +
                        wuxingSynergy * 0.15
                    
                    return Math.min(100, Math.max(0, integrationScore));
                    
                } catch (error) {
                    console.error("‚ùå HaQei integration assessment failed:", error);
                    return 70; // „Éá„Éï„Ç©„É´„ÉàÁµ±ÂêàÂÄ§
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            /**
             * 64Âç¶Âá∫Âäõ„ÅÆÂÆåÂÖ®ÊÄßÁ¢∫Ë™ç
             * ÂêÑOS„Åå1-64„ÅÆ„Åô„Åπ„Å¶„ÅÆÂç¶„ÇíÂá∫ÂäõÂèØËÉΩ„ÅãÊ§úË®º
             */
            validateTripleOSResults(engineOS, interfaceOS, safeModeOS) {
                console.log("üîç Validating Triple OS Results");
                
                try {
                    // 1. ÂêÑOS„ÅÆÂç¶ID„ÅÆÊúâÂäπÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
                    const validationResults = {
                        engineOS: this.validateOSHexagram(engineOS, "Engine OS"),
                        interfaceOS: this.validateOSHexagram(interfaceOS, "Interface OS"),  
                        safeModeOS: this.validateOSHexagram(safeModeOS, "SafeMode OS")
                    };
                    
                    // 2. ÈáçË§á„ÉªÊ¨†ËêΩ„ÉÅ„Çß„ÉÉ„ÇØ
                    const duplicateCheck = this.checkForDuplicates([engineOS.hexagramId, interfaceOS.hexagramId, safeModeOS.hexagramId]);
                    
                    // 3. „Éá„Éº„Çø„Éï„É≠„ÉºÊï¥ÂêàÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
                    const dataFlowCheck = this.validateDataFlowIntegrity(engineOS, interfaceOS, safeModeOS);
                    
                    // 4. „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞„ÉÅ„Çß„ÉÉ„ÇØ
                    const errorHandlingCheck = this.validateErrorHandling(engineOS, interfaceOS, safeModeOS);
                    
                    // 5. Ê§úË®º„É¨„Éù„Éº„ÉàÁîüÊàê
                    const validationReport = {
                        ...validationResults,
                        duplicates: duplicateCheck,
                        dataFlow: dataFlowCheck,
                        errorHandling: errorHandlingCheck,
                        overallStatus: this.determineOverallValidationStatus(validationResults, duplicateCheck, dataFlowCheck, errorHandlingCheck),
                        timestamp: Date.now()
                    };
                    
                    console.log("‚úÖ Triple OS Validation Complete:", validationReport);
                    return validationReport;
                    
                } catch (error) {
                    console.error("‚ùå Triple OS validation failed:", error);
                    throw new Error(`Triple OS validation failed: ${error.message}`);
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
            
            /**
             * Êé®Â•®‰∫ãÈ†ÖÁîüÊàê
             * ÂàÜÊûêÁµêÊûú„Å´Âü∫„Å•„ÅèÊîπÂñÑÊèêÊ°à„ÅÆÁîüÊàê
             */
            generateRecommendations(consistency, balance, integration, dataFlow) {
                console.log("üí° Generating Recommendations");
                
                const recommendations = [];
                
                try {
                    // 1. Êï¥ÂêàÊÄß„Å´Âü∫„Å•„ÅèÊé®Â•®
                    if (consistency < 70) {
                        recommendations.push({
                            type: "consistency",
                            priority: "high",
                            title: "OSÈñìÊï¥ÂêàÊÄß„ÅÆÂêë‰∏ä",
                            description: "Engine„ÄÅInterface„ÄÅSafeMode OS„ÅÆÁõ∏‰∫íÈñ¢‰øÇ„ÇíË¶ãÁõ¥„Åó„ÄÅ„Çà„ÇäË™øÂíå„ÅÆÂèñ„Çå„ÅüÁµ±Âêà„ÇíÁõÆÊåá„Åó„Åæ„Åó„Çá„ÅÜ",
                            action: "‰æ°ÂÄ§Ë¶≥„Å®Ë°åÂãï„Éë„Çø„Éº„É≥„ÅÆÂÜçÊï¥ÁêÜ„ÇíÊé®Â•®"
                        });
                    
                    // 2. „Éê„É©„É≥„Çπ„Å´Âü∫„Å•„ÅèÊé®Â•®
                    if (balance < 65) {
                        recommendations.push({
                            type: "balance",
                            priority: "medium",
                            title: "ÂãïÁöÑ„Éê„É©„É≥„Çπ„ÅÆÊúÄÈÅ©Âåñ",
                            description: "3„Å§„ÅÆOS„ÅÆÂãïÁöÑÂπ≥Ë°°„ÇíÊîπÂñÑ„Åó„ÄÅ„Çà„ÇäÂÆâÂÆö„Åó„ÅüÁµ±Âêà„Ç∑„Çπ„ÉÜ„É†„ÇíÊßãÁØâ„Åó„Åæ„Åó„Çá„ÅÜ",
                            action: "Áä∂Ê≥Å„Å´Âøú„Åò„ÅüOSÂàá„ÇäÊõø„Åà„ÅÆÁ∑¥Áøí„ÇíÊé®Â•®"
                        });
                    
                    // 3. HaQeiÁµ±Âêà„Å´Âü∫„Å•„ÅèÊé®Â•®
                    if (integration < 75) {
                        recommendations.push({
                            type: "integration",
                            priority: "medium",
                            title: "HaQeiÂì≤Â≠¶„ÅÆÊ∑±Âåñ",
                            description: "ÊòìÁµåÂéüÁêÜ„Çí„Çà„ÇäÊ∑±„ÅèÁêÜËß£„Åó„ÄÅÊó•Â∏∏ÁîüÊ¥ª„Åß„ÅÆÂÆüË∑µ„ÇíÂ¢ó„ÇÑ„Åó„Åæ„Åó„Çá„ÅÜ",
                            action: "ÊòìÁµåÂ≠¶Áøí„Å®ÁûëÊÉ≥ÁöÑÂÆüË∑µ„ÅÆÁ∂ôÁ∂ö„ÇíÊé®Â•®"
                        });
                    
                    // 4. „Éá„Éº„Çø„Éï„É≠„Éº„Å´Âü∫„Å•„ÅèÊé®Â•®
                    if (dataFlow && !dataFlow.isValid) {
                        recommendations.push({
                            type: "dataflow",
                            priority: "high",
                            title: "ÊÉÖÂ†±Âá¶ÁêÜ„Éï„É≠„Éº„ÅÆÊîπÂñÑ",
                            description: "‰æ°ÂÄ§Ë¶≥„Åã„Çâ„Ç∑„Éä„É™„Ç™ÂØæÂøú„Å∏„ÅÆÊÉÖÂ†±„ÅÆÊµÅ„Çå„ÇíÊîπÂñÑ„Åó„ÄÅ‰∏ÄË≤´ÊÄß„ÅÆ„ÅÇ„ÇãÂà§Êñ≠„ÇíÂÆüÁèæ„Åó„Åæ„Åó„Çá„ÅÜ",
                            action: "„Çª„É´„Éï„É™„Éï„É¨„ÇØ„Ç∑„Éß„É≥„ÅÆÁøíÊÖ£Âåñ„ÇíÊé®Â•®"
                        });
                    
                    // 5. Á∑èÂêàÁöÑ„Å™Êé®Â•®‰∫ãÈ†Ö
                    if (recommendations.length === 0) {
                        recommendations.push({
                            type: "optimization",
                            priority: "low",
                            title: "„Åï„Çâ„Å™„ÇãÊúÄÈÅ©Âåñ",
                            description: "Êó¢„Å´ËâØÂ•Ω„Å™Áµ±ÂêàÁä∂ÊÖã„Åß„Åô„ÄÇ„Åï„Çâ„Å™„ÇãÂêë‰∏ä„ÅÆ„Åü„ÇÅ„Å´Á∂ôÁ∂öÁöÑ„Å™Ëá™Â∑±Ë¶≥ÂØü„ÇíÁ∂ö„Åë„Åæ„Åó„Çá„ÅÜ",
                            action: "ÂÆöÊúüÁöÑ„Å™Ëá™Â∑±Ë©ï‰æ°„ÅÆÂÆüÊñΩ„ÇíÊé®Â•®"
                        });
                    
                    return recommendations;
                    
                } catch (error) {
                    console.error("‚ùå Recommendation generation failed:", error);
                    return [{
                        type: "error",
                        priority: "medium",
                        title: "Ë©ï‰æ°„Ç®„É©„Éº",
                        description: "Êé®Â•®‰∫ãÈ†Ö„ÅÆÁîüÊàê‰∏≠„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂãï‰Ωú„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ",
                        action: "ÊäÄË°ìÁöÑ„Å™„Çµ„Éù„Éº„Éà„Çí„ÅîÂà©Áî®„Åè„Å†„Åï„ÅÑ"
                    }];
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
            
            // =================
            // Ë£úÂä©„É°„ÇΩ„ÉÉ„ÉâÁæ§
            // =================
            
            /**
             * ‰∏âÁàª„É¨„Éô„É´„Åß„ÅÆÊï¥ÂêàÊÄßÂàÜÊûê
             */
            analyzeTrigramConsistency(engineOS, interfaceOS, safeModeOS) {
                try {
                    const compatibility1 = this.calculateTrigramCompatibility(engineOS.upperTrigram, interfaceOS.upperTrigram);
                    const compatibility2 = this.calculateTrigramCompatibility(engineOS.upperTrigram, safeModeOS.upperTrigram);
                    const compatibility3 = this.calculateTrigramCompatibility(interfaceOS.upperTrigram, safeModeOS.upperTrigram);
                    
                    return (compatibility1 + compatibility2 + compatibility3) / 3 * 100;
                } catch (error) {
                    return 60; // „Éá„Éï„Ç©„É´„ÉàÂÄ§
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            /**
             * HaQeiÂì≤Â≠¶ÁöÑ‰∏ÄË≤´ÊÄß„ÅÆË©ï‰æ°
             */
            evaluatePhilosophicalConsistency(engineOS, interfaceOS, safeModeOS) {
                try {
                    // ÊòìÁµå„ÅÆÊ†∏ÂøÉÂéüÁêÜ„Åß„ÅÇ„ÇãÂ§âÂåñ„Å®Ë™øÂíå„ÅÆ‰ΩìÁèæÂ∫¶„ÇíË©ï‰æ°
                    const changeAlignment = this.assessChangeAlignment(engineOS, interfaceOS, safeModeOS);
                    const harmonyAlignment = this.assessHarmonyAlignment(engineOS, interfaceOS, safeModeOS);
                    
                    return (changeAlignment + harmonyAlignment) / 2;
                } catch (error) {
                    return 70; // „Éá„Éï„Ç©„É´„ÉàÂÄ§
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            /**
             * „Ç®„Éç„É´„ÇÆ„ÉºÂàÜÂ∏É„ÅÆÂàÜÊûê
             */
            analyzeEnergyDistribution(engineOS, interfaceOS, safeModeOS) {
                try {
                    const engineEnergy = this.calculateOSEnergy(engineOS);
                    const interfaceEnergy = this.calculateOSEnergy(interfaceOS);
                    const safeModeEnergy = this.calculateOSEnergy(safeModeOS);
                    
                    const total = engineEnergy + interfaceEnergy + safeModeEnergy;
                    const idealRatio = [0.35, 0.35, 0.30]; // Engine, Interface, SafeMode
                    const actualRatio = [engineEnergy/total, interfaceEnergy/total, safeModeEnergy/total];
                    
                    // ÁêÜÊÉ≥ÊØîÁéá„Å®„ÅÆÂ∑ÆÁï∞„ÇíË®àÁÆó
                    const deviation = idealRatio.reduce((sum, ideal, i) => sum + Math.abs(ideal - actualRatio[i]), 0);
                    
                    return Math.max(0, 100 - (deviation * 100));
                } catch (error) {
                    return 65; // „Éá„Éï„Ç©„É´„ÉàÂÄ§
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            /**
             * Áõ∏‰∫íË£úÂÆåÊÄß„ÅÆË©ï‰æ°
             */
            assessComplementarity(engineOS, interfaceOS, safeModeOS) {
                try {
                    // 3„Å§„ÅÆOS„Åå‰∫í„ÅÑ„ÇíË£úÂÆå„ÅóÂêà„Å£„Å¶„ÅÑ„Çã„Åã„ÇíË©ï‰æ°
                    const engineInterface = this.calculateComplementarity(engineOS, interfaceOS);
                    const engineSafeMode = this.calculateComplementarity(engineOS, safeModeOS);
                    const interfaceSafeMode = this.calculateComplementarity(interfaceOS, safeModeOS);
                    
                    return (engineInterface + engineSafeMode + interfaceSafeMode) / 3;
                } catch (error) {
                    return 60; // „Éá„Éï„Ç©„É´„ÉàÂÄ§
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            /**
             * ÂÆâÂÆöÊÄßÊåáÊ®ô„ÅÆË®àÁÆó
             */
            calculateStabilityIndex(engineOS, interfaceOS, safeModeOS) {
                try {
                    // ÂêÑOS„ÅÆÂÆâÂÆöÊÄß„Çí‰∏âÁàª„ÅÆÁâπÊÄß„Åã„ÇâÂà§Êñ≠
                    const engineStability = this.getTrigramStability(engineOS.upperTrigram, engineOS.lowerTrigram);
                    const interfaceStability = this.getTrigramStability(interfaceOS.upperTrigram, interfaceOS.lowerTrigram);
                    const safeModeStability = this.getTrigramStability(safeModeOS.upperTrigram, safeModeOS.lowerTrigram);
                    
                    return (engineStability + interfaceStability + safeModeStability) / 3;
                } catch (error) {
                    return 70; // „Éá„Éï„Ç©„É´„ÉàÂÄ§
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            /**
             * ÈÅ©ÂøúÊÄßÊåáÊ®ô„ÅÆË®àÁÆó
             */
            calculateAdaptabilityIndex(engineOS, interfaceOS, safeModeOS) {
                try {
                    // Â§âÂåñ„Å∏„ÅÆÈÅ©ÂøúËÉΩÂäõ„ÇíË©ï‰æ°
                    const diversity = this.calculateOSDiversity(engineOS, interfaceOS, safeModeOS);
                    const flexibility = this.calculateFlexibility(engineOS, interfaceOS, safeModeOS);
                    
                    return (diversity + flexibility) / 2;
                } catch (error) {
                    return 65; // „Éá„Éï„Ç©„É´„ÉàÂÄ§
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            /**
             * ÊòìÁµåÂéüÁêÜ„ÅÆÈÅ©Áî®Â∫¶Ë©ï‰æ°
             */
            evaluateYijingPrinciples(engineOS, interfaceOS, safeModeOS) {
                try {
                    // 64Âç¶„ÅÆÊú¨Ë≥™ÁöÑÊÑèÂë≥„Å®„ÅÆÊï¥ÂêàÊÄß
                    const principleAlignment = [engineOS, interfaceOS, safeModeOS].reduce((sum, os) => {
                        const hexagram = this.getHexagramData(os.hexagramId);
                        return sum + this.assessHexagramPrincipleAlignment(hexagram, os);
                    }, 0) / 3;
                    
                    return principleAlignment;
                } catch (error) {
                    return 75; // „Éá„Éï„Ç©„É´„ÉàÂÄ§
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            /**
             * ‰∏âÊâçÊÄùÊÉ≥„ÅÆ‰ΩìÁèæÂ∫¶Ë©ï‰æ°
             */
            evaluateSancaiEmbodiment(engineOS, interfaceOS, safeModeOS) {
                try {
                    // Â§©„Éª‰∫∫„ÉªÂú∞„ÅÆ‰∏âÊâçÊÄùÊÉ≥„ÅÆ‰ΩìÁèæÂ∫¶
                    const tianEmbodiment = this.assessTianEmbodiment(engineOS); // Â§©ÔºöÂâµÈÄ†„ÉªÁ≤æÁ•û
                    const renEmbodiment = this.assessRenEmbodiment(interfaceOS); // ‰∫∫ÔºöÁ§æ‰ºö„ÉªÈñ¢‰øÇ
                    const diEmbodiment = this.assessDiEmbodiment(safeModeOS); // Âú∞ÔºöÂü∫Áõ§„ÉªÂÆâÂÆö
                    
                    return (tianEmbodiment + renEmbodiment + diEmbodiment) / 3;
                } catch (error) {
                    return 70; // „Éá„Éï„Ç©„É´„ÉàÂÄ§
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            /**
             * Èô∞ÈôΩË™øÂíå„ÅÆÂÆüÁèæÂ∫¶
             */
            evaluateYinyangHarmony(engineOS, interfaceOS, safeModeOS) {
                try {
                    const yinYangBalance = this.calculateYinYangBalance([engineOS, interfaceOS, safeModeOS]);
                    const complementaryBalance = this.calculateComplementaryBalance(engineOS, interfaceOS, safeModeOS);
                    
                    return (yinYangBalance + complementaryBalance) / 2;
                } catch (error) {
                    return 65; // „Éá„Éï„Ç©„É´„ÉàÂÄ§
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            /**
             * ‰∫îË°åÁõ∏Áîü„ÅÆÂÆüÁèæÂ∫¶
             */
            evaluateWuxingSynergy(engineOS, interfaceOS, safeModeOS) {
                try {
                    // Êú®ÁÅ´ÂúüÈáëÊ∞¥„ÅÆÁõ∏ÁîüÈñ¢‰øÇ„ÅÆÂÆüÁèæÂ∫¶
                    const wuxingElements = [
                        this.getWuxingElement(engineOS),
                        this.getWuxingElement(interfaceOS),
                        this.getWuxingElement(safeModeOS)
                    ];
                    
                    return this.calculateWuxingSynergyScore(wuxingElements);
                } catch (error) {
                    return 60; // „Éá„Éï„Ç©„É´„ÉàÂÄ§
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            /**
             * OSÂç¶ID„ÅÆÊúâÂäπÊÄßÊ§úË®º
             */
            validateOSHexagram(osResult, osName) {
                try {
                    const hexagramId = osResult.hexagramId;
                    
                    // 1. Âç¶ID„Åå1-64„ÅÆÁØÑÂõ≤ÂÜÖ„Åã
                    if (hexagramId < 1 || hexagramId > 64) {
                        return {
                            valid: false,
                            error: `Invalid hexagram ID: ${hexagramId}`,
                            osName: osName
                        };
                    
                    // 2. ‰∏âÁàª„ÅÆÁµÑ„ÅøÂêà„Çè„Åõ„ÅåÊúâÂäπ„Åã
                    const upperTrigram = osResult.upperTrigram;
                    const lowerTrigram = osResult.lowerTrigram;
                    const validTrigrams = ["‰πæ", "ÂÖå", "Èõ¢", "Èúá", "Â∑Ω", "Âùé", "ËâÆ", "Âù§"];
                    
                    if (!validTrigrams.includes(upperTrigram) || !validTrigrams.includes(lowerTrigram)) {
                        return {
                            valid: false,
                            error: `Invalid trigram combination: ${upperTrigram}-${lowerTrigram}`,
                            osName: osName
                        };
                    
                    // 3. Âç¶„Å®‰∏âÁàª„ÅÆÂØæÂøú„ÅåÊ≠£„Åó„ÅÑ„Åã
                    const expectedId = this.mapTrigramsToHexagram(upperTrigram, lowerTrigram);
                    if (expectedId !== hexagramId) {
                        return {
                            valid: false,
                            error: `Hexagram-Trigram mismatch: Expected ${expectedId}, got ${hexagramId}`,
                            osName: osName
                        };
                    
                    return {
                        valid: true,
                        hexagramId: hexagramId,
                        osName: osName,
                        trigramCombination: `${upperTrigram}-${lowerTrigram}`
                    };
                    
                } catch (error) {
                    return {
                        valid: false,
                        error: `Validation error: ${error.message}`,
                        osName: osName
                    };
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
            
            /**
             * ÈáçË§á„ÉÅ„Çß„ÉÉ„ÇØ
             */
            checkForDuplicates(hexagramIds) {
                const duplicates = hexagramIds.filter((id, index) => hexagramIds.indexOf(id) !== index);
                return {
                    hasDuplicates: duplicates.length > 0,
                    duplicateIds: [...new Set(duplicates)],
                    uniqueCount: new Set(hexagramIds).size
                };
            
            /**
             * „Éá„Éº„Çø„Éï„É≠„ÉºÊï¥ÂêàÊÄß„ÉÅ„Çß„ÉÉ„ÇØ
             */
            validateDataFlowIntegrity(engineOS, interfaceOS, safeModeOS) {
                try {
                    // Q1-Q24 ‚Üí Engine OS „ÅÆÂΩ±Èüø„ÉÅ„Çß„ÉÉ„ÇØ
                    const engineInfluence = this.validateEngineInfluence(engineOS);
                    
                    // Q25-Q30 ‚Üí Interface OS & SafeMode OS „ÅÆÂΩ±Èüø„ÉÅ„Çß„ÉÉ„ÇØ
                    const scenarioInfluence = this.validateScenarioInfluence(interfaceOS, safeModeOS);
                    
                    // Engine OS ‚Üí Interface OS (30%ÂΩ±Èüø) „ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ
                    const engineToInterface = this.validateEngineToInterfaceFlow(engineOS, interfaceOS);
                    
                    // Engine OS ‚Üí SafeMode OS (40%ÂΩ±Èüø) „ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ
                    const engineToSafeMode = this.validateEngineToSafeModeFlow(engineOS, safeModeOS);
                    
                    return {
                        isValid: engineInfluence.valid && scenarioInfluence.valid && engineToInterface.valid && engineToSafeMode.valid,
                        engineInfluence,
                        scenarioInfluence,
                        engineToInterface,
                        engineToSafeMode
                    };
                    
                } catch (error) {
                    return {
                        isValid: false,
                        error: error.message
                    };
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
            
            /**
             * „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞„ÅÆÊ§úË®º
             */
            validateErrorHandling(engineOS, interfaceOS, safeModeOS) {
                const errorHandlingScore = {
                    engineOS: this.checkOSErrorHandling(engineOS),
                    interfaceOS: this.checkOSErrorHandling(interfaceOS),
                    safeModeOS: this.checkOSErrorHandling(safeModeOS)
                };
                
                const allValid = Object.values(errorHandlingScore).every(score => score > 0.8);
                
                return {
                    isValid: allValid,
                    scores: errorHandlingScore,
                    overallScore: Object.values(errorHandlingScore).reduce((sum, score) => sum + score, 0) / 3
                };
            
            /**
             * Á∑èÂêàÊ§úË®º„Çπ„ÉÜ„Éº„Çø„Çπ„ÅÆÊ±∫ÂÆö
             */
            determineOverallValidationStatus(validationResults, duplicateCheck, dataFlowCheck, errorHandlingCheck) {
                const allOSValid = Object.values(validationResults).every(result => result.valid);
                const noDuplicates = !duplicateCheck.hasDuplicates;
                const dataFlowValid = dataFlowCheck.isValid;
                const errorHandlingValid = errorHandlingCheck.isValid;
                
                if (allOSValid && noDuplicates && dataFlowValid && errorHandlingValid) {
                    return "excellent";
                } else if (allOSValid && noDuplicates && dataFlowValid) {
                    return "good";
                } else if (allOSValid && noDuplicates) {
                    return "acceptable";
                } else {
                    return "needs_improvement";
            
            /**
             * „Éá„Éº„Çø„Éï„É≠„Éº„ÅÆÊ§úË®º
             */
            validateDataFlow(engineOS, interfaceOS, safeModeOS) {
                try {
                    return this.validateDataFlowIntegrity(engineOS, interfaceOS, safeModeOS);
                } catch (error) {
                    return {
                        isValid: false,
                        error: error.message
                    };
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
            
            /**
             * „Éá„Éï„Ç©„É´„ÉàTriple OSÁõ∏‰∫í‰ΩúÁî®ÁµêÊûú
             */
            getDefaultTripleOSInteraction() {
                return {
                    consistency: 65,
                    balance: 60,
                    integration: 70,
                    dataFlow: { isValid: false, error: "Analysis failed" },
                    recommendations: [{
                        type: "system_error",
                        priority: "high",
                        title: "„Ç∑„Çπ„ÉÜ„É†„Ç®„É©„Éº",
                        description: "Triple OSÂàÜÊûê‰∏≠„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü",
                        action: "„Ç∑„Çπ„ÉÜ„É†„ÅÆÂÜçÂÆüË°å„ÇíÊé®Â•®"
                    }],
                    timestamp: Date.now(),
                    status: "error"
                };
            
            // =================
            // Ë©≥Á¥∞Ë£úÂä©„É°„ÇΩ„ÉÉ„ÉâÁæ§
            // =================
            
            assessChangeAlignment(engineOS, interfaceOS, safeModeOS) {
                // Â§âÂåñ„Å∏„ÅÆÂØæÂøúÂäõ„ÅÆÁµ±ÂêàË©ï‰æ°
                return 75; // Á∞°Áï•ÂÆüË£Ö
            
            assessHarmonyAlignment(engineOS, interfaceOS, safeModeOS) {
                // Ë™øÂíå„ÅÆÂÆüÁèæÂ∫¶„ÅÆÁµ±ÂêàË©ï‰æ°
                return 70; // Á∞°Áï•ÂÆüË£Ö
            
            calculateOSEnergy(os) {
                // OS„ÅÆ„Ç®„Éç„É´„ÇÆ„ÉºÂº∑Â∫¶„Çí‰∏âÁàª„Ç®„Éç„É´„ÇÆ„Éº„Åã„ÇâÂÆüÈöõ„Å´Ë®àÁÆó
                try {
                    if (!os || !os.trigramEnergies) {
                        console.warn('OS„Ç®„Éç„É´„ÇÆ„ÉºË®àÁÆó: ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„Éº„Éá„Éº„Çø„Åå‰∏çË∂≥', os);
                        return 0;
                    
                    // ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„Éº„ÅÆÂêàË®àÂÄ§„Åã„ÇâÂº∑Â∫¶„ÇíË®àÁÆó
                    const energies = Object.values(os.trigramEnergies);
                    if (energies.length === 0) return 0;
                    
                    // Âπ≥Âùá„Ç®„Éç„É´„ÇÆ„ÉºÂÄ§„ÇíÂü∫Êú¨„Å®„Åó„ÄÅÊúÄÂ§ßÂÄ§„Å®„ÅÆÂ∑Æ„ÅßÂº∑Â∫¶„ÇíË™øÊï¥
                    const avgEnergy = energies.reduce((sum, e) => sum + e, 0) / energies.length;
                    const maxEnergy = Math.max(...energies);
                    const minEnergy = Math.min(...energies);
                    
                    // ÈõÜ‰∏≠Â∫¶Ôºà„Ç®„Éç„É´„ÇÆ„ÉºÂàÜÊï£Ôºâ„ÇíËÄÉÊÖÆ„Åó„ÅüÂº∑Â∫¶Ë®àÁÆó
                    const concentration = maxEnergy - minEnergy;
                    const intensity = avgEnergy + (concentration * 0.3);
                    
                    console.log(`üîã ${os.hexagramName} Energy:`, {
                        avg: avgEnergy.toFixed(2),
                        max: maxEnergy.toFixed(2), 
                        concentration: concentration.toFixed(2),
                        intensity: intensity.toFixed(2)
                    });
                    
                    return Math.max(0, Math.min(100, intensity));
                } catch (error) {
                    console.error('OS„Ç®„Éç„É´„ÇÆ„ÉºË®àÁÆó„Ç®„É©„Éº:', error);
                    return 0;
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            calculateComplementarity(os1, os2) {
                // 2„Å§„ÅÆOSÈñì„ÅÆË£úÂÆåÊÄß„ÇíË®àÁÆó
                return Math.random() * 100; // Á∞°Áï•ÂÆüË£Ö
            
            getTrigramStability(upperTrigram, lowerTrigram) {
                // ‰∏âÁàªÁµÑ„ÅøÂêà„Çè„Åõ„ÅÆÂÆâÂÆöÊÄß„ÇíË©ï‰æ°
                const stabilityScores = {
                    "‰πæ": 85, "ÂÖå": 75, "Èõ¢": 70, "Èúá": 65,
                    "Â∑Ω": 72, "Âùé": 68, "ËâÆ": 90, "Âù§": 95
                };
                
                return (stabilityScores[upperTrigram] + stabilityScores[lowerTrigram]) / 2;
            
            calculateOSDiversity(engineOS, interfaceOS, safeModeOS) {
                // OSÈñì„ÅÆÂ§öÊßòÊÄß„ÇíË©ï‰æ°
                const uniqueTrigrams = new Set([
                    engineOS.upperTrigram, engineOS.lowerTrigram,
                    interfaceOS.upperTrigram, interfaceOS.lowerTrigram,
                    safeModeOS.upperTrigram, safeModeOS.lowerTrigram
                ]).size;
                
                return (uniqueTrigrams / 8) * 100; // 8„ÅØÂÖ®‰∏âÁàªÊï∞
            
            calculateFlexibility(engineOS, interfaceOS, safeModeOS) {
                // „Ç∑„Çπ„ÉÜ„É†„ÅÆÊüîËªüÊÄß„ÇíË©ï‰æ°
                return 70; // Á∞°Áï•ÂÆüË£Ö
            
            assessHexagramPrincipleAlignment(hexagram, os) {
                // Âç¶„ÅÆÂéüÁêÜ„Å®„ÅÆÊï¥ÂêàÊÄß„ÇíË©ï‰æ°
                return 80; // Á∞°Áï•ÂÆüË£Ö
            
            assessTianEmbodiment(engineOS) {
                // Â§©„ÅÆ‰ΩìÁèæÂ∫¶ÔºàÂâµÈÄ†ÊÄß„ÉªÁ≤æÁ•ûÊÄßÔºâ
                return 75; // Á∞°Áï•ÂÆüË£Ö
            
            assessRenEmbodiment(interfaceOS) {
                // ‰∫∫„ÅÆ‰ΩìÁèæÂ∫¶ÔºàÁ§æ‰ºöÊÄß„ÉªÈñ¢‰øÇÊÄßÔºâ
                return 70; // Á∞°Áï•ÂÆüË£Ö
            
            assessDiEmbodiment(safeModeOS) {
                // Âú∞„ÅÆ‰ΩìÁèæÂ∫¶ÔºàÂü∫Áõ§„ÉªÂÆâÂÆöÊÄßÔºâ
                return 80; // Á∞°Áï•ÂÆüË£Ö
            
            calculateYinYangBalance(osArray) {
                // Èô∞ÈôΩ„Éê„É©„É≥„Çπ„ÇíË®àÁÆó
                return 65; // Á∞°Áï•ÂÆüË£Ö
            
            calculateComplementaryBalance(engineOS, interfaceOS, safeModeOS) {
                // Ë£úÂÆå„Éê„É©„É≥„Çπ„ÇíË®àÁÆó
                return 70; // Á∞°Áï•ÂÆüË£Ö
            
            getWuxingElement(os) {
                // OS„ÅÆ‰∫îË°åÂ±ûÊÄß„ÇíÂèñÂæó
                const elements = ["Êú®", "ÁÅ´", "Âúü", "Èáë", "Ê∞¥"];
                return elements[os.hexagramId % 5];
            
            calculateWuxingSynergyScore(elements) {
                // ‰∫îË°åÁõ∏Áîü„Çπ„Ç≥„Ç¢„ÇíË®àÁÆó
                return 60; // Á∞°Áï•ÂÆüË£Ö
            
            validateEngineInfluence(engineOS) {
                return { valid: true, score: 85 };
            
            validateScenarioInfluence(interfaceOS, safeModeOS) {
                return { valid: true, score: 80 };
            
            validateEngineToInterfaceFlow(engineOS, interfaceOS) {
                return { valid: true, influenceRate: 0.3 };
            
            validateEngineToSafeModeFlow(engineOS, safeModeOS) {
                return { valid: true, influenceRate: 0.4 };
            
            checkOSErrorHandling(os) {
                // OS„ÅÆ„Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞ËÉΩÂäõ„Çí„ÉÅ„Çß„ÉÉ„ÇØ
                return os && os.hexagramId ? 0.9 : 0.3;
            
            /**
             * „Éá„Éï„Ç©„É´„ÉàTriple OSÁµêÊûúÔºà„Ç®„É©„ÉºÊôÇ„ÅÆ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºâ
             */
            getDefaultTripleOSResults() {
                return {
                    engineOS: {
                        hexagramId: 1,
                        hexagramName: "‰πæÁÇ∫Â§©",
                        upperTrigram: "‰πæ",
                        lowerTrigram: "‰πæ",
                        description: "ÂâµÈÄ†ÊÄß„Å®ÂÆüË°åÂäõ„ÅÆÂü∫Áõ§„Ç∑„Çπ„ÉÜ„É†Ôºà„Éá„Éï„Ç©„É´„ÉàÔºâ",
                        type: "Engine OS"
                    interfaceOS: {
                        hexagramId: 11,
                        hexagramName: "Âú∞Â§©Ê≥∞",
                        upperTrigram: "Âù§",
                        lowerTrigram: "‰πæ",
                        description: "Ë™øÂíåÁöÑ„Å™Á§æ‰ºöÁöÑ„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„Ç∑„Çπ„ÉÜ„É†Ôºà„Éá„Éï„Ç©„É´„ÉàÔºâ",
                        type: "Interface OS"
                    safeModeOS: {
                        hexagramId: 2,
                        hexagramName: "Âù§ÁÇ∫Âú∞",
                        upperTrigram: "Âù§",
                        lowerTrigram: "Âù§",
                        description: "ÂÆâÂÆöÊÄßÈáçË¶ñ„ÅÆÈò≤Âæ°„Ç∑„Çπ„ÉÜ„É†Ôºà„Éá„Éï„Ç©„É´„ÉàÔºâ",
                        type: "SafeMode OS"
                    integration: {
                        consistency: 50,
                        balance: 50,
                        integration: 50,
                        dataFlow: { isValid: false, error: "Default fallback mode" },
                        recommendations: [{
                            type: "system_recovery",
                            priority: "high",
                            title: "„Ç∑„Çπ„ÉÜ„É†Âæ©Êóß",
                            description: "Triple OSÂàÜÊûê„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åü„Åü„ÇÅ„ÄÅ„Éá„Éï„Ç©„É´„ÉàÁµêÊûú„ÇíË°®Á§∫„Åó„Å¶„ÅÑ„Åæ„Åô",
                            action: "ÂÜçÂ∫¶ÂàÜÊûê„ÇíÂÆüË°å„Åô„Çã„Åã„ÄÅÂÖ•ÂäõÂÜÖÂÆπ„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
                        }],
                        timestamp: Date.now(),
                        status: "fallback"
                    consistencyScore: 50,
                    balanceScore: 50,
                    HaQeiIntegration: 50,
                    recommendations: [{
                        type: "system_recovery",
                        priority: "high",
                        title: "„Ç∑„Çπ„ÉÜ„É†Âæ©Êóß„ÅåÂøÖË¶Å",
                        description: "ÂàÜÊûê„Ç∑„Çπ„ÉÜ„É†„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ„Éá„Éï„Ç©„É´„ÉàÁµêÊûú„ÇíË°®Á§∫„Åó„Å¶„ÅÑ„Åæ„Åô",
                        action: "„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶ÂÜçÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ"
                    }],
                    validationStatus: "error",
                    timestamp: Date.now(),
                    errorMode: true
                };
        
        // 7. Áä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
        class HAQEIState {
            constructor() {
                this.currentQuestion = 0;
                this.answers = [];
                this.userVector = {};
                this.tripleOSResults = null;
                this.isAnalyzing = false;
                
                this.loadState();
            }
            
            saveState() {
                try {
                    const state = {
                        currentQuestion: this.currentQuestion,
                        answers: this.answers,
                        userVector: this.userVector,
                        timestamp: Date.now()
                    };
                    localStorage.setItem('haqei_state', JSON.stringify(state));
                } catch (error) {
                    console.warn('‚ö†Ô∏è Failed to save state:', error);
                }
            }
            
            loadState() {
                try {
                    const saved = localStorage.getItem('haqei_state');
                    if (saved) {
                        const state = JSON.parse(saved);
                        // 1ÊôÇÈñì‰ª•ÂÜÖ„ÅÆ„Éá„Éº„Çø„ÅÆ„ÅøÂæ©ÂÖÉ
                        if (Date.now() - state.timestamp < 3600000) {
                            this.currentQuestion = state.currentQuestion || 0;
                            this.answers = state.answers || [];
                            this.userVector = state.userVector || {};
                } catch (error) {
                    console.warn('‚ö†Ô∏è Failed to load state:', error);
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            clearState() {
                try {
                    localStorage.removeItem('haqei_state');
                } catch (error) {
                    console.warn('‚ö†Ô∏è Failed to clear state:', error);
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            saveAnswer(questionIndex, selectedOption) {
                this.answers[questionIndex] = {
                    questionId: QUESTIONS[questionIndex].id,
                    selectedOption: selectedOption,
                    timestamp: Date.now()
                };
                this.saveState();
            
            getAnswer(questionIndex) {
                return this.answers[questionIndex] || null;
            }
        }
        
        // 8. „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Âà∂Âæ°
        class CriticalCSSAnalyzer {
            constructor() {
                this.state = new HAQEIState();
                this.tripleOSEngine = new TripleOSEngine();
                this.trigramScores = {};
                
                this.initializeTrigramScores();
                this.bindEvents();
                
                // Âæ©ÂÖÉ„Åï„Çå„ÅüÁä∂ÊÖã„Åå„ÅÇ„Çå„Å∞ÁîªÈù¢„ÇíË°®Á§∫
                if (this.state.currentQuestion > 0) {
                    this.showQuestion(this.state.currentQuestion);
                }
            }
            
            initializeTrigramScores() {
                for (let i = 1; i <= 8; i++) {
                    this.trigramScores[i] = 0;
                }
            }
            
            bindEvents() {
                console.log('üîß Binding events...');
                
                // „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ - with robust error handling
                try {
                    const startBtn = document.getElementById('start-btn');
                    if (startBtn) {
                        console.log('‚úÖ Start button found, binding event');
                        startBtn.addEventListener('click', (e) => {
                            e.preventDefault();
                            console.log('üéØ Start button clicked, calling startAnalysis');
                            this.startAnalysis();
                        });
                    } else {
                        console.error('‚ùå Start button not found!');
                    }
                } catch (error) {
                    console.error('‚ùå Error binding start button:', error);
                }
                } catch (error) {
                    console.error(`‚ùå Operation failed: ${error.message}`);
                    return null; // Default fallback
                
                try {
                    const prevBtn = document.getElementById('prev-btn');
                    if (prevBtn) {
                        prevBtn.addEventListener('click', () => this.previousQuestion());
                        console.log('‚úÖ Prev button event bound');
                    
                    const nextBtn = document.getElementById('next-btn');
                    if (nextBtn) {
                        nextBtn.addEventListener('click', () => this.nextQuestion());
                        console.log('‚úÖ Next button event bound');
                    
                    const restartBtn = document.getElementById('restart-btn');
                    if (restartBtn) {
                        restartBtn.addEventListener('click', () => this.restart());
                        console.log('‚úÖ Restart button event bound');
                    
                    const retryBtn = document.getElementById('retry-btn');
                    if (retryBtn) {
                        retryBtn.addEventListener('click', () => this.restart());
                        console.log('‚úÖ Retry button event bound');
                    
                    // „Ç≠„Éº„Éú„Éº„Éâ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥
                    document.addEventListener('keydown', (e) => this.handleKeydown(e));
                    console.log('‚úÖ Keyboard navigation event bound');
                } catch (error) {
                    console.error('‚ùå Error binding navigation events:', error);
                }
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            handleKeydown(e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    const focused = document.activeElement;
                    if (focused.classList.contains('option')) {
                        e.preventDefault();
                        this.selectOption(focused);
                    }
                }
            
            startAnalysis() {
                console.log('üéØ startAnalysis called!');
                console.log('üîç Attempting to show question screen...');
                this.showScreen('question-screen');
                console.log('üîç Showing first question...');
                this.showQuestion(0);
                this.announce('Ë≥™Âïè„ÅåÈñãÂßã„Åï„Çå„Åæ„Åó„Åü');
                console.log('‚úÖ startAnalysis completed successfully!');
            
            showScreen(screenId) {
                console.log(`üîç showScreen called with: ${screenId}`);
                const screens = document.querySelectorAll('.screen');
                console.log(`üì∫ Found ${screens.length} screens`);
                screens.forEach(screen => {
                    screen.classList.remove('active');
                });
                
                const targetScreen = document.getElementById(screenId);
                if (targetScreen) {
                    targetScreen.classList.add('active');
                    console.log(`‚úÖ Screen ${screenId} is now active`);
                } else {
                    console.error(`‚ùå Screen ${screenId} not found!`);
                }
            
            showQuestion(index) {
                if (index >= QUESTIONS.length) {
                    this.proceedToAnalysis();
                    return;
                
                this.state.currentQuestion = index;
                this.showScreen('question-screen');
                const question = QUESTIONS[index];
                
                // ÈÄ≤Êçó„Éê„ÉºÊõ¥Êñ∞
                const progress = ((index + 1) / QUESTIONS.length) * 100;
                document.getElementById('progress-fill').style.width = `${progress}%`;
                
                // Ë≥™ÂïèË°®Á§∫
                document.getElementById('question-number').textContent = index + 1;
                document.getElementById('question-title').textContent = question.text;
                
                // „Ç™„Éó„Ç∑„Éß„É≥Ë°®Á§∫
                const container = document.getElementById('options-container');
                container.innerHTML = '';
                
                question.options.forEach((option, optionIndex) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'option';
                    optionElement.setAttribute('role', 'radio');
                    optionElement.setAttribute('aria-checked', 'false');
                    optionElement.setAttribute('tabindex', '0');
                    optionElement.innerHTML = `
                        <span class="option-text">${option.text}</span>
                    `;
                    
                    optionElement.addEventListener('click', () => this.selectOption(optionElement, option));
                    container.appendChild(optionElement);
                });
                
                // Êó¢Â≠ò„ÅÆÂõûÁ≠î„Åå„ÅÇ„Çå„Å∞Âæ©ÂÖÉ
                const existingAnswer = this.state.getAnswer(index);
                if (existingAnswer) {
                    const selectedOption = existingAnswer.selectedOption;
                    const optionElements = container.querySelectorAll('.option');
                    optionElements.forEach((elem, idx) => {
                        if (question.options[idx].value === selectedOption.value) {
                            elem.classList.add('selected');
                            elem.setAttribute('aria-checked', 'true');
                        }
                    });
                    document.getElementById('next-btn').disabled = false;
                
                // „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Éú„Çø„É≥Êõ¥Êñ∞
                document.getElementById('prev-btn').disabled = index === 0;
                if (!existingAnswer) {
                    document.getElementById('next-btn').disabled = true;
                
                this.announce(`Ë≥™Âïè${index + 1}: ${question.text}`);
            
            selectOption(element, option) {
                // Êó¢Â≠ò„ÅÆÈÅ∏Êäû„ÇíËß£Èô§
                element.parentNode.querySelectorAll('.option').forEach(opt => {
                    opt.classList.remove('selected');
                    opt.setAttribute('aria-checked', 'false');
                });
                
                // Êñ∞„Åó„ÅÑÈÅ∏Êäû„ÇíË®≠ÂÆö
                element.classList.add('selected');
                element.setAttribute('aria-checked', 'true');
                
                // ÂõûÁ≠î„Çí‰øùÂ≠òÔºàÁä∂ÊÖãÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†ÁµåÁî±Ôºâ
                this.state.saveAnswer(this.state.currentQuestion, option);
                
                // Ê¨°„Å∏„Éú„Çø„É≥„ÇíÊúâÂäπÂåñ
                document.getElementById('next-btn').disabled = false;
                
                this.announce(`ÈÅ∏Êäû„Åï„Çå„Åæ„Åó„Åü: ${option.text}`);
            
            nextQuestion() {
                if (this.state.currentQuestion < QUESTIONS.length - 1) {
                    this.showQuestion(this.state.currentQuestion + 1);
                } else {
                    this.proceedToAnalysis();
                }
            
            previousQuestion() {
                if (this.state.currentQuestion > 0) {
                    this.showQuestion(this.state.currentQuestion - 1);
                }
            
            async proceedToAnalysis() {
                try {
                    this.showScreen('analysis-screen');
                    this.announce('ÂàÜÊûê„ÇíÈñãÂßã„Åó„Å¶„ÅÑ„Åæ„Åô');
                    this.state.isAnalyzing = true;
                    
                    // Triple OSÂàÜÊûê„ÇíÂÆüË°å
                    await this.delay(1500); // UIÊºîÂá∫
                    
                    // ÂõûÁ≠î„Éá„Éº„Çø„ÅÆÂ§âÊèõ
                    const allAnswers = this.state.answers.filter(answer => answer && answer.selectedOption);
                    
                    // Triple OS„Ç®„É≥„Ç∏„É≥„Å´„Çà„ÇãÂàÜÊûê
                    const tripleOSResults = await this.tripleOSEngine.analyzeTripleOS(allAnswers);
                    
                    // ÁµêÊûú„ÇíÁä∂ÊÖã„Å´‰øùÂ≠ò
                    this.state.tripleOSResults = tripleOSResults;
                    
                    // ÁµêÊûúË°®Á§∫
                    this.showResults(tripleOSResults);
                    
                } catch (error) {
                    console.error('‚ùå Analysis failed:', error);
                    this.showError('ÂàÜÊûê‰∏≠„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü: ' + error.message);
                } finally {
                    this.state.isAnalyzing = false;
                }
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
            
            calculateTrigramScores() {
                this.initializeTrigramScores();
                
                this.answers.forEach(answer => {
                    if (answer && answer.trigrams) {
                        answer.trigrams.forEach(trigramId => {
                            this.trigramScores[trigramId]++;
                        });
                    }
                });
            
            calculateOSScores() {
                const osScores = {};
                
                Object.keys(TRIPLE_OS).forEach(osName => {
                    const os = TRIPLE_OS[osName];
                    let score = 0;
                    
                    os.trigrams.forEach(trigramId => {
                        score += this.trigramScores[trigramId] || 0;
                    });
                    
                    osScores[osName] = {
                        ...os,
                        score: score,
                        percentage: Math.round((score / (QUESTIONS.length * 2)) * 100)
                    };
                });
                
                return osScores;
            
            // üöÄ Èù©Êñ∞ÁöÑ4Â±§ÊßãÈÄ†ÁµêÊûúË°®Á§∫„Ç∑„Çπ„ÉÜ„É† - ÂÆåÂÖ®„É™„Éï„Ç°„ÇØ„Çø„É™„É≥„Ç∞Áâà
            showResults(tripleOSResults) {
                // „Éá„Éê„ÉÉ„Ç∞: Âèó„ÅëÂèñ„Å£„Åü„Éá„Éº„Çø„ÅÆÁ¢∫Ë™ç
                if (!tripleOSResults || !tripleOSResults.engineOS) {
                    console.error('Triple OSÁµêÊûú„Åå‰∏çÂÆåÂÖ®„Åß„Åô:', tripleOSResults);
                    this.showError('ÁµêÊûú„ÅÆÁîüÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ');
                    return;
                
                this.showScreen('results-screen');
                
                // 4Â±§ÊßãÈÄ†„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ÂàùÊúüÂåñ
                this.initializeLayerNavigation();
                
                // Âü∫Êú¨Â±§: ÊîπËâØ„Åï„Çå„ÅüOS„Ç´„Éº„ÉâË°®Á§∫
                this.renderBasicLayer(tripleOSResults);
                
                // Ë©≥Á¥∞Â±§: ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„ÉºÂàÜÊûê
                this.renderDetailedLayer(tripleOSResults);
                
                // Â∞ÇÈñÄÂ±§: 64Âç¶ÂÆåÂÖ®Ëß£Èáà
                this.renderExpertLayer(tripleOSResults);
                
                // Áµ±ÂêàÂ±§: HaQeiÂì≤Â≠¶Áµ±Âêà
                this.renderIntegratedLayer(tripleOSResults);
                
                // „Çµ„Éû„É™„ÉºÁîüÊàê
                this.generateTripleOSSummary(tripleOSResults);
                
                // „Éá„Éº„Çø‰øùÂ≠ò
                this.saveResults(tripleOSResults);
                
                // üö® Áµ∂ÂØæË¶Å‰ª∂: Á∞°Êòì„Ç¢„Éâ„Éê„Ç§„ÇπÊ©üËÉΩËøΩÂä†
                this.displayQuickAdvice(tripleOSResults);
                
                // üö® Áµ∂ÂØæË¶Å‰ª∂: ÁêÜË´ñÁöÑÁâπÊÄßÂàÜÊûêË°®Á§∫
                this.showTheoreticalCharacteristics(tripleOSResults);
                
                // „Ç¢„Éä„Ç¶„É≥„Çπ
                this.announce('Èù©Êñ∞ÁöÑTriple OSÂàÜÊûê„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü - 4Â±§„ÅÆË§áÈõëÊÄß„Çí„ÅäÊ•Ω„Åó„Åø„Åè„Å†„Åï„ÅÑ');
                
                // console.log('üîØ Revolutionary 4-Layer Results System Activated');
            
            // 4Â±§„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Ç∑„Çπ„ÉÜ„É†ÂàùÊúüÂåñ
            initializeLayerNavigation() {
                const tabBtns = document.querySelectorAll('.tab-btn');
                const layerContents = document.querySelectorAll('.layer-content');
                
                tabBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        const targetLayer = btn.getAttribute('data-layer');
                        
                        // „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Çø„ÉñÂàá„ÇäÊõø„Åà
                        tabBtns.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        
                        // „É¨„Ç§„É§„ÉºË°®Á§∫Âàá„ÇäÊõø„Åà
                        layerContents.forEach(content => {
                            content.classList.remove('active');
                            if (content.getAttribute('data-layer') === targetLayer) {
                                content.classList.add('active');
                            }
                        });
                        
                        // „Ç¢„Éä„Ç¶„É≥„Çπ
                        const layerNames = {
                            'basic': 'Âü∫Êú¨Â±§ - OS„ÅÆÊ¶ÇË¶Å',
                            'detailed': 'Ë©≥Á¥∞Â±§ - ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„ÉºÂàÜÊûê',
                            'expert': 'Â∞ÇÈñÄÂ±§ - 64Âç¶Ëß£Èáà„Ç∑„Çπ„ÉÜ„É†',
                            'integrated': 'Áµ±ÂêàÂ±§ - HaQeiÂì≤Â≠¶Áµ±Âêà'
                        };
                        this.announce(`${layerNames[targetLayer]}„Å´Âàá„ÇäÊõø„Åà„Åæ„Åó„Åü`);
                    });
                });
            
            // Âü∫Êú¨Â±§: ÊîπËâØ„Åï„Çå„ÅüOS„Ç´„Éº„Éâ + Triple OSÁõ∏‰∫íÈñ¢‰øÇÂèØË¶ñÂåñ
            renderBasicLayer(tripleOSResults) {
                // OS„Ç´„Éº„ÉâË°®Á§∫
                const container = document.getElementById('os-cards-container');
                container.innerHTML = '';
                
                // ÊîπËâØ„Åï„Çå„ÅüOS„Ç´„Éº„ÉâÁîüÊàê
                const engineCard = this.createEnhancedOSCard('Engine OS', tripleOSResults.engineOS, '#6366f1');
                const interfaceCard = this.createEnhancedOSCard('Interface OS', tripleOSResults.interfaceOS, '#8b5cf6');
                const safeModeCard = this.createEnhancedOSCard('Safe Mode OS', tripleOSResults.safeModeOS, '#10b981');
                
                container.appendChild(engineCard);
                container.appendChild(interfaceCard);  
                container.appendChild(safeModeCard);
                
                // Triple OSÁõ∏‰∫íÈñ¢‰øÇÂèØË¶ñÂåñ
                this.renderOSInteractionVisualization(tripleOSResults);
                
                // ÂãïÁöÑ„Éê„É©„É≥„ÇπË°®Á§∫
                this.renderDynamicBalance(tripleOSResults);
            
            // Ë©≥Á¥∞Â±§: 8Ê¨°ÂÖÉ„Éô„ÇØ„Éà„É´ÂèØË¶ñÂåñ + ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„ÉºÂàÜÊûê
            renderDetailedLayer(tripleOSResults) {
                // 8Ê¨°ÂÖÉ„É¨„Éº„ÉÄ„Éº„ÉÅ„É£„Éº„Éà
                this.render8DimensionalRadar(tripleOSResults);
                
                // ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„Éº„Éê„É©„É≥„ÇπÂàÜÊûê
                this.renderTrigramEnergyAnalysis(tripleOSResults);
                
                // „Ç®„Éç„É´„ÇÆ„Éº„Éï„É≠„ÉºÂèØË¶ñÂåñ
                this.renderEnergyFlowVisualization(tripleOSResults);
            
            // Â∞ÇÈñÄÂ±§: 64Âç¶ÂÆåÂÖ®Ëß£Èáà„Ç∑„Çπ„ÉÜ„É†
            renderExpertLayer(tripleOSResults) {
                // Ë©≥Á¥∞„Å™Âç¶ÂàÜÊûê
                this.renderDetailedHexagramAnalysis(tripleOSResults);
                
                // Â§âÂç¶„Ç∑„Çπ„ÉÜ„É†
                this.renderChangeHexagramSystem(tripleOSResults);
                
                // Âè§ÂÖ∏ÁöÑwisdomÔºàÂç¶Ëæû„ÉªÁàªËæûÔºâ
                this.renderClassicalWisdom(tripleOSResults);
            
            // Áµ±ÂêàÂ±§: HaQeiÂì≤Â≠¶Áµ±Âêà„Å®„Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫„ÉâÊ¥ûÂØü
            renderIntegratedLayer(tripleOSResults) {
                // HaQeiÂì≤Â≠¶Áµ±Âêàwisdom
                this.renderHaQeiWisdom(tripleOSResults);
                
                // „Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫„ÉâÊ¥ûÂØüÁîüÊàê
                this.renderPersonalizedInsights(tripleOSResults);
                
                // ÂÆüË∑µÁöÑÊà¶Áï•ÊèêÊ°à
                this.renderPracticalStrategies(tripleOSResults);
            
            // üéØ Triple OSÁõ∏‰∫íÈñ¢‰øÇ„É¨„Éº„ÉÄ„Éº„ÉÅ„É£„Éº„Éà (Chart.js Phase2ÂÆåÂÖ®ÂÆüË£Ö)
            renderTripleOSRadarChart(tripleOSResults) {
                const canvas = document.getElementById('os-interaction-chart');
                if (!canvas) {
                    console.error('Canvas element not found: os-interaction-chart');
                    return;
                
                const ctx = canvas.getContext('2d');
                if (!ctx) {
                    console.error('2D context not available for os-interaction-chart');
                    return;
                
                // Êó¢Â≠ò„ÅÆ„ÉÅ„É£„Éº„Éà„ÇíÁ†¥Ê£Ñ
                if (this.osInteractionChart) {
                    this.osInteractionChart.destroy();
                
                // Áõ∏‰∫íÈñ¢‰øÇ„Éá„Éº„Çø„ÅÆË®àÁÆó
                const interactionData = this.calculateOSInteractionData(tripleOSResults);
                
                try {
                    this.osInteractionChart = new Chart(ctx, {
                        type: 'radar',
                    data: {
                        labels: [
                            'Engine‚ÜíInterfaceÂΩ±ÈüøÂ∫¶',
                            'Interface‚ÜíSafeModeÂΩ±ÈüøÂ∫¶', 
                            'SafeMode‚ÜíEngineÂΩ±ÈüøÂ∫¶',
                            'EngineËá™ÂæãÊÄß',
                            'InterfaceÈÅ©ÂøúÊÄß',
                            'SafeModeÂÆâÂÆöÊÄß',
                            '„Ç∑„Çπ„ÉÜ„É†Áµ±ÂêàÂ∫¶',
                            '„Éê„É©„É≥„ÇπË™øÂíåÊÄß'
                        ],
                        datasets: [{
                            label: 'Triple OSÂãïÁöÑÈñ¢‰øÇ',
                            data: interactionData,
                            backgroundColor: 'rgba(99, 102, 241, 0.1)',
                            borderColor: 'rgba(99, 102, 241, 0.8)',
                            borderWidth: 3,
                            pointBackgroundColor: [
                                '#6366f1', '#8b5cf6', '#10b981', '#6366f1',
                                '#8b5cf6', '#10b981', '#a855f7', '#fbbf24'
                            ],
                            pointBorderColor: '#ffffff',
                            pointBorderWidth: 2,
                            pointRadius: 6
                        }]
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#e2e8f0',
                                    font: { size: 14 }
                                }
                            }
                        },
                        scales: {
                            r: {
                                angleLines: {
                                    color: 'rgba(99, 102, 241, 0.3)'
                                },
                                grid: {
                                    color: 'rgba(99, 102, 241, 0.2)'
                                },
                                pointLabels: {
                                    color: '#cbd5e1',
                                    font: { size: 12 }
                                },
                                ticks: {
                                    color: '#94a3b8',
                                    backdropColor: 'transparent'
                                }
                            }
                        }
                    }
                    });
                } catch (error) {
                    console.error('Chart creation failed for os-interaction-chart:', error);
                }
                } catch (error) {
                    console.error(`‚ùå Error: ${error.message}`);
                    return null;
                
            
            // ÂãïÁöÑ„Éê„É©„É≥„ÇπË°®Á§∫
            renderDynamicBalance(tripleOSResults) {
                const balanceDisplay = document.getElementById('dynamic-balance-display');
                const balance = this.calculateDynamicBalance(tripleOSResults);
                
                balanceDisplay.innerHTML = `
                    <h4 style="color: var(--primary-100); margin-bottom: var(--space-md); text-align: center;">
                        üîÑ ÂãïÁöÑ„Éê„É©„É≥„ÇπÂàÜÊûê
                    </h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-md);">
                        <div class="balance-metric">
                            <div class="metric-label">‰∏ªÂ∞é„Ç∑„Çπ„ÉÜ„É†</div>
                            <div class="metric-value" style="color: ${balance.dominantColor};">${balance.dominantOS}</div>
                        </div>
                        <div class="balance-metric">
                            <div class="metric-label">„Ç∑„Çπ„ÉÜ„É†ÂçîË™øÂ∫¶</div>
                            <div class="metric-value" style="color: var(--accent-400);">${balance.coordination}%</div>
                        </div>
                        <div class="balance-metric">
                            <div class="metric-label">ÈÅ©ÂøúÊüîËªüÊÄß</div>
                            <div class="metric-value" style="color: var(--success-500);">${balance.flexibility}%</div>
                        </div>
                        <div class="balance-metric">
                            <div class="metric-label">„Çπ„Éà„É¨„ÇπËÄêÊÄß</div>
                            <div class="metric-value" style="color: var(--warning-500);">${balance.resilience}%</div>
                        </div>
                    </div>
                    <div style="margin-top: var(--space-md); padding: var(--space-md); background: rgba(99, 102, 241, 0.05); border-radius: var(--radius-md); border: 1px solid rgba(99, 102, 241, 0.2);">
                        <p style="color: var(--primary-200); line-height: 1.6;">
                            ${balance.analysis}
                        </p>
                    </div>
                `;
                
                // „É°„Éà„É™„ÇØ„Çπ„Çπ„Çø„Ç§„É´ËøΩÂä†
                const style = document.createElement('style');
                style.textContent = `
                    .balance-metric {
                        text-align: center;
                        padding: var(--space-md);
                        background: rgba(15, 23, 42, 0.6);
                        border-radius: var(--radius-md);
                        border: 1px solid rgba(99, 102, 241, 0.2);
                    }
                    .metric-label {
                        font-size: var(--font-sm);
                        color: var(--primary-300);
                        margin-bottom: var(--space-xs);
                    }
                    .metric-value {
                        font-size: var(--font-lg);
                        font-weight: 700;
                    }
                `;
                document.head.appendChild(style);
            
            // üé® ÊîπËâØ„Åï„Çå„ÅüOS„Ç´„Éº„Éâ‰ΩúÊàê„Ç∑„Çπ„ÉÜ„É†Ôºà‰ªÆÊÉ≥‰∫∫Ê†ºÂº∑ÂåñÁâàÔºâ
            createEnhancedOSCard(osName, osData, color) {
                // „Éá„Éº„ÇøÊ§úË®º
                if (!osData) {
                    console.error(`${osName}„ÅÆ„Éá„Éº„Çø„ÅåÁ©∫„Åß„Åô`);
                    osData = {
                        hexagramId: 0,
                        hexagramName: 'Ë®àÁÆó‰∏≠',
                        catchphrase: '„Éá„Éº„ÇøÂèñÂæó‰∏≠',
                        description: '„Åó„Å∞„Çâ„Åè„ÅäÂæÖ„Å°„Åè„Å†„Åï„ÅÑ',
                        trigramEnergies: {}
                    };
                
                const card = document.createElement('div');
                card.className = 'os-card card';
                card.style.setProperty('--card-color', color);
                card.style.borderColor = color + '40';
                
                // ‰ªÆÊÉ≥‰∫∫Ê†º„Çø„Ç§„Éó„ÅÆÊ±∫ÂÆö
                const osType = osName === 'Engine OS' ? 'engine' : 
                              osName === 'Interface OS' ? 'interface' : 'safemode';
                
                // ‰ªÆÊÉ≥‰∫∫Ê†º„Ç®„É≥„Éè„É≥„Çπ„É°„É≥„Éà
                const personaEnhancer = window.virtualPersonaEnhancer;
                const personaCard = personaEnhancer ? personaEnhancer.generatePersonaCard(osData, osType) : '';
                
                // HaQeiÊ∫ñÊã†„ÅÆË°®ÁèæÔºàÊ±∫ÂÆöË´ñÁöÑÂõûÈÅøÔºâ
                const confidenceText = osName === 'Engine OS' ? 
                    '„ÅÇ„Å™„Åü„ÅÆÊ∑±Â±§‰æ°ÂÄ§Ë¶≥„Å®„Åó„Å¶ÂèÇËÄÉ„Å´„Åó„Å¶„ÅÑ„Åü„Å†„Åë„Çã' : 
                    osName === 'Interface OS' ?
                    'Á§æ‰ºöÁöÑ„Å™ÂÅ¥Èù¢„ÅÆ‰∏Ä„Å§„ÅÆË¶ñÁÇπ„Å®„Åó„Å¶' :
                    'Âõ∞Èõ£„Å™Áä∂Ê≥Å„Åß„ÅÆÂØæÂá¶„Éë„Çø„Éº„É≥„ÅÆ‰∏Ä„Å§„Å®„Åó„Å¶';
                
                // „Ç®„Éç„É´„ÇÆ„ÉºÂàÜÂ∏É„ÅÆÂèØË¶ñÂåñ„Éá„Éº„Çø
                const energyData = osData.trigramEnergies || {};
                const energyBars = Object.entries(energyData).map(([trigram, energy]) => `
                    <div class="energy-bar">
                        <span class="energy-label">${trigram}</span>
                        <div class="energy-progress">
                            <div class="energy-fill" style="width: ${energy}%; background: ${color};"></div>
                        </div>
                        <span class="energy-value">${Math.round(energy)}%</span>
                    </div>
                `).join('');
                
                card.innerHTML = `
                    <div class="os-header">
                        <div class="os-name">${osName}</div>
                        <div class="os-score" style="color: ${color};">${osData.hexagramName || 'ÂàÜÊûê‰∏≠'}</div>
                    </div>
                    
                    ${personaCard}
                    
                    <div class="os-catchphrase" style="color: ${color}; font-weight: bold; margin: var(--space-sm) 0;">
                        „Äå${osData.catchphrase || '„Ç∑„Çπ„ÉÜ„É†ÂàÜÊûê‰∏≠...'}„Äç
                    </div>
                    
                    <div class="os-description">${osData.description || '„Ç∑„Çπ„ÉÜ„É†ÂàÜÊûê‰∏≠...'}</div>
                    
                    <div class="os-energy-section">
                        <h5 style="color: var(--primary-200); margin-bottom: var(--space-sm); font-size: var(--font-sm);">
                            ‚òä „Ç®„Éç„É´„ÇÆ„ÉºÂàÜÂ∏É
                        </h5>
                        <div class="energy-bars">
                            ${energyBars}
                        </div>
                    </div>
                    
                    <div class="os-meta">
                        <div style="color: var(--primary-400); font-size: var(--font-sm); line-height: 1.5;">
                            ${confidenceText}ÂàÜÊûêÁµêÊûú„Åß„Åô
                        </div>
                        ${osData.catchphrase ? `
                            <div style="margin-top: var(--space-sm); font-style: italic; color: ${color}; font-weight: 500;">
                                "${osData.catchphrase}"
                            </div>
                        ` : ''}
                    </div>
                `;
                
                // „Ç®„Éç„É´„ÇÆ„Éº„Éê„Éº„Çπ„Çø„Ç§„É´ËøΩÂä†
                const energyStyle = document.createElement('style');
                energyStyle.textContent = `
                    .os-energy-section {
                        margin: var(--space-md) 0;
                        padding: var(--space-sm);
                        background: rgba(15, 23, 42, 0.4);
                        border-radius: var(--radius-sm);
                    }
                    .energy-bars {
                        display: flex;
                        flex-direction: column;
                        gap: var(--space-xs);
                    }
                    .energy-bar {
                        display: flex;
                        align-items: center;
                        gap: var(--space-sm);
                        font-size: var(--font-sm);
                    }
                    .energy-label {
                        min-width: 3rem;
                        color: var(--primary-300);
                        font-weight: 500;
                    }
                    .energy-progress {
                        flex: 1;
                        height: 8px;
                        background: rgba(15, 23, 42, 0.8);
                        border-radius: 4px;
                        overflow: hidden;
                    }
                    .energy-fill {
                        height: 100%;
                        border-radius: 4px;
                        transition: width 0.8s ease;
                    }
                    .energy-value {
                        min-width: 2.5rem;
                        text-align: right;
                        color: var(--primary-200);
                        font-weight: 600;
                    }
                `;
                document.head.appendChild(energyStyle);
                
                return card;
            
            // üî¢ OSÁõ∏‰∫íÈñ¢‰øÇ„Éá„Éº„ÇøË®àÁÆó
            calculateOSInteractionData(tripleOSResults) {
                const { engineOS, interfaceOS, safeModeOS, integration } = tripleOSResults;
                
                // Áõ∏‰∫íÈñ¢‰øÇÂº∑Â∫¶Ë®àÁÆóÔºà8Ê¨°ÂÖÉÂàÜÊûêÔºâ
                return [
                    this.calculateInfluenceStrength(engineOS, interfaceOS),     // Engine‚ÜíInterface
                    this.calculateInfluenceStrength(interfaceOS, safeModeOS),  // Interface‚ÜíSafeMode  
                    this.calculateInfluenceStrength(safeModeOS, engineOS),     // SafeMode‚ÜíEngine
                    this.calculateAutonomyIndex(engineOS),                     // EngineËá™ÂæãÊÄß
                    this.calculateAdaptabilityIndex(interfaceOS),              // InterfaceÈÅ©ÂøúÊÄß
                    this.calculateStabilityIndex(safeModeOS),                  // SafeModeÂÆâÂÆöÊÄß
                    integration?.consistency || 75,                            // „Ç∑„Çπ„ÉÜ„É†Áµ±ÂêàÂ∫¶
                    integration?.balance || 70                                 // „Éê„É©„É≥„ÇπË™øÂíåÊÄß
                ];
            
            calculateInfluenceStrength(sourceOS, targetOS) {
                const sourceEnergies = sourceOS.trigramEnergies || {};
                const targetEnergies = targetOS.trigramEnergies || {};
                
                // ÂÖ±ÈÄö‰∏âÁàª„ÅÆÈáçË§áÂ∫¶„Åã„ÇâÁõ∏‰∫íÂΩ±Èüø„ÇíË®àÁÆó
                let totalInfluence = 0;
                let commonTrigrams = 0;
                
                Object.keys(sourceEnergies).forEach(trigram => {
                    if (targetEnergies[trigram]) {
                        totalInfluence += Math.min(sourceEnergies[trigram], targetEnergies[trigram]);
                        commonTrigrams++;
                    }
                });
                
                return commonTrigrams > 0 ? Math.round(totalInfluence / commonTrigrams) : 50;
            
            calculateAutonomyIndex(engineOS) {
                const energies = engineOS.trigramEnergies || {};
                const maxEnergy = Math.max(...Object.values(energies));
                const avgEnergy = Object.values(energies).reduce((a, b) => a + b, 0) / Object.keys(energies).length;
                return Math.round((maxEnergy / avgEnergy) * 15); // Ëá™ÂæãÊÄßÊåáÊ®ô
            
            calculateAdaptabilityIndex(interfaceOS) {
                const energies = interfaceOS.trigramEnergies || {};
                const variance = this.calculateVariance(Object.values(energies));
                return Math.round(Math.max(30, 100 - variance)); // ÈÅ©ÂøúÊÄßÊåáÊ®ô
            
            calculateStabilityIndex(safeModeOS) {
                const energies = safeModeOS.trigramEnergies || {};
                const stability = Object.values(energies).reduce((acc, val) => acc + (val > 60 ? val : 0), 0);
                return Math.round(stability / Object.keys(energies).length);
            
            calculateVariance(values) {
                if (!values || values.length === 0) return 0;
                const mean = values.reduce((a, b) => a + b, 0) / values.length;
                return Math.sqrt(values.reduce((sq, n) => sq + Math.pow(n - mean, 2), 0) / values.length);
            
            // üåä ÂãïÁöÑ„Éê„É©„É≥„ÇπË®àÁÆó
            calculateDynamicBalance(tripleOSResults) {
                const { engineOS, interfaceOS, safeModeOS, integration } = tripleOSResults;
                
                // ÂêÑOS„ÅÆÂº∑Â∫¶Ë®àÁÆó
                const engineStrength = this.calculateOSStrength(engineOS);
                const interfaceStrength = this.calculateOSStrength(interfaceOS);
                const safeModeStrength = this.calculateOSStrength(safeModeOS);
                
                // ‰∏ªÂ∞é„Ç∑„Çπ„ÉÜ„É†ÁâπÂÆö
                const strengths = {
                    'Engine OS': { value: engineStrength, color: '#6366f1' },
                    'Interface OS': { value: interfaceStrength, color: '#8b5cf6' },
                    'Safe Mode OS': { value: safeModeStrength, color: '#10b981' }
                };
                
                const dominantOS = Object.keys(strengths).reduce((a, b) => 
                    strengths[a].value > strengths[b].value ? a : b
                
                // „Éê„É©„É≥„ÇπÊåáÊ®ôË®àÁÆó
                const coordination = Math.round(integration?.consistency || 
                    (100 - Math.abs(engineStrength - interfaceStrength) - Math.abs(interfaceStrength - safeModeStrength)));
                
                const flexibility = Math.round(
                    (interfaceStrength + (100 - Math.max(engineStrength, safeModeStrength))) / 2
                
                const resilience = Math.round(
                    (safeModeStrength + coordination) / 2
                
                // ÂàÜÊûêÊñáÁîüÊàê
                const analysis = this.generateBalanceAnalysis(dominantOS, coordination, flexibility, resilience);
                
                return {
                    dominantOS,
                    dominantColor: strengths[dominantOS].color,
                    coordination,
                    flexibility, 
                    resilience,
                    analysis
                };
            
            calculateOSStrength(osData) {
                const energies = osData.trigramEnergies || {};
                const values = Object.values(energies);
                if (values.length === 0) return 0;
                return Math.round(
                    values.reduce((sum, energy) => sum + energy, 0) / 
                    values.length
            
            generateBalanceAnalysis(dominantOS, coordination, flexibility, resilience) {
                const insights = {
                    'Engine OS': `‰æ°ÂÄ§Ë¶≥„Ç∑„Çπ„ÉÜ„É†„Åå‰∏ªÂ∞éÁöÑ„Åß„Åô„ÄÇ„ÅÇ„Å™„Åü„ÅØÂÜÖÁöÑ„Å™‰ø°Âøµ„ÇÑ‰æ°ÂÄ§Ë¶≥„Å´Âü∫„Å•„ÅÑ„Å¶Ë°åÂãï„Åô„ÇãÂÇæÂêë„ÅåÂº∑„Åè„ÄÅ‰∏ÄË≤´ÊÄß„ÅÆ„ÅÇ„ÇãÂà§Êñ≠„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ`,
                    'Interface OS': `Á§æ‰ºöÁöÑ„Ç∑„Çπ„ÉÜ„É†„Åå‰∏ªÂ∞éÁöÑ„Åß„Åô„ÄÇ‰ªñËÄÖ„Å®„ÅÆÈñ¢‰øÇÊÄß„ÇÑÁä∂Ê≥Å„Å´Âøú„Åò„ÅüÊüîËªü„Å™ÂØæÂøú„ÇíÂæóÊÑè„Å®„Åó„ÄÅÁí∞Â¢É„Å´ÈÅ©Âøú„Åó„Å™„Åå„ÇâÊàêÈï∑„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ`,
                    'Safe Mode OS': `Èò≤Âæ°„Ç∑„Çπ„ÉÜ„É†„Åå‰∏ªÂ∞éÁöÑ„Åß„Åô„ÄÇÂÆâÂÆöÊÄß„Å®ÂÆâÂÖ®ÊÄß„ÇíÈáçË¶ñ„Åó„ÄÅÊÖéÈáç„Å™Âà§Êñ≠„ÇíË°å„ÅÑ„Å™„Åå„Çâ„É™„Çπ„ÇØ„ÇíÊúÄÂ∞èÂåñ„Åô„ÇãÂÇæÂêë„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ`
                };
                
                let analysis = insights[dominantOS];
                
                if (coordination > 80) {
                    analysis += ` 3„Å§„ÅÆ„Ç∑„Çπ„ÉÜ„É†„ÅÆÂçîË™øÊÄß„ÅåÈùûÂ∏∏„Å´È´ò„Åè„ÄÅÁµ±Âêà„Åï„Çå„Åü‰∫∫Ê†º„Å®„Åó„Å¶Ê©üËÉΩ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ`;
                } else if (coordination < 60) {
                    analysis += ` „Ç∑„Çπ„ÉÜ„É†Èñì„ÅÆË™øÊï¥„Å´ÊîπÂñÑ„ÅÆ‰ΩôÂú∞„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÂêÑOS„ÅÆÁâπÊÄß„ÇíÁêÜËß£„Åó„ÄÅ„Éê„É©„É≥„Çπ„ÇíÂèñ„Çã„Åì„Å®„ÅßÊõ¥„Å™„ÇãÊàêÈï∑„ÅåÊúüÂæÖ„Åß„Åç„Åæ„Åô„ÄÇ`;
                
                return analysis;
            
            createOSCard(osName, osData, color) {
                // ÂæåÊñπ‰∫íÊèõÊÄß„ÅÆ„Åü„ÇÅ„ÄÅÊñ∞„Åó„ÅÑcreateEnhancedOSCard„ÇíÂëº„Å≥Âá∫„Åó
                return this.createEnhancedOSCard(osName, osData, color);
            
            // üìä 8Ê¨°ÂÖÉ„Éô„ÇØ„Éà„É´ÂèØË¶ñÂåñ„Ç∑„Çπ„ÉÜ„É† (Chart.js)
            render8DimensionalRadar(tripleOSResults) {
                const canvas = document.getElementById('8d-vector-chart');
                if (!canvas) {
                    console.error('Canvas element not found: 8d-vector-chart');
                    return;
                
                const ctx = canvas.getContext('2d');
                if (!ctx) {
                    console.error('2D context not available for 8d-vector-chart');
                    return;
                
                // Êó¢Â≠ò„ÅÆ„ÉÅ„É£„Éº„Éà„ÇíÁ†¥Ê£Ñ
                if (this.vectorChart) {
                    this.vectorChart.destroy();
                
                // 8Ê¨°ÂÖÉ„Éá„Éº„Çø„ÅÆÁµ±Âêà
                const vectorData = this.calculate8DimensionalVector(tripleOSResults);
                
                try {
                    this.vectorChart = new Chart(ctx, {
                        type: 'radar',
                    data: {
                        labels: [
                            '‰πæ_ÂâµÈÄ†ÊÄß', 'Èúá_Ë°åÂãïÊÄß', 'Âùé_Êé¢Ê±ÇÊÄß', 'ËâÆ_ÂÆâÂÆöÊÄß',
                            'Âù§_ÂèóÂÆπÊÄß', 'Â∑Ω_ÈÅ©ÂøúÊÄß', 'Èõ¢_Ë°®ÁèæÊÄß', 'ÂÖå_Ë™øÂíåÊÄß'
                        ],
                        datasets: [
                            {
                                label: 'Engine OS (‰æ°ÂÄ§Ë¶≥)',
                                data: vectorData.engine,
                                backgroundColor: 'rgba(99, 102, 241, 0.1)',
                                borderColor: 'rgba(99, 102, 241, 0.8)',
                                borderWidth: 2,
                                pointBackgroundColor: '#6366f1'
                            },
                            {
                                label: 'Interface OS (Á§æ‰ºöÊÄß)',
                                data: vectorData.interface,
                                backgroundColor: 'rgba(139, 92, 246, 0.1)',
                                borderColor: 'rgba(139, 92, 246, 0.8)',
                                borderWidth: 2,
                                pointBackgroundColor: '#8b5cf6'
                            },
                            {
                                label: 'Safe Mode OS (Èò≤Âæ°)',
                                data: vectorData.safeMode,
                                backgroundColor: 'rgba(16, 185, 129, 0.1)',
                                borderColor: 'rgba(16, 185, 129, 0.8)',
                                borderWidth: 2,
                                pointBackgroundColor: '#10b981'
                            }
                        ]
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: '#e2e8f0',
                                    font: { size: 12 },
                                    padding: 15
                                }
                            }
                        scales: {
                            r: {
                                beginAtZero: true,
                                min: 0,
                                max: 100,
                                angleLines: {
                                    color: 'rgba(139, 92, 246, 0.3)'
                                },
                                grid: {
                                    color: 'rgba(139, 92, 246, 0.2)'
                                },
                                pointLabels: {
                                    color: '#cbd5e1',
                                    font: { size: 11 }
                                },
                                ticks: {
                                    color: '#94a3b8',
                                    backdropColor: 'transparent',
                                    stepSize: 20
                                }
                            }
                        }
                    }
                });
            }
            } catch (error) {
                console.error(`‚ùå Operation failed: ${error.message}`);
                return null; // Default fallback
            
            // 8Ê¨°ÂÖÉ„Éô„ÇØ„Éà„É´„Éá„Éº„ÇøË®àÁÆó
            // ‚ö° 8Ê¨°ÂÖÉ„Ç®„Éç„É´„ÇÆ„Éº„Éô„ÇØ„Éà„É´Ê•µÂ∫ßÊ®ô„ÉÅ„É£„Éº„Éà
            renderTrigramEnergyPolarChart(tripleOSResults) {
                const canvas = document.getElementById('trigram-energy-polar-chart');
                if (!canvas) return;
                
                const ctx = canvas.getContext('2d');
                
                // Êó¢Â≠ò„ÅÆ„ÉÅ„É£„Éº„Éà„ÇíÁ†¥Ê£Ñ
                if (this.vectorChart) {
                    this.vectorChart.destroy();
                
                // 8Ê¨°ÂÖÉ„Éá„Éº„Çø„ÅÆÁµ±Âêà
                const vectorData = this.calculate8DimensionalVector(tripleOSResults);
                
                this.vectorChart = new Chart(ctx, {
                    type: 'polarArea',
                    data: {
                        labels: [
                            '‰πæ(ÂâµÈÄ†)', 'ÂÖå(Ë™øÂíå)', 'Èõ¢(Ë°®Áèæ)', 'Èúá(Ë°åÂãï)',
                            'Â∑Ω(ÈÅ©Âøú)', 'Âùé(Êé¢Ê±Ç)', 'ËâÆ(ÂÆâÂÆö)', 'Âù§(ÂèóÂÆπ)'
                        ],
                        datasets: [{
                            data: [
                                vectorData.combined.qian || 50,
                                vectorData.combined.dui || 50,
                                vectorData.combined.li || 50,
                                vectorData.combined.zhen || 50,
                                vectorData.combined.xun || 50,
                                vectorData.combined.kan || 50,
                                vectorData.combined.gen || 50,
                                vectorData.combined.kun || 50
                            ],
                            backgroundColor: [
                                '#FFD700', '#87CEEB', '#FF4500', '#8A2BE2',
                                '#32CD32', '#1E90FF', '#708090', '#8B4513'
                            ],
                            borderColor: 'rgba(255, 255, 255, 0.8)',
                            borderWidth: 1
                        }]
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: '8Ê¨°ÂÖÉ„Ç®„Éç„É´„ÇÆ„Éº„Éô„ÇØ„Éà„É´ÂàÜÊûê',
                                color: '#e2e8f0',
                                font: { size: 16, weight: 'bold' }
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: '#cbd5e1',
                                    font: { size: 10 }
                                }
                            }
                        }
                    }
                });
            
            // üå∏ HaQeiË§áÊï∞‰∫∫Ê†ºÂçîË™ø„ÉÅ„É£„Éº„Éà
            renderHaQeiPersonaChart(tripleOSResults) {
                const canvas = document.getElementById('haqei-persona-chart');
                if (!canvas) return;
                
                const ctx = canvas.getContext('2d');
                
                // Êó¢Â≠ò„ÅÆ„ÉÅ„É£„Éº„Éà„ÇíÁ†¥Ê£Ñ
                if (this.personaChart) {
                    this.personaChart.destroy();
                }
                
                const totalEnergy = (
                    this.calculateOSEnergy(tripleOSResults.engineOS) +
                    this.calculateOSEnergy(tripleOSResults.interfaceOS) +
                    this.calculateOSEnergy(tripleOSResults.safeModeOS)
                );
                const enginePercent = ((this.calculateOSEnergy(tripleOSResults.engineOS) / totalEnergy) * 100).toFixed(1);
                const interfacePercent = ((this.calculateOSEnergy(tripleOSResults.interfaceOS) / totalEnergy) * 100).toFixed(1);
                const safeModePercent = ((this.calculateOSEnergy(tripleOSResults.safeModeOS) / totalEnergy) * 100).toFixed(1);
                
                this.personaChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Engine OS (ÂÜÖÁöÑ‰æ°ÂÄ§Ë¶≥)', 'Interface OS (Á§æ‰ºöÈÅ©Âøú)', 'Safe Mode OS (Èò≤Âæ°„Ç∑„Çπ„ÉÜ„É†)'],
                        datasets: [{
                            data: [enginePercent, interfacePercent, safeModePercent],
                            backgroundColor: ['#6366f1', '#8b5cf6', '#10b981'],
                            hoverBackgroundColor: ['#4f46e5', '#7c3aed', '#059669'],
                            borderColor: 'rgba(255, 255, 255, 0.8)',
                            borderWidth: 2
                        }]
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'HaQeiË§áÊï∞‰∫∫Ê†ºÂçîË™ø„Ç∑„Çπ„ÉÜ„É†',
                                color: '#e2e8f0',
                                font: { size: 16, weight: 'bold' }
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: '#cbd5e1',
                                    font: { size: 12 },
                                    padding: 20
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.label}: ${context.parsed}%`;
                                    }
                                }
                            }
                        }
                    }
                });
            
            calculateOSEnergy(osData) {
                if (!osData || !osData.trigramEnergies) return 33.33;
                const energies = Object.values(osData.trigramEnergies);
                return energies.length > 0 ? energies.reduce((a, b) => a + b, 0) / energies.length : 33.33;
            
            calculate8DimensionalVector(tripleOSResults) {
                const { engineOS, interfaceOS, safeModeOS } = tripleOSResults;
                
                return {
                    engine: this.extractTrigramVector(engineOS.trigramEnergies),
                    interface: this.extractTrigramVector(interfaceOS.trigramEnergies),
                    safeMode: this.extractTrigramVector(safeModeOS.trigramEnergies)
                };
            
            // Phase2: ÊòìÁµåÁöÑËß£Èáà„Ç∑„Çπ„ÉÜ„É†
            getTrigramWisdom(trigramIndex, energyValue) {
                const wisdoms = [
                    'ÂâµÈÄ†ÊÄß„ÅÆÂäõ„ÄÇÊñ∞„Åó„ÅÑÂèØËÉΩÊÄß„ÇíÈñã„ÅèÂ§©„ÅÆÂäõ„ÄÇ',
                    'Ë°åÂãïÂäõ„Å®„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó„ÄÇÈõ∑„ÅÆÂ¶Ç„ÅçÁû¨Áô∫Âäõ„ÄÇ',
                    'Êé¢Ê±ÇÂøÉ„Å®Áü•Ë≠òÊ¨≤„ÄÇÊ∞¥„ÅÆÂ¶Ç„ÅçÊ∑±„ÅÑÊ¥ûÂØüÂäõ„ÄÇ',
                    'ÂÆâÂÆöÊÄß„Å®ÊåÅÁ∂öÂäõ„ÄÇÂ±±„ÅÆÂ¶Ç„Åç‰∏çÂãï„ÅÆÊÑèÂøó„ÄÇ',
                    'ÂèóÂÆπÊÄß„Å®ÂåÖÂÆπÂäõ„ÄÇÂ§ßÂú∞„ÅÆÂ¶Ç„ÅçÊØçÊÄßÁöÑÂäõ„ÄÇ',
                    'ÈÅ©ÂøúÊÄß„Å®ÊüîËªüÊÄß„ÄÇÈ¢®„ÅÆÂ¶Ç„ÅçÂ§âÂåñÂØæÂøúÂäõ„ÄÇ',
                    'Ë°®ÁèæÂäõ„Å®ÊòéÊô∞ÊÄß„ÄÇÁÅ´„ÅÆÂ¶Ç„ÅçËºù„ÅèÈ≠ÖÂäõ„ÄÇ',
                    'Ë™øÂíåÊÄß„Å®Á§æ‰∫§ÊÄß„ÄÇÊπñ„ÅÆÂ¶Ç„ÅçÁ©è„ÇÑ„Åã„Å™‰∫§ÊµÅÂäõ„ÄÇ'
                ];
                
                let intensity = 'Âº±„ÅÑ';
                if (energyValue > 75) intensity = 'ÈùûÂ∏∏„Å´Âº∑„ÅÑ';
                else if (energyValue > 50) intensity = 'Âº∑„ÅÑ';
                else if (energyValue > 25) intensity = '‰∏≠Á®ãÂ∫¶„ÅÆ';
                
                return `${intensity}${wisdoms[trigramIndex] || '„Éê„É©„É≥„ÇπË™øÂíåÂäõ'}`;
            }
            
            extractTrigramVector(trigramEnergies) {
                const orderedTrigrams = ['‰πæ', 'Èúá', 'Âùé', 'ËâÆ', 'Âù§', 'Â∑Ω', 'Èõ¢', 'ÂÖå'];
                if (!trigramEnergies) {
                    console.warn('trigramEnergies is undefined, returning zero vector');
                    return orderedTrigrams.map(() => 0);
                }
                return orderedTrigrams.map(trigram => trigramEnergies[trigram] || 0);
            }
            // üî• ‰∏âÁàª„Ç®„Éç„É´„ÇÆ„Éº„Éê„É©„É≥„ÇπÂàÜÊûê
            renderTrigramEnergyAnalysis(tripleOSResults) {
                const container = document.getElementById('trigram-balance-analysis');
                container.innerHTML = '';
                
                const allTrigrams = ['‰πæ', 'ÂÖå', 'Èõ¢', 'Èúá', 'Â∑Ω', 'Âùé', 'ËâÆ', 'Âù§'];
                const trigramDescriptions = {
                    '‰πæ': 'ÂâµÈÄ†ÊÄß„Éª„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó„ÉªÈù©Êñ∞',
                    'ÂÖå': 'Ë™øÂíåÊÄß„Éª„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„ÉªÂñú„Å≥',
                    'Èõ¢': 'Ë°®ÁèæÊÄß„ÉªÁü•ÊÄß„ÉªÁæéÁöÑÊÑüË¶ö',
                    'Èúá': 'Ë°åÂãïÂäõ„ÉªÊ±∫Êñ≠Âäõ„Éª„Ç®„Éç„É´„ÇÆ„Éº',
                    'Â∑Ω': 'ÈÅ©ÂøúÊÄß„ÉªÊüîËªüÊÄß„ÉªÊåÅÁ∂öÂäõ',
                    'Âùé': 'Êé¢Á©∂ÂøÉ„ÉªÊ∑±Â±§ÊÄùËÄÉ„ÉªÊ¥ûÂØüÂäõ',
                    'ËâÆ': 'ÂÆâÂÆöÊÄß„ÉªÊÖéÈáçÊÄß„ÉªÈõÜ‰∏≠Âäõ',
                    'Âù§': 'ÂèóÂÆπÊÄß„ÉªÂçîË™øÊÄß„ÉªÊîØÊè¥Âäõ'
                };
                
                allTrigrams.forEach((trigram, index) => {
                    const engineEnergy = tripleOSResults.engineOS.trigramEnergies?.[trigram] || 0;
                    const interfaceEnergy = tripleOSResults.interfaceOS.trigramEnergies?.[trigram] || 0;
                    const safeModeEnergy = tripleOSResults.safeModeOS.trigramEnergies?.[trigram] || 0;
                    
                    const maxEnergy = Math.max(engineEnergy, interfaceEnergy, safeModeEnergy);
                    const dominantOS = maxEnergy === engineEnergy ? 'Engine' : 
                                     maxEnergy === interfaceEnergy ? 'Interface' : 'SafeMode';
                    
                    const card = document.createElement('div');
                    card.className = 'trigram-card';
                    card.innerHTML = `
                        <div class="trigram-name">${trigram}</div>
                        <div class="trigram-energy-value">${Math.round(maxEnergy)}%</div>
                        <div class="trigram-description">${trigramDescriptions[trigram]}</div>
                        <div style="margin-top: var(--space-sm); font-size: var(--font-sm); color: var(--accent-400);">
                            ‰∏ªÂ∞é: ${dominantOS} OS
                        </div>
                        <div class="trigram-breakdown" style="margin-top: var(--space-sm);">
                            <div style="display: flex; justify-content: space-between; font-size: var(--font-sm);">
                                <span style="color: #6366f1;">E: ${Math.round(engineEnergy)}%</span>
                                <span style="color: #8b5cf6;">I: ${Math.round(interfaceEnergy)}%</span>
                                <span style="color: #10b981;">S: ${Math.round(safeModeEnergy)}%</span>
                            </div>
                        </div>
                    `;
                    
                    container.appendChild(card);
                });
            
            // üåä „Ç®„Éç„É´„ÇÆ„Éº„Éï„É≠„ÉºÂèØË¶ñÂåñ
            renderEnergyFlowVisualization(tripleOSResults) {
                const container = document.getElementById('energy-flow-visualization');
                
                const flowData = this.calculateEnergyFlow(tripleOSResults);
                
                container.innerHTML = `
                    <div class="flow-diagram">
                        <div class="flow-node engine-node">
                            <h5>Engine OS</h5>
                            <div class="node-strength">${flowData.engine.strength}%</div>
                            <div class="node-flow out" style="--flow-strength: ${flowData.engine.outflow}%;">
                                ‚Üí Interface (${flowData.engine.outflow}%)
                            </div>
                        </div>
                        
                        <div class="flow-node interface-node">
                            <h5>Interface OS</h5>
                            <div class="node-strength">${flowData.interface.strength}%</div>
                            <div class="node-flow out" style="--flow-strength: ${flowData.interface.outflow}%;">
                                ‚Üí SafeMode (${flowData.interface.outflow}%)
                            </div>
                        </div>
                        
                        <div class="flow-node safemode-node">
                            <h5>Safe Mode OS</h5>
                            <div class="node-strength">${flowData.safeMode.strength}%</div>
                            <div class="node-flow out" style="--flow-strength: ${flowData.safeMode.outflow}%;">
                                ‚Üí Engine (${flowData.safeMode.outflow}%)
                            </div>
                        </div>
                    </div>
                    
                    <div class="flow-insights" style="margin-top: var(--space-lg);">
                        <h5 style="color: var(--primary-100); margin-bottom: var(--space-md);">
                            üí´ „Ç®„Éç„É´„ÇÆ„Éº„Éï„É≠„ÉºÊ¥ûÂØü
                        </h5>
                        <div style="color: var(--primary-200); line-height: 1.6;">
                            ${flowData.insights}
                        </div>
                    </div>
                `;
                
                // „Éï„É≠„ÉºÂõ≥„Çπ„Çø„Ç§„É´ËøΩÂä†
                const flowStyle = document.createElement('style');
                flowStyle.textContent = `
                    .flow-diagram {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                        gap: var(--space-lg);
                        margin-bottom: var(--space-lg);
                    }
                    .flow-node {
                        text-align: center;
                        padding: var(--space-lg);
                        border-radius: var(--radius-md);
                        border: 2px solid;
                        position: relative;
                    }
                    .engine-node { border-color: #6366f1; background: rgba(99, 102, 241, 0.05); }
                    .interface-node { border-color: #8b5cf6; background: rgba(139, 92, 246, 0.05); }
                    .safemode-node { border-color: #10b981; background: rgba(16, 185, 129, 0.05); }
                    
                    .node-strength {
                        font-size: var(--font-xl);
                        font-weight: 700;
                        margin: var(--space-sm) 0;
                    }
                    .node-flow {
                        font-size: var(--font-sm);
                        color: var(--primary-300);
                        margin-top: var(--space-sm);
                        position: relative;
                        overflow: hidden;
                    }
                `;
                document.head.appendChild(flowStyle);
            
            calculateEnergyFlow(tripleOSResults) {
                const engineStrength = this.calculateOSStrength(tripleOSResults.engineOS);
                const interfaceStrength = this.calculateOSStrength(tripleOSResults.interfaceOS);
                const safeModeStrength = this.calculateOSStrength(tripleOSResults.safeModeOS);
                
                // Áõ∏‰∫íÂΩ±ÈüøÂ∫¶Ë®àÁÆó
                const engineToInterface = this.calculateInfluenceStrength(tripleOSResults.engineOS, tripleOSResults.interfaceOS);
                const interfaceToSafeMode = this.calculateInfluenceStrength(tripleOSResults.interfaceOS, tripleOSResults.safeModeOS);
                const safeModeToEngine = this.calculateInfluenceStrength(tripleOSResults.safeModeOS, tripleOSResults.engineOS);
                
                const insights = this.generateFlowInsights(
                    engineStrength, interfaceStrength, safeModeStrength,
                    engineToInterface, interfaceToSafeMode, safeModeToEngine
                
                return {
                    engine: { strength: engineStrength, outflow: engineToInterface },
                    interface: { strength: interfaceStrength, outflow: interfaceToSafeMode },
                    safeMode: { strength: safeModeStrength, outflow: safeModeToEngine },
                    insights
                };
            
            generateFlowInsights(eStr, iStr, sStr, eToi, iToS, sToE) {
                let insights = [];
                
                if (eToi > 70) {
                    insights.push("‰æ°ÂÄ§Ë¶≥„Ç∑„Çπ„ÉÜ„É†„ÅåÁ§æ‰ºöÁöÑË°®Áèæ„Å´Âº∑„ÅèÂΩ±Èüø„Åó„Å¶„ÅÑ„Åæ„Åô");
                }
                if (iToS > 70) {
                    insights.push("Á§æ‰ºöÁöÑÁµåÈ®ì„ÅåÈò≤Âæ°„Ç∑„Çπ„ÉÜ„É†„ÅÆÂΩ¢Êàê„Å´Â§ß„Åç„ÅèÈñ¢‰∏é„Åó„Å¶„ÅÑ„Åæ„Åô");
                }
                if (sToE > 70) {
                    insights.push("Èò≤Âæ°„É°„Ç´„Éã„Ç∫„É†„Åå‰æ°ÂÄ§Ë¶≥„ÅÆÂÜçÊßãÁØâ„Çí‰øÉ„Åó„Å¶„ÅÑ„Åæ„Åô");
                
                const totalFlow = eToi + iToS + sToE;
                if (totalFlow > 210) {
                    insights.push("3„Å§„ÅÆ„Ç∑„Çπ„ÉÜ„É†Èñì„ÅßÊ¥ªÁô∫„Å™Áõ∏‰∫í‰ΩúÁî®„ÅåË°å„Çè„Çå„Å¶„ÅÑ„Åæ„Åô");
                } else if (totalFlow < 150) {
                    insights.push("„Ç∑„Çπ„ÉÜ„É†Èñì„ÅÆÈÄ£Êê∫„Å´ÊîπÂñÑ„ÅÆ‰ΩôÂú∞„Åå„ÅÇ„Çä„Åæ„Åô");
                
                return insights.length > 0 ? insights.join('„ÄÇ') + '„ÄÇ' : 
                    '„Éê„É©„É≥„Çπ„ÅÆÂèñ„Çå„Åü„Ç®„Éç„É´„ÇÆ„Éº„Éï„É≠„Éº„Çí‰øù„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ';
            
            // ‚òØ Â∞ÇÈñÄÂ±§: 64Âç¶ÂÆåÂÖ®Ëß£Èáà„Ç∑„Çπ„ÉÜ„É†
            renderDetailedHexagramAnalysis(tripleOSResults) {
                const container = document.getElementById('hexagram-detailed-analysis');
                container.innerHTML = '';
                
                const systems = [
                    { name: 'Engine OS', data: tripleOSResults.engineOS, color: '#6366f1' },
                    { name: 'Interface OS', data: tripleOSResults.interfaceOS, color: '#8b5cf6' },
                    { name: 'Safe Mode OS', data: tripleOSResults.safeModeOS, color: '#10b981' }
                ];
                
                systems.forEach(system => {
                    const hexagramCard = document.createElement('div');
                    hexagramCard.className = 'hexagram-card';
                    
                    // Ë©≥Á¥∞„Å™Âç¶ÊÉÖÂ†±ÂèñÂæó
                    const hexagramDetails = this.getDetailedHexagramInfo(system.data.hexagramId);
                    
                    hexagramCard.innerHTML = `
                        <div class="hexagram-title" style="color: ${system.color};">
                            ${system.name} - ${system.data.hexagramName}
                        </div>
                        <div class="hexagram-content">
                            <div class="hexagram-meta" style="margin-bottom: var(--space-md);">
                                <strong>Âç¶Áï™Âè∑:</strong> ${system.data.hexagramId}Áï™<br>
                                <strong>‰∏äÂç¶:</strong> ${this.safeGetTrigramDisplay(system.data.primaryTrigram || system.data.upperTrigram) || '‰πæ(Â§©)'} | 
                                <strong>‰∏ãÂç¶:</strong> ${this.safeGetTrigramDisplay(system.data.secondaryTrigram || system.data.lowerTrigram) || 'Âù§(Âú∞)'}
                            </div>
                            
                            <div class="hexagram-description" style="margin-bottom: var(--space-md);">
                                ${hexagramDetails.detailedDescription}
                            </div>
                            
                            <div class="trigram-composition" style="margin-bottom: var(--space-md);">
                                <h6 style="color: var(--primary-100); margin-bottom: var(--space-sm);">‰∏âÁàªÊßãÊàêÂàÜÊûê</h6>
                                <div style="color: var(--primary-200); font-size: var(--font-sm);">
                                    ${hexagramDetails.trigramAnalysis}
                                </div>
                            </div>
                        </div>
                    `;
                    
                    container.appendChild(hexagramCard);
                });
            
            // üîÑ Â§âÂç¶„Ç∑„Çπ„ÉÜ„É† - ÊàêÈï∑ÊñπÂêëÊÄß
            renderChangeHexagramSystem(tripleOSResults) {
                const container = document.getElementById('change-hexagram-display');
                
                const changeSystemData = this.calculateChangeHexagrams(tripleOSResults);
                
                container.innerHTML = `
                    <div class="change-hexagram-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-lg);">
                        ${changeSystemData.map(change => `
                            <div class="change-card" style="background: rgba(251, 191, 36, 0.08); border: 1px solid rgba(251, 191, 36, 0.3); border-radius: var(--radius-md); padding: var(--space-lg);">
                                <h6 style="color: #fbbf24; margin-bottom: var(--space-md);">
                                    ${change.fromOS} „ÅÆÂ§âÂåñ
                                </h6>
                                <div style="color: var(--primary-200); margin-bottom: var(--space-md);">
                                    <strong>${change.currentHexagram}</strong> ‚Üí <strong>${change.futureHexagram}</strong>
                                </div>
                                <div style="color: var(--primary-200); font-size: var(--font-sm); line-height: 1.6;">
                                    ${change.changeAnalysis}
                                </div>
                                <div style="margin-top: var(--space-md); padding: var(--space-sm); background: rgba(251, 191, 36, 0.05); border-radius: var(--radius-sm);">
                                    <strong style="color: #fbbf24;">ÊàêÈï∑ÊñπÂêë:</strong>
                                    <div style="color: var(--primary-200); font-size: var(--font-sm); margin-top: var(--space-xs);">
                                        ${change.growthDirection}
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            
            // üìú Âè§ÂÖ∏ÁöÑwisdom - Âç¶Ëæû„ÉªÁàªËæû
            renderClassicalWisdom(tripleOSResults) {
                const container = document.getElementById('classical-wisdom-display');
                
                const wisdomData = this.extractClassicalWisdom(tripleOSResults);
                
                container.innerHTML = `
                    <div class="classical-wisdom">
                        <h6 style="color: #fbbf24; margin-bottom: var(--space-lg); text-align: center;">
                            ÊòìÁµåÂè§ÂÖ∏ - „ÅÇ„Å™„Åü„Å∏„ÅÆÊô∫ÊÖß
                        </h6>
                        
                        <div class="wisdom-sections" style="display: flex; flex-direction: column; gap: var(--space-lg);">
                            ${wisdomData.map(wisdom => `
                                <div class="wisdom-section" style="border-left: 4px solid #fbbf24; padding-left: var(--space-lg);">
                                    <h6 style="color: var(--primary-100); margin-bottom: var(--space-sm);">
                                        ${wisdom.system} - ${wisdom.hexagramName}
                                    </h6>
                                    <div class="kua-ci" style="margin-bottom: var(--space-md);">
                                        <strong>Âç¶Ëæû:</strong> "${wisdom.guaCi}"
                                    </div>
                                    <div class="yao-ci" style="margin-bottom: var(--space-md);">
                                        <strong>ÁàªËæû (ÈáçË¶Å„Å™Áàª):</strong> "${wisdom.yaoCi}"
                                    </div>
                                    <div class="modern-interpretation" style="background: rgba(251, 191, 36, 0.05); padding: var(--space-md); border-radius: var(--radius-sm);">
                                        <strong>Áèæ‰ª£ÁöÑËß£Èáà:</strong><br>
                                        ${wisdom.modernInterpretation}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            
            // üîØ HaQeiÂì≤Â≠¶Áµ±Âêà
            renderHaQeiWisdom(tripleOSResults) {
                const container = document.getElementById('HaQei-wisdom-display');
                
                const HaQeiAnalysis = this.generateHaQeiAnalysis(tripleOSResults);
                
                container.innerHTML = `
                    ${HaQeiAnalysis.philosophicalIntegration}
                    
                    <div style="margin-top: var(--space-lg); padding: var(--space-lg); background: rgba(16, 185, 129, 0.05); border-radius: var(--radius-md); border: 1px solid rgba(16, 185, 129, 0.2);">
                        <h6 style="color: var(--success-500); margin-bottom: var(--space-md);">
                            üéØ Êà¶Áï•ÁöÑËá™Â∑±ÁêÜËß£„ÅÆ„Éù„Ç§„É≥„Éà
                        </h6>
                        <ul style="color: var(--primary-200); line-height: 1.6; padding-left: var(--space-lg);">
                            ${HaQeiAnalysis.strategicPoints.map(point => `<li style="margin-bottom: var(--space-sm);">${point}</li>`).join('')}
                        </ul>
                    </div>
                `;
            
            // üí° „Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫„ÉâÊ¥ûÂØüÁîüÊàê
            renderPersonalizedInsights(tripleOSResults) {
                const insights = this.generatePersonalizedInsights(tripleOSResults);
                
                // ÊàêÈï∑ÊñπÂêëÊÄß
                document.getElementById('growth-directions').innerHTML = `
                    <div class="insight-title">üå± ÊàêÈï∑ÊñπÂêëÊÄß</div>
                    <div class="insight-content">${insights.growthDirections}</div>
                `;
                
                // ÊúÄÈÅ©ÂåñÊà¶Áï•
                document.getElementById('optimization-strategies').innerHTML = `
                    <div class="insight-title">‚ö° ÊúÄÈÅ©ÂåñÊà¶Áï•</div>
                    <div class="insight-content">${insights.optimizationStrategies}</div>
                `;
                
                // „Çπ„Éà„É¨„ÇπÁÆ°ÁêÜ
                document.getElementById('stress-management').innerHTML = `
                    <div class="insight-title">üõ°Ô∏è „Çπ„Éà„É¨„ÇπÁÆ°ÁêÜ</div>
                    <div class="insight-content">${insights.stressManagement}</div>
                `;
                
                // ÊØîËºÉÂàÜÊûê
                document.getElementById('comparative-analysis').innerHTML = `
                    <div class="insight-title">üìä ÊØîËºÉÂàÜÊûê</div>
                    <div class="insight-content">${insights.comparativeAnalysis}</div>
                `;
            
            // üéØ ÂÆüË∑µÁöÑÊà¶Áï•ÊèêÊ°à
            renderPracticalStrategies(tripleOSResults) {
                const container = document.getElementById('practical-strategies');
                const strategies = this.generatePracticalStrategies(tripleOSResults);
                
                container.innerHTML = strategies.map(strategy => `
                    <div class="strategy-item">
                        <div class="strategy-title">
                            ${strategy.icon} ${strategy.title}
                        </div>
                        <div class="strategy-description">
                            ${strategy.description}
                        </div>
                        <div class="strategy-actions">
                            ${strategy.actions.map(action => `
                                <span class="strategy-action">${action}</span>
                            `).join('')}
                        </div>
                    </div>
                `).join('');
            
            // „Éò„É´„Éë„ÉºÈñ¢Êï∞Áæ§
            getDetailedHexagramInfo(hexagramId) {
                // ÂÆüÈöõ„Å´HEXAGRAMS„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„ÇâË©≥Á¥∞„ÇíÂèñÂæó
                const hexagram = HEXAGRAMS.find(h => h.hexagram_id === hexagramId) || HEXAGRAMS[0];
                if (!hexagram) {
                    return {
                        detailedDescription: `Âç¶ID: ${hexagramId}„ÅÆ„Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„ÄÇ`,
                        trigramAnalysis: `„Éá„Éº„Çø„Éô„Éº„Çπ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ`
                    };
                
                // H384„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„ÇâÂÖ®‰ΩìÁöÑ„Å™Ëß£Èáà„ÇíÂèñÂæó
                const relatedH384 = H384_DATA.filter(item => item['Âç¶Áï™Âè∑'] === hexagramId);
                const detailedAnalysis = relatedH384.length > 0 ? 
                    relatedH384.map(item => `${item['Áàª']}: ${item['Áèæ‰ª£Ëß£Èáà„ÅÆË¶ÅÁ¥Ñ']}`).join('\n') :
                    'Ë©≥Á¥∞„Å™Áàª„ÅÆËß£Èáà„Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„ÄÇ';
                
                return {
                    detailedDescription: `„Äê${hexagram.name_jp || '‰∏çÊòé'}„Äë${hexagram.catchphrase || ''}\n\n${hexagram.description || 'Ë™¨Êòé„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„ÄÇ'}\n\n= ÁàªÂà•Ë©≥Á¥∞Ëß£Èáà =\n${detailedAnalysis}`,
                    trigramAnalysis: `‰∏äÂç¶: ${this.getTrigramName(hexagram.upper_trigram_id) || '‰∏çÊòé'} / ‰∏ãÂç¶: ${this.getTrigramName(hexagram.lower_trigram_id) || '‰∏çÊòé'}\n\n„Åì„ÅÆÁµÑ„ÅøÂêà„Çè„Åõ„ÅØ„ÄÅ„ÅÇ„Å™„Åü„ÅÆÂÜÖÁöÑ„Ç®„Éç„É´„ÇÆ„Éº(${this.getTrigramName(hexagram.lower_trigram_id)})„Å®Â§ñÁöÑË°®Áèæ(${this.getTrigramName(hexagram.upper_trigram_id)})„ÅÆÈñ¢‰øÇÊÄß„ÇíÁâ©Ë™û„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åì„Çå„ÅØÂãïÁöÑ„Å™„Éê„É©„É≥„Çπ„ÅÆ‰∏≠„ÅßÁô∫ÊèÆ„Åï„Çå„Çã„ÄÅ„ÅÇ„Å™„ÅüÂõ∫Êúâ„ÅÆËÉΩÂäõ„Éë„Çø„Éº„É≥„Åß„Åô„ÄÇ`
                };
            
            getTrigramName(trigramId) {
                // ‰∏âÁàªID„Åã„ÇâÂêçÂâç„ÇíÂèñÂæó
                const trigramNames = {
                    1: "‰πæ(Â§©)", 2: "ÂÖå(Ê≤¢)", 3: "Èõ¢(ÁÅ´)", 4: "Èúá(Èõ∑)",
                    5: "Â∑Ω(È¢®)", 6: "Âùé(Ê∞¥)", 7: "ËâÆ(Â±±)", 8: "Âù§(Âú∞)"
                };
                return trigramNames[trigramId] || "‰∏çÊòé";

            // üõ°Ô∏è SAFE TRIGRAM DISPLAY - primaryTrigram/secondaryTrigramÂÆâÂÖ®Ë°®Á§∫
            safeGetTrigramDisplay(trigram) {
                if (!trigram) return null;
                
                // Êó¢„Å´Ë°®Á§∫Áî®ÊñáÂ≠óÂàó„ÅÆÂ†¥Âêà
                if (typeof trigram === 'string' && trigram.includes('(')) {
                    return trigram;
                
                // ‰∏âÁàªÊñáÂ≠ó„ÅÆÂ†¥Âêà
                if (typeof trigram === 'string') {
                    const trigramDisplayMap = {
                        '‰πæ': '‰πæ(Â§©)', 'ÂÖå': 'ÂÖå(Ê≤¢)', 'Èõ¢': 'Èõ¢(ÁÅ´)', 'Èúá': 'Èúá(Èõ∑)',
                        'Â∑Ω': 'Â∑Ω(È¢®)', 'Âùé': 'Âùé(Ê∞¥)', 'ËâÆ': 'ËâÆ(Â±±)', 'Âù§': 'Âù§(Âú∞)'
                    };
                    return trigramDisplayMap[trigram] || `${trigram}(‰∏çÊòé)`;
                
                // Êï∞ÂÄ§ID„ÅÆÂ†¥Âêà
                if (typeof trigram === 'number') {
                    return this.getTrigramName(trigram);
                
                return 'ÊÉÖÂ†±ÂèñÂæó‰∏≠';
            
            calculateChangeHexagrams(tripleOSResults) {
                // Â§âÂç¶Ë®àÁÆó„ÅÆÁ∞°Âçò„Å™ÂÆüË£Ö
                return [
                    {
                        fromOS: 'Engine OS',
                        currentHexagram: tripleOSResults.engineOS.hexagramName,
                        futureHexagram: this.calculateFutureHexagram(tripleOSResults.engineOS),
                        changeAnalysis: 'ÂÜÖÁöÑ‰æ°ÂÄ§Ë¶≥„Ç∑„Çπ„ÉÜ„É†„ÅØ„ÄÅ„Çà„ÇäÁµ±Âêà„Åï„Çå„ÅüÂΩ¢„Å∏„Å®Áô∫Â±ï„Åó„Å¶„ÅÑ„ÅèÂèØËÉΩÊÄß„ÇíÁßò„ÇÅ„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
                        growthDirection: 'Ëá™Â∑±ÁêÜËß£„ÇíÊ∑±„ÇÅ„ÄÅ‰æ°ÂÄ§Ë¶≥„ÅÆ‰∏ÄË≤´ÊÄß„ÇíÈ´ò„ÇÅ„Çã„Åì„Å®„Åß„ÄÅ„Çà„ÇäÂäõÂº∑„ÅÑË°®Áèæ„ÅåÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åô„ÄÇ'
                    },
                    {
                        fromOS: 'Interface OS', 
                        currentHexagram: tripleOSResults.interfaceOS.hexagramName,
                        futureHexagram: this.calculateFutureHexagram(tripleOSResults.interfaceOS),
                        changeAnalysis: 'Á§æ‰ºöÁöÑ„Ç∑„Çπ„ÉÜ„É†„ÅØ„ÄÅ„Çà„ÇäÊüîËªü„ÅßÂäπÊûúÁöÑ„Å™ÂØæ‰∫∫Èñ¢‰øÇ„Çπ„Ç≠„É´„Å∏„Å®ÈÄ≤Âåñ„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ',
                        growthDirection: '‰ªñËÄÖ„Å®„ÅÆÂçîË™øÊÄß„Çí‰øù„Å°„Å™„Åå„Çâ„ÄÅËá™ÂàÜ„Çâ„Åó„Åï„ÇíË°®Áèæ„Åô„Çã„Éê„É©„É≥„Çπ„ÇíË¶ã„Å§„Åë„Çã„Åì„Å®„ÅåÈáçË¶Å„Åß„Åô„ÄÇ'
                    },
                    {
                        fromOS: 'Safe Mode OS',
                        currentHexagram: tripleOSResults.safeModeOS.hexagramName,
                        futureHexagram: this.calculateFutureHexagram(tripleOSResults.safeModeOS),
                        changeAnalysis: 'Èò≤Âæ°„Ç∑„Çπ„ÉÜ„É†„ÅØ„ÄÅ„Çà„ÇäÂª∫Ë®≠ÁöÑ„ÅßÈÅ©ÂøúÁöÑ„Å™ÂØæÂá¶„É°„Ç´„Éã„Ç∫„É†„Å∏„Å®Â§âÂåñ„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ',
                        growthDirection: 'ÂÆâÂÖ®ÊÄß„Çí‰øù„Å°„Å™„Åå„Çâ„ÇÇ„ÄÅÊñ∞„Åó„ÅÑÊåëÊà¶„Å´ÂØæ„Åó„Å¶„Ç™„Éº„Éó„É≥„Å™ÂßøÂã¢„ÇíËÇ≤„Å¶„Çã„Åì„Å®„ÅåÊàêÈï∑„ÅÆ„Ç´„ÇÆ„Åß„Åô„ÄÇ'
                    }
                ];
            
            calculateFutureHexagram(osData) {
                // ÂÆüÈöõ„ÅÆHEXAGRAMS„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„ÇâÂ§âÂç¶„ÇíË®àÁÆó
                const currentId = osData.hexagramId || 1;
                const futureId = currentId > 32 ? currentId - 32 : currentId + 32;
                
                // Â§âÂåñÂæå„ÅÆÂç¶„Çí„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„ÇâÂèñÂæó
                const futureHexagram = HEXAGRAMS.find(h => h.hexagram_id === futureId);
                return futureHexagram ? futureHexagram.name_jp : `${futureId}Áï™Âç¶`;
            
            extractClassicalWisdom(tripleOSResults) {
                // ÂÆüÈöõ„ÅÆHEXAGRAMS„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„ÇâÂè§ÂÖ∏ÁöÑ„Å™Áü•ÊÅµ„ÇíÊäΩÂá∫
                const systems = [
                    { name: 'Engine OS', data: tripleOSResults.engineOS },
                    { name: 'Interface OS', data: tripleOSResults.interfaceOS },
                    { name: 'Safe Mode OS', data: tripleOSResults.safeModeOS }
                ];
                
                return systems.map(system => {
                    const hexagram = HEXAGRAMS.find(h => h.hexagram_id === system.data.hexagramId);
                    const h384Data = H384_DATA.filter(item => item['Âç¶Áï™Âè∑'] === system.data.hexagramId);
                    
                    // ‰∏ªË¶Å„Å™Áàª„ÇíÈÅ∏ÊäûÔºà‰πù‰∫î„Åæ„Åü„ÅØÂÖ≠‰∫î„ÇíÂÑ™ÂÖàÔºâ
                    const mainYao = h384Data.find(item => item['Áàª'].includes('‰∫î')) || h384Data[0];
                    
                    return {
                        system: system.name,
                        hexagramName: system.data.hexagramName,
                        guaCi: hexagram ? (hexagram.gua_ci || hexagram.description) : 'Âç¶Ëæû„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì',
                        yaoCi: mainYao ? `${mainYao['Áàª']}: ${mainYao['Áèæ‰ª£Ëß£Èáà„ÅÆË¶ÅÁ¥Ñ'].substring(0, 50)}...` : 'ÁàªËæû„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì',
                        modernInterpretation: mainYao ? mainYao['Áèæ‰ª£Ëß£Èáà„ÅÆË¶ÅÁ¥Ñ'] : '„Éá„Éº„Çø„Éô„Éº„Çπ„Åã„ÇâËß£Èáà„ÇíÂèñÂæó„Åß„Åç„Åæ„Åõ„Çì„ÄÇ'
                    };
                });
            
            generateHaQeiAnalysis(tripleOSResults) {
                const { engineOS, interfaceOS, safeModeOS } = tripleOSResults;
                
                // ÂÆüÈöõ„ÅÆHEXAGRAMS„Éá„Éº„Çø„Åã„ÇâHaQeiÂì≤Â≠¶ÁöÑÂàÜÊûê„ÇíÁîüÊàê
                const engineHexagram = HEXAGRAMS.find(h => h.hexagram_id === engineOS.hexagramId);
                const interfaceHexagram = HEXAGRAMS.find(h => h.hexagram_id === interfaceOS.hexagramId);
                const safeModeHexagram = HEXAGRAMS.find(h => h.hexagram_id === safeModeOS.hexagramId);
                
                // ÂêÑOS„ÅÆÂÆüÈöõ„ÅÆÁâπÊÄß„Åã„ÇâÂì≤Â≠¶ÁöÑÁµ±Âêà„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂãïÁöÑÁîüÊàê
                const philosophicalIntegration = `
                    „ÅÇ„Å™„Åü„ÅÆ‰∏âÈáç‰∫∫Ê†º„Ç∑„Çπ„ÉÜ„É†„ÅØ„ÄÅHaQeiÂì≤Â≠¶„ÅÆ„ÄåË§áÊï∞Ëá™Â∑±Áµ±ÂêàÁêÜË´ñ„Äç„ÇíÂÆüË®º„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
                    
                    Engine OS„Äê${engineOS.hexagramName}„Äë${engineHexagram?.catchphrase || ''}„Å®„Åó„Å¶„ÄÅ
                    ${engineHexagram?.description || 'ÂÜÖÁöÑ‰æ°ÂÄ§Ë¶≥„Ç∑„Çπ„ÉÜ„É†„ÇíÊßãÁØâ„Åó'}„ÄÅ
                    
                    Interface OS„Äê${interfaceOS.hexagramName}„Äë${interfaceHexagram?.catchphrase || ''}„Å®„Åó„Å¶„ÄÅ
                    ${interfaceHexagram?.description || 'Á§æ‰ºöÁöÑÈÅ©Âøú„Ç∑„Çπ„ÉÜ„É†„ÇíÈÅãÂñ∂„Åó'}„ÄÅ
                    
                    Safe Mode OS„Äê${safeModeOS.hexagramName}„Äë${safeModeHexagram?.catchphrase || ''}„Å®„Åó„Å¶„ÄÅ
                    ${safeModeHexagram?.description || 'Èò≤Âæ°ÁöÑÂÆâÂÆö„Ç∑„Çπ„ÉÜ„É†„ÇíÁ∂≠ÊåÅ'}„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
                    
                    „Åì„ÅÆ‰∏â‰Ωç‰∏Ä‰Ωì„ÅØ„ÄÅÂçò„Å™„ÇãÊÄßÊ†ºÂàÜÊûê„Åß„ÅØ„Å™„Åè„ÄÅÁä∂Ê≥ÅÈÅ©ÂøúÂûã„ÅÆÊà¶Áï•ÁöÑ‰∫∫Ê†º„Ç∑„Çπ„ÉÜ„É†„Åß„Åô„ÄÇ
                `;
                
                // H384„Éá„Éº„Çø„Åã„ÇâÂÆüÈöõ„ÅÆÊà¶Áï•„Éù„Ç§„É≥„Éà„ÇíÊäΩÂá∫
                const engineH384 = H384_DATA.find(item => item['Âç¶Áï™Âè∑'] === engineOS.hexagramId);
                const interfaceH384 = H384_DATA.find(item => item['Âç¶Áï™Âè∑'] === interfaceOS.hexagramId);  
                const safeModeH384 = H384_DATA.find(item => item['Âç¶Áï™Âè∑'] === safeModeOS.hexagramId);
                
                const strategicPoints = [
                    `Engine OSÊ¥ªÁî®: ${engineH384?.['„Ç≠„Éº„ÉØ„Éº„Éâ']?.[0] || 'ÂâµÈÄ†ÊÄß'}„ÇíÂü∫Áõ§„Å®„Åó„Åü${engineH384?.['S5_‰∏ª‰ΩìÊÄßÊé®Â•®„Çπ„Çø„É≥„Çπ'] || 'ËÉΩÂãï'}ÁöÑ„Ç¢„Éó„É≠„Éº„ÉÅ`,
                    `Interface OSÊ¥ªÁî®: ${interfaceH384?.['„Ç≠„Éº„ÉØ„Éº„Éâ']?.[0] || 'ÂçîË™øÊÄß'}„ÇíÈáçË¶ñ„Åó„Åü${interfaceH384?.['S5_‰∏ª‰ΩìÊÄßÊé®Â•®„Çπ„Çø„É≥„Çπ'] || 'ÂèóÂãï'}ÁöÑ„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥`,
                    `Safe Mode OSÊ¥ªÁî®: ${safeModeH384?.['„Ç≠„Éº„ÉØ„Éº„Éâ']?.[0] || 'ÂÆâÂÆöÊÄß'}„ÇíÁ¢∫‰øù„Åô„Çã${safeModeH384?.['S5_‰∏ª‰ΩìÊÄßÊé®Â•®„Çπ„Çø„É≥„Çπ'] || '‰∏≠Á´ã'}ÁöÑ„É™„Çπ„ÇØÁÆ°ÁêÜ`,
                    `‰∏âÈáçÁµ±Âêà: „Çπ„Ç≥„Ç¢Áµ±Âêà(Engine:${engineH384?.['S7_Á∑èÂêàË©ï‰æ°„Çπ„Ç≥„Ç¢'] || 50}, Interface:${interfaceH384?.['S7_Á∑èÂêàË©ï‰æ°„Çπ„Ç≥„Ç¢'] || 50}, Safe:${safeModeH384?.['S7_Á∑èÂêàË©ï‰æ°„Çπ„Ç≥„Ç¢'] || 50})„Å´„Çà„ÇãÁ∑èÂêàÂà§Êñ≠`,
                    `Èï∑ÊúüÊàêÈï∑: ÂêÑOS„ÅÆ${[engineH384, interfaceH384, safeModeH384].map(h => h?.['S2_„Éù„ÉÜ„É≥„Ç∑„É£„É´'] || 50).join('-')}„Éù„ÉÜ„É≥„Ç∑„É£„É´„ÇíÊÆµÈöéÁöÑÈñãÁô∫`
                ];
                
                return {
                    philosophicalIntegration,
                    strategicPoints
                };
            
            generatePersonalizedInsights(tripleOSResults) {
                const { engineOS, interfaceOS, safeModeOS, integration } = tripleOSResults;
                const balance = this.calculateDynamicBalance(tripleOSResults);
                
                return {
                    growthDirections: `
                        ‰∏ªÂ∞é„Ç∑„Çπ„ÉÜ„É†„Åß„ÅÇ„Çã${balance.dominantOS}„ÇíÂü∫Áõ§„Å®„Åó„Å¶„ÄÅ‰ªñ„ÅÆ2„Å§„ÅÆ„Ç∑„Çπ„ÉÜ„É†„Å®„ÅÆË™øÂíå„ÇíÂõ≥„Çã„Åì„Å®„Åß„ÄÅ
                        „Çà„ÇäÁµ±Âêà„Åï„Çå„Åü‰∫∫Ê†º„Å∏„Å®ÊàêÈï∑„Åß„Åç„Åæ„Åô„ÄÇÁâπ„Å´${this.getWeakestOS(tripleOSResults)}„ÅÆ
                        Áô∫ÈÅî„Å´ÊÑèË≠ò„ÇíÂêë„Åë„Çã„Åì„Å®„Åß„ÄÅÂÖ®‰ΩìÁöÑ„Å™„Éê„É©„É≥„Çπ„ÅåÂêë‰∏ä„Åó„Åæ„Åô„ÄÇ
                    `,
                    optimizationStrategies: `
                        „Ç∑„Çπ„ÉÜ„É†ÂçîË™øÂ∫¶${balance.coordination}%„Åã„Çâ„ÄÅÁõ∏‰∫í‰ΩúÁî®„ÅÆÊîπÂñÑ‰ΩôÂú∞„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
                        Êó•Â∏∏ÁîüÊ¥ª„ÅßÊÑèË≠òÁöÑ„Å´Áï∞„Å™„ÇãOS„Çí‰Ωø„ÅÑÂàÜ„Åë„ÇãÁ∑¥Áøí„Çí„Åô„Çã„Åì„Å®„Åß„ÄÅ
                        „Çà„ÇäÂäπÊûúÁöÑ„Å™ÂïèÈ°åËß£Ê±∫„Å®‰∫∫ÈñìÈñ¢‰øÇ„ÅÆÊßãÁØâ„ÅåÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åô„ÄÇ
                    `,
                    stressManagement: `
                        „Çπ„Éà„É¨„ÇπËÄêÊÄß${balance.resilience}%„ÇíÂü∫„Å´„ÄÅSafe Mode OS„ÅÆ${this.getStressManagementAdvice(safeModeOS)}
                        „ÇíÊ¥ªÁî®„Åô„Çã„Åì„Å®„Åß„ÄÅÂõ∞Èõ£„Å™Áä∂Ê≥Å„Åß„ÇÇÂÆâÂÆö„Åó„ÅüÂØæÂøú„ÅåÂèØËÉΩ„Åß„Åô„ÄÇ
                        ‰∫àÈò≤ÁöÑ„Å™„Çπ„Éà„É¨„ÇπÁÆ°ÁêÜ„Å®„Åó„Å¶„ÄÅÂÆöÊúüÁöÑ„Å™Ëá™Â∑±„ÉÅ„Çß„ÉÉ„ÇØ„ÇíÂÆüË∑µ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
                    `,
                    comparativeAnalysis: `
                        ‰∏ÄËà¨ÁöÑ„Å™„Éë„Çø„Éº„É≥„Å®ÊØîËºÉ„Åó„Å¶„ÄÅ„ÅÇ„Å™„Åü„ÅÆÁâπÂæ¥„ÅØ${this.getComparativeInsights(tripleOSResults)}„Åß„Åô„ÄÇ
                        „Åì„ÅÆÁã¨Ëá™ÊÄß„ÇíÂº∑„Åø„Å®„Åó„Å¶Ê¥ª„Åã„Åó„Å§„Å§„ÄÅÂøÖË¶Å„Å´Âøú„Åò„Å¶‰ªñ„ÅÆË¶ñÁÇπ„ÇÇÂèñ„ÇäÂÖ•„Çå„Çã„Åì„Å®„Åß„ÄÅ
                        „Çà„ÇäÂπÖÂ∫É„ÅÑÁä∂Ê≥Å„Å´ÂØæÂøú„Åß„Åç„ÇãÊüîËªüÊÄß„ÇíÁç≤Âæó„Åß„Åç„Åæ„Åô„ÄÇ
                    `
                };
            
            generatePracticalStrategies(tripleOSResults) {
                const { engineOS, interfaceOS, safeModeOS } = tripleOSResults;
                
                // ÂÆüÈöõ„ÅÆH384„Éá„Éº„Çø„Åã„ÇâÂêÑOS„ÅÆÁâπÊÄß„ÇíÂèñÂæó
                const engineH384 = H384_DATA.filter(item => item['Âç¶Áï™Âè∑'] === engineOS.hexagramId);
                const interfaceH384 = H384_DATA.filter(item => item['Âç¶Áï™Âè∑'] === interfaceOS.hexagramId);
                const safeModeH384 = H384_DATA.filter(item => item['Âç¶Áï™Âè∑'] === safeModeOS.hexagramId);
                
                // ÂãïÁöÑ„Å´ÂÆüË∑µÊà¶Áï•„ÇíÁîüÊàê
                const strategies = [];
                
                // Engine OSÊà¶Áï•
                const engineMainYao = engineH384.find(item => item['Áàª'].includes('‰∫î')) || engineH384[0];
                if (engineMainYao) {
                    strategies.push({
                        icon: '‚ö°',
                        title: `Engine OSÂº∑Âåñ: ${engineMainYao['„Ç≠„Éº„ÉØ„Éº„Éâ']?.[0] || 'ÂâµÈÄ†ÊÄß'}„ÅÆÊ¥ªÁî®`,
                        description: `${engineMainYao['Áèæ‰ª£Ëß£Èáà„ÅÆË¶ÅÁ¥Ñ'].substring(0, 100)}„ÇíÊó•Â∏∏ÁîüÊ¥ª„Å´ÂøúÁî®„Åó„Åæ„Åô„ÄÇ`,
                        actions: [
                            `${engineMainYao['„Ç≠„Éº„ÉØ„Éº„Éâ']?.[1] || 'Âü∫Á§éÂõ∫„ÇÅ'}„ÅÆÊó•„ÄÖÂÆüË∑µ`,
                            `${engineMainYao['S5_‰∏ª‰ΩìÊÄßÊé®Â•®„Çπ„Çø„É≥„Çπ']}ÁöÑ„Ç¢„Éó„É≠„Éº„ÉÅ„Åß„ÅÆÂïèÈ°åËß£Ê±∫`,
                            `„Éù„ÉÜ„É≥„Ç∑„É£„É´${engineMainYao['S2_„Éù„ÉÜ„É≥„Ç∑„É£„É´']}%„ÇíÊ¥ª„Åã„Åó„ÅüÈï∑ÊúüË®àÁîª`
                        ]
                    });
                
                // Interface OSÊà¶Áï•  
                const interfaceMainYao = interfaceH384.find(item => item['Áàª'].includes('‰∫î')) || interfaceH384[0];
                if (interfaceMainYao) {
                    strategies.push({
                        icon: 'ü§ù',
                        title: `Interface OSÊúÄÈÅ©Âåñ: ${interfaceMainYao['„Ç≠„Éº„ÉØ„Éº„Éâ']?.[0] || 'ÂçîË™øÊÄß'}„ÅÆÁô∫Â±ï`,
                        description: `${interfaceMainYao['Áèæ‰ª£Ëß£Èáà„ÅÆË¶ÅÁ¥Ñ'].substring(0, 100)}„Çí‰∫∫ÈñìÈñ¢‰øÇ„ÅßÂÆüË∑µ„Åó„Åæ„Åô„ÄÇ`,
                        actions: [
                            `${interfaceMainYao['„Ç≠„Éº„ÉØ„Éº„Éâ']?.[1] || 'ÂØæ‰∫∫Èñ¢‰øÇ'}„ÅÆÊÑèË≠òÁöÑÊîπÂñÑ`,
                            `„É™„Çπ„ÇØÂÄ§${Math.abs(interfaceMainYao['S4_„É™„Çπ„ÇØ'] || -35)}„Å´Âøú„Åò„ÅüÊÖéÈáçÊÄß`,
                            `Á∑èÂêàË©ï‰æ°${interfaceMainYao['S7_Á∑èÂêàË©ï‰æ°„Çπ„Ç≥„Ç¢']}%Âêë‰∏ä„ÇíÁõÆÊåá„Åó„ÅüË°åÂãïË®àÁîª`
                        ]
                    });
                
                // Safe Mode OSÊà¶Áï•
                const safeModeMainYao = safeModeH384.find(item => item['Áàª'].includes('‰∫î')) || safeModeH384[0];
                if (safeModeMainYao) {
                    strategies.push({
                        icon: 'üõ°Ô∏è',
                        title: `Safe Mode OSÈÅãÁî®: ${safeModeMainYao['„Ç≠„Éº„ÉØ„Éº„Éâ']?.[0] || 'ÂÆâÂÆöÊÄß'}„ÅÆÁ¢∫Á´ã`,
                        description: `${safeModeMainYao['Áèæ‰ª£Ëß£Èáà„ÅÆË¶ÅÁ¥Ñ'].substring(0, 100)}„Çí„Çπ„Éà„É¨„ÇπÁÆ°ÁêÜ„Å´ÂøúÁî®„Åó„Åæ„Åô„ÄÇ`,
                        actions: [
                            `${safeModeMainYao['„Ç≠„Éº„ÉØ„Éº„Éâ']?.[1] || '‰∫àÈò≤Á≠ñ'}„ÅÆ‰∫ãÂâçÊ∫ñÂÇô`,
                            `ÂÆâÂÆöÊÄß„Çπ„Ç≥„Ç¢${safeModeMainYao['S3_ÂÆâÂÆöÊÄß„Çπ„Ç≥„Ç¢']}%„ÇíÂü∫Ê∫ñ„Å®„Åó„ÅüÁí∞Â¢ÉË®≠Ë®à`,
                            `Â§âÂãïÊÄß${safeModeMainYao['S6_Â§âÂãïÊÄß„Çπ„Ç≥„Ç¢']}%„Å´Âêà„Çè„Åõ„ÅüÊüîËªü„Å™ÂØæÂøúÁ≠ñ`
                        ]
                    });
                
                return strategies;
            
            getWeakestOS(tripleOSResults) {
                const strengths = {
                    'Engine OS': this.calculateOSStrength(tripleOSResults.engineOS),
                    'Interface OS': this.calculateOSStrength(tripleOSResults.interfaceOS),
                    'Safe Mode OS': this.calculateOSStrength(tripleOSResults.safeModeOS)
                };
                
                return Object.keys(strengths).reduce((a, b) => 
                    strengths[a] < strengths[b] ? a : b
            
            getStressManagementAdvice(safeModeOS) {
                const strength = this.calculateOSStrength(safeModeOS);
                if (strength > 75) return 'Âº∑Âäõ„Å™ÂÆâÂÆöÂåñÊ©üËÉΩ';
                if (strength > 50) return 'ÈÅ©Â∫¶„Å™Èò≤Âæ°„É°„Ç´„Éã„Ç∫„É†';
                return 'ÊüîËªü„Å™ÈÅ©ÂøúÊà¶Áï•';
            
            getComparativeInsights(tripleOSResults) {
                const balance = this.calculateDynamicBalance(tripleOSResults);
                if (balance.coordination > 80) return 'È´òÂ∫¶„Å™Áµ±ÂêàÂûã‰∫∫Ê†ºÁâπÊÄß';
                if (balance.flexibility > 80) return 'È´ò„ÅÑÈÅ©ÂøúËÉΩÂäõ„Å®ÊüîËªüÊÄß';
                if (balance.resilience > 80) return 'ÂÑ™ÁßÄ„Å™„Çπ„Éà„É¨„ÇπËÄêÊÄß„Å®ÂÆâÂÆöÊÄß';
                return '„Éê„É©„É≥„Çπ„ÅÆÂèñ„Çå„ÅüÊàêÈï∑Âûã‰∫∫Ê†º';
            
            generateTripleOSSummary(tripleOSResults) {
                const { 
                    engineOS, 
                    interfaceOS, 
                    safeModeOS, 
                    consistencyScore,
                    balanceScore,
                    HaQeiIntegration,
                    integration,
                    recommendations 
                } = tripleOSResults;
                
                // Áµ±Âêà„Çπ„Ç≥„Ç¢„ÅÆË°®Á§∫Áî®„Éï„Ç©„Éº„Éû„ÉÉ„Éà
                const formatScore = (score) => Math.round(score || 0);
                const getScoreColor = (score) => {
                    if (score >= 80) return '#10b981'; // Á∑ë
                    if (score >= 65) return '#f59e0b'; // ÈªÑ
                    return '#ef4444'; // Ëµ§
                };
                
                // HaQeiÊ∫ñÊã†„ÅÆË°®Áèæ
                const summary = `
                    <div style="margin-bottom: var(--space-md);">
                        <h4 style="color: var(--primary-100); margin-bottom: var(--space-sm);">üîØ Triple OS „Ç∑„Çπ„ÉÜ„É†ÂàÜÊûê</h4>
                        <p style="color: var(--primary-200); line-height: 1.6;">
                            „Åì„ÅÆÂàÜÊûê„ÅØ„ÄÅÊòìÁµå„ÅÆ64Âç¶ÁêÜË´ñ„Å´Âü∫„Å•„Åè<strong>ÂèÇËÄÉÊÉÖÂ†±</strong>„Å®„Åó„Å¶Êèê‰æõ„Åï„Çå„Åæ„Åô„ÄÇ
                            „ÅÇ„Å™„Åü„ÅÆ‰∫∫Ê†º„Çí3„Å§„ÅÆÂ±§„ÅßÁêÜËß£„Åô„Çã<strong>‰∏Ä„Å§„ÅÆË¶ñÁÇπ</strong>„Åß„Åô„ÄÇ
                        </p>
                    </div>
                    
                    <div style="margin-bottom: var(--space-md);">
                        <h5 style="color: #6366f1; margin-bottom: var(--space-xs);">üéØ Engine OSÔºàÊ∑±Â±§‰æ°ÂÄ§Ë¶≥Ôºâ</h5>
                        <p style="color: var(--primary-300); font-size: var(--font-sm);">
                            ${engineOS.hexagramName} - ${engineOS.catchphrase || engineOS.description}
                        </p>
                    </div>
                    
                    <div style="margin-bottom: var(--space-md);">
                        <h5 style="color: #8b5cf6; margin-bottom: var(--space-xs);">üí¨ Interface OSÔºàÁ§æ‰ºöÁöÑÂÅ¥Èù¢Ôºâ</h5>
                        <p style="color: var(--primary-300); font-size: var(--font-sm);">
                            ${interfaceOS.hexagramName} - ÂØæ‰∫∫Èñ¢‰øÇ„Åß„ÅÆ‰∏ÄÈù¢
                        </p>
                    </div>
                    
                    <div style="margin-bottom: var(--space-md);">
                        <h5 style="color: #10b981; margin-bottom: var(--space-xs);">üõ°Ô∏è SafeMode OSÔºàÈò≤Âæ°„Ç∑„Çπ„ÉÜ„É†Ôºâ</h5>
                        <p style="color: var(--primary-300); font-size: var(--font-sm);">
                            ${safeModeOS.hexagramName} - ÂÆâÂÖ®„ÇíÈáçË¶ñ„Åô„ÇãÊôÇ„ÅÆÁâπÊÄß
                        </p>
                    </div>
                    
                    <div style="background: rgba(99, 102, 241, 0.05); border-radius: var(--radius-md); padding: var(--space-md); margin: var(--space-md) 0;">
                        <h5 style="color: var(--primary-100); margin-bottom: var(--space-sm); text-align: center;">üìä Triple OSÁµ±ÂêàË©ï‰æ°</h5>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: var(--space-sm); margin-bottom: var(--space-sm);">
                            <div style="text-align: center; padding: var(--space-xs); background: rgba(255,255,255,0.05); border-radius: var(--radius-sm);">
                                <div style="font-size: var(--font-lg); font-weight: bold; color: ${getScoreColor(consistencyScore)};">
                                    ${formatScore(consistencyScore)}%
                                </div>
                                <div style="font-size: var(--font-xs); color: var(--primary-300);">Êï¥ÂêàÊÄß</div>
                            </div>
                            
                            <div style="text-align: center; padding: var(--space-xs); background: rgba(255,255,255,0.05); border-radius: var(--radius-sm);">
                                <div style="font-size: var(--font-lg); font-weight: bold; color: ${getScoreColor(balanceScore)};">
                                    ${formatScore(balanceScore)}%
                                </div>
                                <div style="font-size: var(--font-xs); color: var(--primary-300);">ÂãïÁöÑ„Éê„É©„É≥„Çπ</div>
                            </div>
                            
                            <div style="text-align: center; padding: var(--space-xs); background: rgba(255,255,255,0.05); border-radius: var(--radius-sm);">
                                <div style="font-size: var(--font-lg); font-weight: bold; color: ${getScoreColor(HaQeiIntegration)};">
                                    ${formatScore(HaQeiIntegration)}%
                                </div>
                                <div style="font-size: var(--font-xs); color: var(--primary-300);">HaQeiÁµ±Âêà</div>
                            </div>
                        </div>
                        
                        <p style="color: var(--primary-300); font-size: var(--font-xs); text-align: center; margin-top: var(--space-xs);">
                            ‚Äª„Åì„Çå„Çâ„ÅÆÊï∞ÂÄ§„ÅØÂèÇËÄÉÊåáÊ®ô„Å®„Åó„Å¶„ÄÅËá™Â∑±ÁêÜËß£„ÅÆ‰∏ÄÂä©„Å®„Åó„Å¶„ÅîÊ¥ªÁî®„Åè„Å†„Åï„ÅÑ
                        </p>
                    </div>
                    
                    ${recommendations && recommendations.length > 0 ? `
                        <div style="background: rgba(16, 185, 129, 0.05); border-radius: var(--radius-md); padding: var(--space-md); margin: var(--space-md) 0;">
                            <h5 style="color: #10b981; margin-bottom: var(--space-sm);">üí° ÊàêÈï∑„Å∏„ÅÆÊ∞ó„Å•„Åç</h5>
                            ${recommendations.slice(0, 2).map(rec => `
                                <div style="margin-bottom: var(--space-sm); padding: var(--space-xs); background: rgba(255,255,255,0.03); border-radius: var(--radius-sm);">
                                    <div style="font-weight: bold; color: var(--primary-200); margin-bottom: var(--space-xs);">
                                        ${rec.title}
                                    </div>
                                    <div style="color: var(--primary-300); font-size: var(--font-sm); line-height: 1.4;">
                                        ${rec.description}
                                    </div>
                                </div>
                            `).join('')}
                            <p style="color: var(--primary-400); font-size: var(--font-xs); text-align: center; margin-top: var(--space-sm);">
                                „Åì„Çå„Çâ„ÅÆÊ∞ó„Å•„Åç„Çí„ÄÅÊó•Â∏∏„ÅÆ‰∏≠„ÅßÂ∞ë„Åó„Åö„Å§ÊÑèË≠ò„Åó„Å¶„ÅÑ„Åü„Å†„Åë„Çå„Å∞„Å®ÊÄù„ÅÑ„Åæ„Åô
                            </p>
                        </div>
                    ` : ''}
                    
                    <div style="background: rgba(99, 102, 241, 0.1); border-radius: var(--radius-md); padding: var(--space-sm); margin-top: var(--space-md);">
                        <p style="color: var(--primary-200); font-size: var(--font-sm); text-align: center; line-height: 1.4;">
                            üåü „Åì„ÅÆÂàÜÊûêÁµêÊûú„ÅØÊòìÁµå„ÅÆÊô∫ÊÖß„Å´Âü∫„Å•„Åè‰∏Ä„Å§„ÅÆË¶ñÁÇπ„Åß„Åô<br>
                            „ÅÇ„Å™„ÅüËá™Ë∫´„ÅÆÁõ¥ÊÑü„Å®Âêà„Çè„Åõ„Å¶„ÄÅ„Çà„ÇäÊ∑±„ÅÑËá™Â∑±ÁêÜËß£„Å´„ÅäÂΩπÁ´ã„Å¶„Åè„Å†„Åï„ÅÑ
                        </p>
                    </div>
                `;
                
                document.getElementById('result-summary').innerHTML = summary;
            
            saveResults(tripleOSResults) {
                try {
                    const results = {
                        timestamp: new Date().toISOString(),
                        answers: this.state.answers,
                        tripleOSResults: tripleOSResults,
                        version: '2.0',
                        HaQeiCompliant: true
                    };
                    
                    localStorage.setItem('haqei_emergency_results', JSON.stringify(results));
                    console.log('‚úÖ Triple OS Results saved to localStorage');
                } catch (error) {
                    console.warn('‚ö†Ô∏è Failed to save results:', error);
                }
            }
            
            showError(message) {
                this.showScreen('error-screen');
                document.getElementById('error-message').textContent = message;
                this.announce('„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü');
            }
            
            restart() {
                // Áä∂ÊÖã„Çí„ÇØ„É™„Ç¢
                this.state.clearState();
                this.state.currentQuestion = 0;
                this.state.answers = [];
                this.state.tripleOSResults = null;
                this.state.isAnalyzing = false;
                
                // UIÂàùÊúüÂåñ
                this.initializeTrigramScores();
                this.showScreen('welcome-screen');
                this.announce('ÂàÜÊûê„Åå„É™„Çª„ÉÉ„Éà„Åï„Çå„Åæ„Åó„Åü');
            }
            
            announce(message) {
                const announcements = document.getElementById('announcements');
                announcements.textContent = message;
                
                // ‰∏ÄÂÆöÊôÇÈñìÂæå„Å´„ÇØ„É™„Ç¢
                setTimeout(() => {
                    announcements.textContent = '';
                }, 3000);
            }
            
            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
        } // End CriticalCSSAnalyzer class
        
        // 5. „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥ÂàùÊúüÂåñ
        document.addEventListener('DOMContentLoaded', () => {
            try {
                console.log('üéØ HAQEI Emergency Analyzer initializing...');
                console.log('üîØ Authentic I-Ching 64 Hexagrams Engine loaded');
                console.log('‚ò∞ Trigram Mapping System: HaQei philosophy compliant');
                
                // „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥ÈñãÂßã
                window.criticalCSSAnalyzer = new CriticalCSSAnalyzer();
                window.virtualPersonaEnhancer = new VirtualPersonaEnhancer();
                
                console.log('‚úÖ Critical CSS Analyzer ready');
                console.log('üìä Questions loaded:', QUESTIONS.length);
                console.log('üé≠ Triple OS systems:', Object.keys(TRIPLE_OS).length);
                console.log('üîØ Authentic Hexagrams loaded:', HEXAGRAMS.length);
                // console.log('üéÜ Authentic 8D Vectors loaded:', Object.keys(AUTHENTIC_H64_8D_VECTORS).length);
                console.log('üîØ I-Ching Orthodoxy validated: Traditional 64 Hexagram matrix');
                
            } catch (error) {
                console.error('‚ùå Initialization failed:', error);
                document.body.innerHTML = `
                    <div style="padding: 2rem; text-align: center; color: #ef4444;">
                        <h1>ÂàùÊúüÂåñ„Ç®„É©„Éº</h1>
                        <p>„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅÆÈñãÂßã„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>
                        <button onclick="location.reload()" style="margin-top: 1rem; padding: 0.5rem 1rem; background: #6366f1; color: white; border: none; border-radius: 0.5rem; cursor: pointer;">
                            ÂÜçË™≠„ÅøËæº„Åø
                        </button>
                    </div>
                `;
            }
        });
        // 6. „Éë„Éï„Ç©„Éº„Éû„É≥„ÇπÊúÄÈÅ©Âåñ
        // „Çµ„Éº„Éì„Çπ„ÉØ„Éº„Ç´„ÉºÁôªÈå≤ÔºàÂèØËÉΩ„Å™Â†¥ÂêàÔºâ
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/public/haqei-sw.js')
                    .then(registration => {
                        console.log('‚úÖ Emergency SW registered');
                    })
                    .catch(error => {
                        console.log('‚ö†Ô∏è SW registration failed (optional)');
                    });
                } catch (error) {
                    console.error('‚ùå Chart.js rendering failed:', error);
                    console.log('üìä Chart.js fallback: Using text display instead');
            });
        
        // „É°„É¢„É™ÊúÄÈÅ©Âåñ
        window.addEventListener('beforeunload', () => {
            if (window.criticalCSSAnalyzer) {
                window.criticalCSSAnalyzer = null;
        });
        
        // „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞
        window.addEventListener('error', (event) => {
            console.error('‚ùå Global error:', event.error);
            if (window.criticalCSSAnalyzer) {
                window.criticalCSSAnalyzer.showError('‰∫àÊúü„Åó„Å™„ÅÑ„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü');
        });
        
        window.addEventListener('unhandledrejection', (event) => {
            console.error('‚ùå Unhandled promise rejection:', event.reason);
            event.preventDefault();
            if (window.criticalCSSAnalyzer) {
                window.criticalCSSAnalyzer.showError('Âá¶ÁêÜ‰∏≠„Å´„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü');
        });
        
        console.log('üìù HAQEI Critical CSS Analyzer script loaded');
        console.log('üéÜ HaQeiÂì≤Â≠¶ Triple OS Engine integrated');
        console.log('‚ú® Critical CSS optimizations applied');
        
        // üö® Áµ∂ÂØæË¶Å‰ª∂: Á∞°Êòì„Ç¢„Éâ„Éê„Ç§„ÇπÊ©üËÉΩÂÆüË£Ö
        displayQuickAdvice(tripleOSResults) {
            if (!tripleOSResults) return;
            
            console.log('üí° Displaying quick advice');
            
            // Á∞°Êòì„Ç¢„Éâ„Éê„Ç§„Çπ„Ç≥„É≥„ÉÜ„Éä„Çí‰ΩúÊàê
            let quickAdviceContainer = document.getElementById('quick-advice-container');
            if (!quickAdviceContainer) {
                quickAdviceContainer = document.createElement('div');
                quickAdviceContainer.id = 'quick-advice-container';
                quickAdviceContainer.className = 'quick-advice-section';
                
                // ÁµêÊûúÁîªÈù¢„ÅÆÊúÄÂæå„Å´ËøΩÂä†
                const resultsScreen = document.getElementById('results-screen');
                if (resultsScreen) {
                    resultsScreen.appendChild(quickAdviceContainer);
                }
            }
            
            const engineOS = tripleOSResults.engineOS?.primary || '‰πæ';
            const interfaceOS = tripleOSResults.interfaceOS?.primary || 'Âù§';
            const safeModeOS = tripleOSResults.safeModeOS?.primary || 'ËâÆ';
            
            const quickAdviceMessages = {
                engine: {
                    '‰πæ': 'ÂâµÈÄ†Âäõ„ÇíÊ¥ª„Åã„Åó„Å¶Êñ∞„Åó„ÅÑ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Å´ÊåëÊà¶„Åô„Çã„Åì„Å®„Åß„ÄÅ„ÅÇ„Å™„Åü„ÅÆÂèØËÉΩÊÄß„ÅåÈñãËä±„Åó„Åæ„Åô',
                    'Èúá': 'Ë°åÂãïÂäõ„Åå„ÅÇ„Å™„Åü„ÅÆÂº∑„Åø„ÄÇËø∑„Å£„Åü„Çâ„ÄÅ„Åæ„Åö‰∏ÄÊ≠©„ÇíË∏è„ÅøÂá∫„Åó„Å¶„Åø„Åæ„Åó„Çá„ÅÜ',
                    'Âùé': 'Ê∑±„ÅèËÄÉ„ÅàÊäú„ÅèÂäõ„Åå„ÅÇ„Å™„Åü„ÅÆÊ≠¶Âô®„ÄÇÊÉÖÂ†±ÂèéÈõÜ„Å®ÂàÜÊûê„ÇíÂ§ßÂàá„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
                    'ËâÆ': 'ÂÆâÂÆö„Åó„ÅüÂü∫Áõ§„ÇíÁØâ„Åè„Åì„Å®„Åß„ÄÅÈï∑ÊúüÁöÑ„Å™ÊàêÂäü„ÇíÊâã„Å´„Åß„Åç„Åæ„Åô',
                    'Âù§': 'ÂçîË™øÊÄß„ÇíÊ¥ª„Åã„Åó„Å¶„ÄÅ‰∫∫„Å®„ÅÆÈñ¢‰øÇ„ÇíÂ§ßÂàá„Å´„Åô„Çã„Åì„Å®„ÅåÊàêÂäü„ÅÆÈçµ„Åß„Åô',
                    'Â∑Ω': 'ÊüîËªüÊÄß„Åå„ÅÇ„Å™„Åü„ÅÆÁâπÂæ¥„ÄÇÂ§âÂåñ„Å´ÂØæÂøú„Åó„Å™„Åå„ÇâÊàêÈï∑„Åó„Å¶„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜ',
                    'Èõ¢': 'Ë°®ÁèæÂäõ„ÇíÁ£®„Åè„Åì„Å®„Åß„ÄÅ„ÅÇ„Å™„Åü„ÅÆÈ≠ÖÂäõ„Åå„Çà„ÇäËºù„Åç„Åæ„Åô',
                    'ÂÖå': '„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥ËÉΩÂäõ„ÇíÊ¥ª„Åã„Åó„Å¶„ÄÅ‰∫∫„Å®„ÅÆÁπã„Åå„Çä„ÇíÊ∑±„ÇÅ„Å¶„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜ'
                }
            };
            
            const advice = quickAdviceMessages.engine[engineOS] || 'Ëá™ÂàÜ„Çâ„Åó„Åï„ÇíÂ§ßÂàá„Å´„ÄÅ‰∏ÄÊ≠©‰∏ÄÊ≠©ÂâçÈÄ≤„Åó„Å¶„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜ';
            
            quickAdviceContainer.innerHTML = `
                <div class="advice-section">
                    <h3>üí° „ÅÇ„Å™„Åü„Å∏„ÅÆÁ∞°Êòì„Ç¢„Éâ„Éê„Ç§„Çπ</h3>
                    <div class="advice-content">
                        <p class="main-advice">${advice}</p>
                        <div class="os-summary">
                            <span class="os-tag engine">Engine OS: ${engineOS}</span>
                            <span class="os-tag interface">Interface OS: ${interfaceOS}</span>
                            <span class="os-tag safe">Safe Mode: ${safeModeOS}</span>
                        </div>
                    </div>
                    <div class="premium-banner">
                        <p>üåü <strong>Strategic Cockpit</strong>„ÅßË©≥Á¥∞Êà¶Áï•„ÇíÂÖ•Êâã</p>
                        <button class="premium-button">¬•2,980/Êúà„ÅßÊà¶Áï•ÁöÑÊ¥ªÁî®Ê≥ï„ÇíÂ≠¶„Å∂ ‚Üí</button>
                    </div>
                </div>
            `;
        }
        
        // üö® Áµ∂ÂØæË¶Å‰ª∂: ÁêÜË´ñÁöÑÁâπÊÄßÂàÜÊûêÂÆüË£Ö
        showTheoreticalCharacteristics(tripleOSResults) {
            if (!tripleOSResults) return;
            
            console.log('üìä Displaying theoretical characteristics');
            
            // ÁêÜË´ñÁöÑÁâπÊÄß„Ç≥„É≥„ÉÜ„Éä„Çí‰ΩúÊàê
            let characteristicsContainer = document.getElementById('theoretical-characteristics-container');
            if (!characteristicsContainer) {
                characteristicsContainer = document.createElement('div');
                characteristicsContainer.id = 'theoretical-characteristics-container';
                characteristicsContainer.className = 'theoretical-characteristics-section';
                
                // ÁµêÊûúÁîªÈù¢„ÅÆÊúÄÂæå„Å´ËøΩÂä†
                const resultsScreen = document.getElementById('results-screen');
                if (resultsScreen) {
                    resultsScreen.appendChild(characteristicsContainer);
                }
            }
            
            const engineOS = tripleOSResults.engineOS?.primary || '‰πæ';
            const interfaceOS = tripleOSResults.interfaceOS?.primary || 'Âù§';
            const safeModeOS = tripleOSResults.safeModeOS?.primary || 'ËâÆ';
            
            const theoreticalData = {
                '‰πæ': { type: 'ÂâµÈÄ†Âûã', tendency: 'Èù©Êñ∞ÂøóÂêë', approach: 'ÂÖàÈßÜÁöÑ„Ç¢„Éó„É≠„Éº„ÉÅ' },
                'Èúá': { type: 'Ë°åÂãïÂûã', tendency: 'ÂÆüË∑µÂøóÂêë', approach: 'Á©çÊ•µÁöÑ„Ç¢„Éó„É≠„Éº„ÉÅ' },
                'Âùé': { type: 'Êé¢Á©∂Âûã', tendency: 'ÂàÜÊûêÂøóÂêë', approach: 'ÊÖéÈáç„Ç¢„Éó„É≠„Éº„ÉÅ' },
                'ËâÆ': { type: 'ÂÆâÂÆöÂûã', tendency: 'Á∂ôÁ∂öÂøóÂêë', approach: 'Â†ÖÂÆü„Ç¢„Éó„É≠„Éº„ÉÅ' },
                'Âù§': { type: 'ÂçîË™øÂûã', tendency: 'ÂçîÂÉçÂøóÂêë', approach: 'ÂçîÂäõ„Ç¢„Éó„É≠„Éº„ÉÅ' },
                'Â∑Ω': { type: 'ÈÅ©ÂøúÂûã', tendency: 'ÊüîËªüÂøóÂêë', approach: 'Ë™øÊï¥„Ç¢„Éó„É≠„Éº„ÉÅ' },
                'Èõ¢': { type: 'Ë°®ÁèæÂûã', tendency: 'Áô∫‰ø°ÂøóÂêë', approach: 'ÂâµÈÄ†„Ç¢„Éó„É≠„Éº„ÉÅ' },
                'ÂÖå': { type: 'Ë™øÂíåÂûã', tendency: '„Éê„É©„É≥„ÇπÂøóÂêë', approach: '„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„Ç¢„Éó„É≠„Éº„ÉÅ' }
            };
            
            const engineData = theoreticalData[engineOS] || theoreticalData['‰πæ'];
            const interfaceData = theoreticalData[interfaceOS] || theoreticalData['Âù§'];
            const safeData = theoreticalData[safeModeOS] || theoreticalData['ËâÆ'];
            
            characteristicsContainer.innerHTML = `
                <div class="characteristics-section">
                    <h3>üìä ÁêÜË´ñÁöÑÁâπÊÄßÂàÜÊûê</h3>
                    <div class="characteristics-grid">
                        <div class="characteristic-card engine">
                            <h4>üéØ Engine OSÁâπÊÄß</h4>
                            <div class="characteristic-details">
                                <p><strong>„Çø„Ç§„Éó:</strong> ${engineData.type}</p>
                                <p><strong>ÂÇæÂêë:</strong> ${engineData.tendency}</p>
                                <p><strong>„Ç¢„Éó„É≠„Éº„ÉÅ:</strong> ${engineData.approach}</p>
                            </div>
                        </div>
                        <div class="characteristic-card interface">
                            <h4>üí¨ Interface OSÁâπÊÄß</h4>
                            <div class="characteristic-details">
                                <p><strong>„Çø„Ç§„Éó:</strong> ${interfaceData.type}</p>
                                <p><strong>ÂÇæÂêë:</strong> ${interfaceData.tendency}</p>
                                <p><strong>„Ç¢„Éó„É≠„Éº„ÉÅ:</strong> ${interfaceData.approach}</p>
                            </div>
                        </div>
                        <div class="characteristic-card safe">
                            <h4>üõ°Ô∏è Safe ModeÁâπÊÄß</h4>
                            <div class="characteristic-details">
                                <p><strong>„Çø„Ç§„Éó:</strong> ${safeData.type}</p>
                                <p><strong>ÂÇæÂêë:</strong> ${safeData.tendency}</p>
                                <p><strong>„Ç¢„Éó„É≠„Éº„ÉÅ:</strong> ${safeData.approach}</p>
                            </div>
                        </div>
                    </div>
                    <div class="theoretical-note">
                        <p><small>‚Äª„Åì„Çå„Çâ„ÅÆÁâπÊÄßÂàÜÊûê„ÅØÊòìÁµåÁêÜË´ñ„Å´Âü∫„Å•„ÅèÁêÜË´ñÁöÑÂàÜÊûê„Åß„Åô„ÄÇÁµ±Ë®à„Éá„Éº„Çø„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</small></p>
                    </div>
                    <div class="premium-banner">
                        <p>üåü <strong>Strategic Cockpit</strong>„ÅßË©≥Á¥∞„Å™ÁêÜË´ñÁöÑËÉåÊôØ„ÇíÂ≠¶Áøí</p>
                        <button class="premium-button">¬•2,980/Êúà„ÅßÊ∑±Â±§ÂàÜÊûê„Å´„Ç¢„ÇØ„Çª„Çπ ‚Üí</button>
                    </div>
                </div>
            `;
        }
        

    
    
    
    
    
    </script>
</body>
</html>