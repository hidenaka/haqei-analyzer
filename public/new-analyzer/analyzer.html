<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="HaQei Analyzer - å¤ä»£ã®å¡æ™ºã¨ç¾ä»£ã®ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ãŒèåˆã—ãŸã€æ·±ã„è‡ªå·±æ´å¯Ÿä½“é¨“"
    />
    <title>HaQei Analyzer - æ·±ã„è‡ªå·±æ´å¯Ÿã¸ã®å…¥ã‚Šå£</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/components.css" />
    <link rel="stylesheet" href="css/animations.css" />

    <!-- Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  </head>
  <body>
    <!-- Global Progress Indicator -->
    <div class="global-progress">
      <div class="progress-bar" style="width: var(--progress, 0%)"></div>
    </div>

    <!-- Main Application Container -->
    <div id="app" class="app-container">
      <!-- Welcome Screen -->
      <section id="welcome-container" class="screen-container">
        <!-- WelcomeScreen component will render here -->
      </section>

      <!-- Questions Flow -->
      <section
        id="questions-container"
        class="screen-container"
        style="display: none"
      >
        <!-- QuestionFlow component will render here -->
      </section>

      <!-- Analysis View -->
      <section
        id="analysis-container"
        class="screen-container"
        style="display: none"
      >
        <!-- AnalysisView component will render here -->
      </section>

      <!-- Results View -->
      <section
        id="results-container"
        class="screen-container"
        style="display: none"
      >
        <!-- ResultsView component will render here -->
      </section>

      <!-- Deep Insights Panel -->
      <section
        id="insights-container"
        class="screen-container"
        style="display: none"
      >
        <!-- InsightPanel component will render here -->
      </section>
    </div>

    <!-- 1. åŸºåº•ã‚¯ãƒ©ã‚¹ï¼ˆå¿…é ˆé †åºï¼‰ -->
    <script src="js/core/BaseComponent.js"></script>
    <script src="js/core/DataManager.js"></script>
    <script src="js/core/Calculator.js"></script>

    <!-- 2. ã‚¨ãƒ³ã‚¸ãƒ³ã‚¯ãƒ©ã‚¹ï¼ˆåŸºåº•ã‚¯ãƒ©ã‚¹å¾Œã«èª­ã¿è¾¼ã¿ï¼‰ -->
    <script src="js/core/Engine.js"></script>
    <script src="js/core/TripleOSEngine.js"></script>

    <!-- 3. ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼ˆã‚¨ãƒ³ã‚¸ãƒ³å¾Œã§OKï¼‰ -->
    <script src="js/core/StorageManager.js"></script>

    <!-- 4. ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ« -->
    <script src="js/data/questions.js"></script>
    <script src="js/data/vectors.js"></script>
    <script src="js/data/hexagrams.js"></script>

    <!-- 5. UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ -->
    <script src="js/components/WelcomeScreen.js"></script>
    <script src="js/components/QuestionFlow.js"></script>
    <script src="js/components/AnalysisView.js"></script>
    <script src="js/components/ResultsView.js"></script>
    <script src="js/components/TripleOSResultsView.js"></script>
    <script src="js/components/InsightPanel.js"></script>

    <!-- 6. ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
    <script src="js/utils/animations.js"></script>
    <script src="js/utils/validators.js"></script>

    <!-- 7. ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæœ€å¾Œã«èª­ã¿è¾¼ã¿ï¼‰ -->
    <script src="js/app.js"></script>

    <!-- ğŸ”§ ãƒ‡ãƒãƒƒã‚°ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
    <script>
      // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†å¾Œã«ã‚¯ãƒ©ã‚¹å®šç¾©ã‚’ç¢ºèª
      document.addEventListener("DOMContentLoaded", function () {
        console.log("ğŸ” Class definitions check:");
        console.log("BaseComponent:", typeof BaseComponent);
        console.log("DataManager:", typeof DataManager);
        console.log("Calculator:", typeof Calculator);
        console.log("DiagnosisEngine:", typeof DiagnosisEngine);
        console.log("TripleOSEngine:", typeof TripleOSEngine);
        console.log("StorageManager:", typeof StorageManager);

        // ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã¯è­¦å‘Šè¡¨ç¤º
        if (typeof DiagnosisEngine === "undefined") {
          console.error("âŒ DiagnosisEngine is not defined!");
        }
        if (typeof TripleOSEngine === "undefined") {
          console.error("âŒ TripleOSEngine is not defined!");
        }

        // ãƒ‡ãƒ¼ã‚¿ã®å­˜åœ¨ç¢ºèª
        console.log("WORLDVIEW_QUESTIONS:", typeof WORLDVIEW_QUESTIONS);
        console.log("SCENARIO_QUESTIONS:", typeof SCENARIO_QUESTIONS);
        console.log("H64_8D_VECTORS:", typeof H64_8D_VECTORS);
      });
    </script>
  </body>
</html>
