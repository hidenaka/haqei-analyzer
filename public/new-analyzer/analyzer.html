<!DOCTYPE html>
<html lang="ja">
  <head>
    <script>
      console.log("--- HTML PARSE STARTED ---");
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="HaQei Analyzer - å¤ä»£ã®å¡æ™ºã¨ç¾ä»£ã®ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ãŒèåˆã—ãŸã€æ·±ã„è‡ªå·±æ´å¯Ÿä½“é¨“"
    />
    <title>HaQei Analyzer - æ·±ã„è‡ªå·±æ´å¯Ÿã¸ã®å…¥ã‚Šå£</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Shippori+Mincho:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/components.css" />
    <link rel="stylesheet" href="css/animations.css" />
    <link rel="stylesheet" href="css/compatibility-details.css" />
    <link rel="stylesheet" href="css/polish.css" />
    <link rel="stylesheet" href="css/personality-os-boot-sequence.css" />

    <!-- Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  </head>
  <body>
    <!-- Global Progress Indicator -->
    <div class="global-progress">
      <div class="progress-bar" style="width: var(--progress, 0%)"></div>
    </div>

    <!-- Main Application Container -->
    <div id="app" class="app-container">
      <!-- Welcome Screen -->
      <section id="welcome-container" class="screen-container">
        <!-- WelcomeScreen component will render here -->
      </section>

      <!-- Questions Flow -->
      <section
        id="questions-container"
        class="screen-container"
        style="display: none"
      >
        <!-- QuestionFlow component will render here -->
      </section>

      <!-- Analysis View -->
      <section
        id="analysis-container"
        class="screen-container"
        style="display: none"
      >
        <!-- AnalysisView component will render here -->
      </section>

      <!-- Results View -->
      <section
        id="results-container"
        class="screen-container"
        style="display: none"
      >
        <!-- ResultsView component will render here -->
      </section>

      <!-- Deep Insights Panel -->
      <section
        id="insights-container"
        class="screen-container"
        style="display: none"
      >
        <!-- InsightPanel component will render here -->
      </section>
    </div>

    <!-- ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æœ€åˆã«èª­ã¿è¾¼ã¿ -->
    <script>
      console.log("ğŸ” [Debug] ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿é–‹å§‹");
    </script>

    <script
      src="../js/data/data_box.js"
      onerror="console.error('âŒ Failed to load data_box.js')"
    ></script>
    <script
      src="../js/data/questions.js"
      onerror="console.error('âŒ Failed to load questions.js')"
    ></script>
    <script
      src="../js/data/vectors.js"
      onerror="console.error('âŒ Failed to load vectors.js')"
    ></script>
    <script
      src="../js/data/hexagrams.js"
      onerror="console.error('âŒ Failed to load hexagrams.js')"
    ></script>
    <script
      src="../js/data/hexagram_details.js"
      onerror="console.error('âŒ Failed to load hexagram_details.js')"
    ></script>
    <script
      src="../js/data/compatibility_definition.js"
      onerror="console.error('âŒ Failed to load compatibility_definition.js')"
    ></script>
    <script
      src="../js/data/compatibility_matrix.js"
      onerror="console.error('âŒ Failed to load compatibility_matrix.js')"
    ></script>
    <script
      src="../js/data/action_plans.js"
      onerror="console.error('âŒ Failed to load action_plans.js')"
    ></script>

    <script>
      console.log("ğŸ” [Debug] ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿å®Œäº†ãƒã‚§ãƒƒã‚¯");
      console.log("HAQEI_DATA:", typeof window.HAQEI_DATA);
      console.log("WORLDVIEW_QUESTIONS:", typeof window.WORLDVIEW_QUESTIONS);
      console.log("H64_8D_VECTORS:", typeof window.H64_8D_VECTORS);
    </script>

    <!-- ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã¨ãƒ™ãƒ¼ã‚¹ã‚¯ãƒ©ã‚¹ -->
    <script
      src="js/utils/validators.js"
      onerror="console.error('âŒ Failed to load validators.js')"
    ></script>
    <script
      src="js/utils/animations.js"
      onerror="console.error('âŒ Failed to load animations.js')"
    ></script>
    <script
      src="js/core/BaseComponent.js"
      onerror="console.error('âŒ Failed to load BaseComponent.js')"
    ></script>

    <script>
      console.log("ğŸ” [Debug] BaseComponent:", typeof BaseComponent);
    </script>

    <!-- ã‚³ã‚¢ã‚¯ãƒ©ã‚¹ -->
    <script
      src="js/core/StorageManager.js"
      onerror="console.error('âŒ Failed to load StorageManager.js')"
    ></script>
    <script
      src="js/core/DataManager.js"
      onerror="console.error('âŒ Failed to load DataManager.js')"
    ></script>
    <script
      src="js/core/Calculator.js"
      onerror="console.error('âŒ Failed to load Calculator.js')"
    ></script>
    <script
      src="js/core/CompatibilityDataLoader.js"
      onerror="console.error('âŒ Failed to load CompatibilityDataLoader.js')"
    ></script>
    <script
      src="js/core/Engine.js"
      onerror="console.error('âŒ Failed to load Engine.js')"
    ></script>
    <script
      src="js/core/TripleOSEngine.js"
      onerror="console.error('âŒ Failed to load TripleOSEngine.js')"
    ></script>

    <script>
      console.log("ğŸ” [Debug] ã‚³ã‚¢ã‚¯ãƒ©ã‚¹èª­ã¿è¾¼ã¿å®Œäº†ãƒã‚§ãƒƒã‚¯");
      console.log("DataManager:", typeof DataManager);
      console.log("Calculator:", typeof Calculator);
      console.log("TripleOSEngine:", typeof TripleOSEngine);
    </script>

    <!-- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ -->
    <script
      src="js/components/WelcomeScreen.js"
      onerror="console.error('âŒ Failed to load WelcomeScreen.js')"
    ></script>
    <script
      src="js/components/QuestionFlow.js"
      onerror="console.error('âŒ Failed to load QuestionFlow.js')"
    ></script>
    <script
      src="js/components/AnalysisView.js"
      onerror="console.error('âŒ Failed to load AnalysisView.js')"
    ></script>
    <script
      src="js/components/ResultsView.js"
      onerror="console.error('âŒ Failed to load ResultsView.js')"
    ></script>
    <script
      src="js/components/TripleOSResultsView.js"
      onerror="console.error('âŒ Failed to load TripleOSResultsView.js')"
    ></script>
    <script
      src="js/components/InsightPanel.js"
      onerror="console.error('âŒ Failed to load InsightPanel.js')"
    ></script>

    <script>
      console.log("ğŸ” [Debug] ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆèª­ã¿è¾¼ã¿å®Œäº†ãƒã‚§ãƒƒã‚¯");
      console.log("WelcomeScreen:", typeof WelcomeScreen);
      console.log("QuestionFlow:", typeof QuestionFlow);
      console.log("TripleOSResultsView:", typeof TripleOSResultsView);
    </script>

    <script>
      console.log(
        "ğŸ•µï¸â€â™‚ï¸ [TRACE-CHECKPOINT 1] app.jså®Ÿè¡Œç›´å‰ã®ã‚¯ãƒ©ã‚¹å®šç¾©ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚"
      );
      console.log(
        " -> TripleOSResultsViewã¯å­˜åœ¨ã™ã‚‹ã‹ï¼Ÿ:",
        typeof TripleOSResultsView
      );
      console.log(
        " -> CompatibilityDataLoaderã¯å­˜åœ¨ã™ã‚‹ã‹ï¼Ÿ:",
        typeof CompatibilityDataLoader
      );
    </script>

    <script src="js/app.js"></script>

    <script>
      // ç·Šæ€¥ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ä½œæˆé–¢æ•°
      function createFallbackHaqeiData() {
        console.warn("âš ï¸ [Fallback] ç·Šæ€¥ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆä¸­...");

        return {
          hexagrams: {},
          hexagrams_master: [
            {
              hexagram_id: 1,
              name_jp: "ä¹¾ç‚ºå¤©",
              reading: "ã‘ã‚“ã„ã¦ã‚“",
              catchphrase: "å¤©ç¿”ã‘ã‚‹é¾ã®ã‚ˆã†ãªã€å¤©æ€§ã®ãƒªãƒ¼ãƒ€ãƒ¼",
              upper_trigram_id: 1,
              lower_trigram_id: 1,
              description: "ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ - åŸºæœ¬çš„ãªå¦æƒ…å ±",
              keywords: "å‰µé€ ,ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—,åŠ›",
            },
          ],
          os_manual: {},
          trigrams_master: [],
          element_relationships: [],
          action_plans: {},
          sho_den: {},
          tai_sho_den: {},
          jo_ka_den: {},
          zatsu_ka_den: {},
          tuan_den: {},
        };
      }

      // ç·Šæ€¥ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è³ªå•ãƒ‡ãƒ¼ã‚¿ä½œæˆé–¢æ•°
      function createFallbackQuestions() {
        console.warn("âš ï¸ [Fallback] ç·Šæ€¥ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è³ªå•ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆä¸­...");

        return [
          {
            id: "q1",
            text: "ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è³ªå•: ã‚ãªãŸã®åŸºæœ¬çš„ãªä¾¡å€¤è¦³ã¯ï¼Ÿ",
            options: [
              {
                value: "A",
                text: "å‰µé€ æ€§ã‚’é‡è¦–ã™ã‚‹",
                scoring_tags: [{ key: "ä¹¾_å‰µé€ æ€§", value: 3.0 }],
              },
              {
                value: "B",
                text: "å®‰å®šæ€§ã‚’é‡è¦–ã™ã‚‹",
                scoring_tags: [{ key: "è‰®_å®‰å®šæ€§", value: 3.0 }],
              },
            ],
          },
        ];
      }

      // ç·Šæ€¥ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ™ã‚¯ãƒˆãƒ«ãƒ‡ãƒ¼ã‚¿ä½œæˆé–¢æ•°
      function createFallbackVectors() {
        console.warn(
          "âš ï¸ [Fallback] ç·Šæ€¥ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ™ã‚¯ãƒˆãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆä¸­..."
        );

        const fallbackVectors = {};
        for (let i = 1; i <= 64; i++) {
          fallbackVectors[i] = {
            ä¹¾_å‰µé€ æ€§: 5,
            éœ‡_è¡Œå‹•æ€§: 5,
            å_æ¢æ±‚æ€§: 5,
            è‰®_å®‰å®šæ€§: 5,
            å¤_å—å®¹æ€§: 5,
            å·½_é©å¿œæ€§: 5,
            é›¢_è¡¨ç¾æ€§: 5,
            å…Œ_èª¿å’Œæ€§: 5,
          };
        }
        return fallbackVectors;
      }

      // ç·Šæ€¥ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¦è©³ç´°ãƒ‡ãƒ¼ã‚¿ä½œæˆé–¢æ•°
      function createFallbackHexagramDetails() {
        console.warn("âš ï¸ [Fallback] ç·Šæ€¥ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¦è©³ç´°ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆä¸­...");

        return {
          1: {
            name_jp: "ä¹¾ç‚ºå¤©ï¼ˆã‘ã‚“ã„ã¦ã‚“ï¼‰",
            catchphrase: "å¤©ã®å‰µé€ æ€§ã€‚ç„¡é™ã®å¯èƒ½æ€§ã‚’ç§˜ã‚ãŸãƒªãƒ¼ãƒ€ãƒ¼ã€‚",
            description: "ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ - åŸºæœ¬çš„ãªå¦è©³ç´°æƒ…å ±",
            keywords: [
              "å‰µé€ ",
              "ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—",
              "çˆ¶æ€§",
              "ç„¡é™",
              "è¡Œå‹•",
              "æ±ºæ–­åŠ›",
            ],
            engine: {
              strength_meter: 95,
              core_drive: "æ–°ã—ã„ã‚‚ã®ã‚’å‰µé€ ã—ã€ä¸–ç•Œã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã“ã¨ã€‚",
              potential_strengths: ["å“è¶Šã—ãŸãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã¨ã‚«ãƒªã‚¹ãƒæ€§"],
              potential_weaknesses: ["è‡ªå·±ä¸­å¿ƒçš„ã§ã€ä»–è€…ã®æ„è¦‹ã‚’èã‹ãªã„å‚¾å‘"],
            },
            interface: {
              how_it_appears: "è‡ªä¿¡ã«æº€ã¡ã€å ‚ã€…ã¨ã—ãŸæŒ¯ã‚‹èˆã„ã€‚",
              behavioral_patterns: ["ä¼šè­°ã‚„è­°è«–ã§ç©æ¥µçš„ã«æ„è¦‹ã‚’è¿°ã¹ã‚‹"],
              impression_on_others:
                "é ¼ã‚Šã«ãªã‚‹ãƒªãƒ¼ãƒ€ãƒ¼ã ãŒã€å°‘ã—è¿‘å¯„ã‚ŠãŒãŸã„ã€‚",
            },
            safe_mode: {
              trigger_situations: ["è‡ªåˆ†ã®æ¨©å¨ã‚„èƒ½åŠ›ãŒè„…ã‹ã•ã‚ŒãŸã¨æ„Ÿã˜ãŸæ™‚"],
              defensive_patterns: ["ç‹¬æ–­ã§ç‰©äº‹ã‚’æ±ºå®šã—ã€ä»–è€…ã®ä»‹å…¥ã‚’æ‹’çµ¶ã™ã‚‹"],
              internal_state: "ã€Œãªãœèª°ã‚‚ç†è§£ã§ããªã„ã‚“ã ã€ã¨ã„ã†å­¤ç‹¬æ„Ÿ",
            },
          },
        };
      }
    </script>

    <script>
      // ã‚¹ã‚¯ãƒªãƒ—ãƒˆèª­ã¿è¾¼ã¿çŠ¶æ…‹ã‚’è¿½è·¡
      window.scriptLoadingStatus = {
        dataBoxLoaded: false,
        coreClassesLoaded: false,
        dataFilesLoaded: false,
        componentsLoaded: false,
        allLoaded: false,
        loadAttempts: 0,
        maxAttempts: 50,
        startTime: Date.now(),
        lastCheckTime: Date.now(),
        detailedStatus: {},
        pathValidator: null,
        errorReporter: null,
        performanceMonitor: null,
      };

      // ã‚¨ãƒ©ãƒ¼æ¤œå‡ºãƒ»å ±å‘Šã‚·ã‚¹ãƒ†ãƒ ã¨ãƒ‘ã‚¹æ¤œè¨¼ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–
      function initializeErrorDetectionSystems() {
        console.log("ğŸ”§ [ErrorSystems] ç°¡æ˜“åˆæœŸåŒ–ã‚·ã‚¹ãƒ†ãƒ é–‹å§‹");
      }

      // ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ‘ã‚¹ã®äº‹å‰æ¤œè¨¼
      async function performScriptPathValidation() {
        console.log("ğŸ” [PathValidation] ç°¡æ˜“ãƒ‘ã‚¹æ¤œè¨¼ã‚¹ã‚­ãƒƒãƒ—");
      }

      // ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿å®Œäº†ãƒã‚§ãƒƒã‚¯é–¢æ•°
      function checkDataLoadingComplete() {
        const status = window.scriptLoadingStatus;
        status.loadAttempts++;

        console.log(`ğŸ” [LoadingCheck] ç¢ºèª (${status.loadAttempts}/10)`);

        // åŸºæœ¬çš„ãªã‚¯ãƒ©ã‚¹ã®å­˜åœ¨ç¢ºèª
        const coreClassesLoaded =
          typeof BaseComponent !== "undefined" &&
          typeof DataManager !== "undefined" &&
          typeof Calculator !== "undefined" &&
          typeof TripleOSEngine !== "undefined";

        // åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿ã®å­˜åœ¨ç¢ºèª
        const dataLoaded =
          typeof window.HAQEI_DATA !== "undefined" &&
          typeof window.WORLDVIEW_QUESTIONS !== "undefined";

        // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å­˜åœ¨ç¢ºèª
        const componentsLoaded =
          typeof WelcomeScreen !== "undefined" &&
          typeof QuestionFlow !== "undefined" &&
          typeof TripleOSResultsView !== "undefined";

        status.allLoaded = coreClassesLoaded && dataLoaded && componentsLoaded;

        if (status.allLoaded) {
          console.log("âœ… [LoadingCheck] ã™ã¹ã¦ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒèª­ã¿è¾¼ã¿å®Œäº†");
          return true;
        }

        // å€‹åˆ¥ã‚¨ãƒ©ãƒ¼å ±å‘Š
        if (!coreClassesLoaded) {
          console.warn("âš ï¸ ä¸è¶³ã‚¯ãƒ©ã‚¹:", {
            BaseComponent: typeof BaseComponent !== "undefined",
            DataManager: typeof DataManager !== "undefined",
            Calculator: typeof Calculator !== "undefined",
            TripleOSEngine: typeof TripleOSEngine !== "undefined",
          });
        }
        if (!componentsLoaded) {
          console.warn("âš ï¸ ä¸è¶³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:", {
            WelcomeScreen: typeof WelcomeScreen !== "undefined",
            QuestionFlow: typeof QuestionFlow !== "undefined",
            TripleOSResultsView: typeof TripleOSResultsView !== "undefined",
          });
        }

        if (status.loadAttempts >= 10) {
          console.warn("âš ï¸ [LoadingCheck] ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ - å¼·åˆ¶åˆæœŸåŒ–");
          return false;
        }

        return false;
      }

      // DOMèª­ã¿è¾¼ã¿å®Œäº†å¾Œã®å‡¦ç†
      document.addEventListener("DOMContentLoaded", function () {
        console.log("ğŸ” [DOMContentLoaded] DOMèª­ã¿è¾¼ã¿å®Œäº†");

        // åˆå›ãƒã‚§ãƒƒã‚¯
        if (checkDataLoadingComplete()) {
          initializeApplication();
          return;
        }

        // å®šæœŸçš„ãªãƒã‚§ãƒƒã‚¯
        const checkInterval = setInterval(() => {
          if (checkDataLoadingComplete()) {
            clearInterval(checkInterval);
            initializeApplication();
          }
        }, 100);

        // 2ç§’å¾Œã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
        setTimeout(() => {
          clearInterval(checkInterval);
          console.warn("âš ï¸ [LoadingCheck] ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ - å¼·åˆ¶åˆæœŸåŒ–å®Ÿè¡Œ");
          initializeApplication();
        }, 2000);
      });

      // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–é–¢æ•°
      function initializeApplication() {
        console.log("ğŸš€ [InitializeApp] ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–é–‹å§‹");

        try {
          // åŸºæœ¬ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
          if (!window.HAQEI_DATA) {
            console.warn("âš ï¸ HAQEI_DATA ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ä½œæˆ");
            window.HAQEI_DATA = createFallbackHaqeiData();
          }
          if (!window.WORLDVIEW_QUESTIONS) {
            console.warn("âš ï¸ WORLDVIEW_QUESTIONS ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ä½œæˆ");
            window.WORLDVIEW_QUESTIONS = createFallbackQuestions();
          }
          if (!window.SCENARIO_QUESTIONS) {
            console.warn("âš ï¸ SCENARIO_QUESTIONS ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ä½œæˆ");
            window.SCENARIO_QUESTIONS = createFallbackQuestions();
          }

          console.log("âœ… [InitializeApp] åˆæœŸåŒ–å®Œäº†");
        } catch (error) {
          console.error("âŒ [InitializeApp] åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼:", error);
        }
      }
    </script>

    <script>
      // æ—§å½¢å¼ã®ãƒ‡ãƒãƒƒã‚°ç¢ºèªï¼ˆå¾Œæ–¹äº’æ›æ€§ã®ãŸã‚ï¼‰
      document.addEventListener("DOMContentLoaded", function () {
        console.log("ğŸ” [Legacy] Class definitions check:");
        console.log("BaseComponent:", typeof BaseComponent);
        console.log("DataManager:", typeof DataManager);
        console.log("Calculator:", typeof Calculator);
        console.log("DiagnosisEngine:", typeof DiagnosisEngine);
        console.log("TripleOSEngine:", typeof TripleOSEngine);
        console.log("StorageManager:", typeof StorageManager);

        // ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã¯è­¦å‘Šè¡¨ç¤º
        if (typeof DiagnosisEngine === "undefined") {
          console.error("âŒ DiagnosisEngine is not defined!");
        }
        if (typeof TripleOSEngine === "undefined") {
          console.error("âŒ TripleOSEngine is not defined!");
        }

        // ãƒ‡ãƒ¼ã‚¿ã®å­˜åœ¨ç¢ºèª
        console.log("WORLDVIEW_QUESTIONS:", typeof WORLDVIEW_QUESTIONS);
        console.log("SCENARIO_QUESTIONS:", typeof SCENARIO_QUESTIONS);
        console.log("H64_8D_VECTORS:", typeof H64_8D_VECTORS);
      });
    </script>

    <!-- å®Œå…¨ç›¸æ€§åˆ†æãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="compatibility-modal" class="modal-container" style="display: none">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <header class="modal-header">
          <h2>ğŸ¯ å®Œå…¨ç›¸æ€§åˆ†æ</h2>
          <button class="modal-close-button" aria-label="é–‰ã˜ã‚‹">
            &times;
          </button>
        </header>
        <div id="compatibility-modal-body" class="modal-body"></div>
      </div>
    </div>
  </body>
</html>
