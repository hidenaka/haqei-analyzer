<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="HaQei - ã‚ãªãŸã®ç‰©èªã‚’èª­ã¿è§£ãã€æ¬¡ä¸–ä»£ã®è‡ªå·±åˆ†æãƒ„ãƒ¼ãƒ«ã€‚äººæ ¼OSã®ç‰¹å®šã‹ã‚‰æœªæ¥ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¾ã§ã€‚" />
    <title>HaQei - ã‚ãªãŸã®ç‰©èªã‚’èª­ã¿è§£ãã€æ¬¡ä¸–ä»£ã®è‡ªå·±åˆ†æ</title>
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/index.css" />
    
    <!-- Additional styles for cross-platform integration -->
    <style>
      .diagnosis-status {
        margin: 1rem 0;
        padding: 1rem;
        background: linear-gradient(135deg, #059669, #047857);
        border-radius: 8px;
        color: white;
      }

      .status-indicator {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-bottom: 0.75rem;
        font-weight: 600;
      }

      .status-icon {
        font-size: 1.25rem;
      }

      .diagnosis-overview {
        font-size: 0.9rem;
        line-height: 1.5;
      }

      .diagnosis-overview > div {
        margin-bottom: 0.5rem;
      }

      .primary-os {
        font-size: 1rem;
        color: #ecfdf5;
      }

      .quality-score {
        color: #d1fae5;
      }

      .upgrade-hint {
        color: #fef3c7;
        font-style: italic;
        margin-top: 0.75rem;
        padding-top: 0.75rem;
        border-top: 1px solid rgba(255,255,255,0.2);
      }

      .premium-upgrade {
        background: linear-gradient(135deg, #4f46e5, #7c3aed) !important;
        color: white !important;
        font-weight: 600;
        box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        transition: all 0.3s ease;
      }

      .premium-upgrade:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(79, 70, 229, 0.4);
      }

      @media (max-width: 768px) {
        .diagnosis-status {
          margin: 0.75rem 0;
          padding: 0.75rem;
        }

        .diagnosis-overview {
          font-size: 0.85rem;
        }
      }
    </style>
  </head>
  
  <body>
    <!-- Header -->
    <header class="header">
      <nav class="nav container">
        <div class="nav-brand brand-text">HaQei</div>
        <ul class="nav-links">
          <li><a href="#services" class="nav-link">ã‚µãƒ¼ãƒ“ã‚¹</a></li>
          <li><a href="#contact" class="nav-link">ãŠå•ã„åˆã‚ã›</a></li>
        </ul>
      </nav>
    </header>

    <!-- Main Content -->
    <main>
      <!-- Hero Section -->
      <section class="hero">
        <div class="container">
          <h1 class="hero-title fade-in-up">
            ã‚ãªãŸã®ç‰©èªã‚’èª­ã¿è§£ã<br />
            æ¬¡ä¸–ä»£ã®è‡ªå·±åˆ†æ
          </h1>
          <p class="hero-subtitle fade-in-up">
            å¤ä»£ã®æ˜“çµŒã®æ™ºæ…§ã¨æœ€æ–°ã®ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ãŒèåˆã€‚<br>
            <strong>bunenjinå“²å­¦</strong>ã«åŸºã¥ã<strong>Triple OSåˆ†æ</strong>ã§ã€
            ã‚ãªãŸã®ä¸­ã®3ã¤ã®äººæ ¼ã‚·ã‚¹ãƒ†ãƒ ã‚’ç§‘å­¦çš„ã«å¯è¦–åŒ–ã—ã¾ã™ã€‚
          </p>
          <div class="hero-actions fade-in-up">
            <a href="quick_analyzer.html" class="hero-cta">
              3åˆ†ã§è¨ºæ–­ã‚’å§‹ã‚ã‚‹
            </a>
            <a href="bunenjin-philosophy.html" class="hero-cta-secondary">
              bunenjinå“²å­¦ã¨ã¯ï¼Ÿ
            </a>
          </div>
        </div>
      </section>

      <!-- Services Section -->
      <section id="services" class="services">
        <div class="container">
          <h2 class="services-title">HaQeiãŒæä¾›ã™ã‚‹ä¾¡å€¤</h2>
          
          <div class="services-grid">
            <!-- Quick Analyzer -->
            <div class="service-card featured">
              <span class="service-badge">ã¾ãšã¯ã“ã“ã‹ã‚‰</span>
              <h3 class="service-title">ã‚¯ã‚¤ãƒƒã‚¯è¨ºæ–­</h3>
              <p class="service-description">
                ãŸã£ãŸ<strong>3åˆ†ã§</strong>ã‚ãªãŸã®å…«å¦ã‚¢ãƒã‚¿ãƒ¼ã‚’ç™ºè¦‹ã€‚
                ã‚·ãƒ³ãƒ—ãƒ«ãªè³ªå•ã§ã€ã‚ãªãŸã®<strong>åŸºæœ¬çš„ãªäººæ ¼å‚¾å‘</strong>ã‚’ç´ æ—©ãæŠŠæ¡ã§ãã¾ã™ã€‚
              </p>
              <a href="quick_analyzer.html" class="service-link">
                ã‚¯ã‚¤ãƒƒã‚¯è¨ºæ–­ã‚’è©¦ã™ â†’
              </a>
            </div>

            <!-- Main Service -->
            <div class="service-card" id="os-analyzer-card">
              <h3 class="service-title">äººæ ¼OSåˆ†æ</h3>
              <p class="service-description">
                è¤‡æ•°ã®æ€§æ ¼åˆ†æã‹ã‚‰ã‚ãªãŸã®<strong>äººæ ¼OS</strong>ã‚’ç‰¹å®šã€‚
                å¼·ã¿ãƒ»å¼±ã¿ã‹ã‚‰ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®å……é›»æ–¹æ³•ã¾ã§ã‚’ç¶²ç¾…ã—ãŸã€
                <strong>OSã®ã€Œå–æ‰±èª¬æ˜æ›¸ã€</strong>ã§ã™ã€‚
              </p>
              <div class="diagnosis-status" id="diagnosis-status" style="display: none;">
                <div class="status-indicator">
                  <span class="status-icon">âœ…</span>
                  <span class="status-text">è¨ºæ–­å®Œäº†æ¸ˆã¿</span>
                </div>
                <div class="diagnosis-summary" id="diagnosis-summary">
                  <!-- è¨ºæ–­çµæœã®ã‚µãƒãƒªãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹ -->
                </div>
              </div>
              <a href="os_analyzer.html" class="service-link" id="os-analyzer-link">
                è©³ç´°åˆ†æã‚’å—ã‘ã‚‹ â†’
              </a>
            </div>

            <!-- Future Simulator -->
            <div class="service-card">
              <h3 class="service-title">æœªæ¥åˆ†å²ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h3>
              <p class="service-description">
                ã‚ãªãŸã®èª²é¡Œã¨é¸æŠè‚¢ãŒã€ã©ã®ã‚ˆã†ãª<strong>å±•é–‹ã‚·ãƒŠãƒªã‚ª</strong>ã‚’ç”Ÿã‚€ã‹ã€‚
                OSã®åŠ›å­¦ã«åŸºã¥ãã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã—ã€ã‚ãªãŸã®<strong>æˆ¦ç•¥çš„ãªæ„æ€æ±ºå®š</strong>ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚
              </p>
              <a href="future_simulator.html" class="service-link">
                ãƒ„ãƒ¼ãƒ«ã‚’è©¦ã™ â†’
              </a>
            </div>

            <!-- Library -->
            <div class="service-card">
              <h3 class="service-title">HaQei ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</h3>
              <p class="service-description">
                HaQeiã®æ™ºæ…§ã®æºæ³‰ã§ã‚ã‚‹ã€<strong>æ˜“çµŒã€Œåç¿¼ã€</strong>ã®è§£èª¬ã‚’å…¬é–‹ã€‚
                64å¦ã®å¥¥æ·±ã„ä¸–ç•Œã‚’æ¢æ±‚ã—ã€ã‚ãªãŸã®è‡ªå·±åˆ†æã‚’ã•ã‚‰ã«æ·±ã‚ã¾ã™ã€‚
              </p>
              <a href="library.html" class="service-link">
                ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ¢ç´¢ã™ã‚‹ â†’
              </a>
            </div>

            <!-- Strategic Cockpit -->
            <div class="service-card">
              <h3 class="service-title">æˆ¦ç•¥ã‚³ãƒƒã‚¯ãƒ”ãƒƒãƒˆ</h3>
              <p class="service-description">
                åˆ†æçµæœã‚’çµ±åˆçš„ã«ç®¡ç†ã—ã€ã‚ãªãŸã®<strong>äººç”Ÿæˆ¦ç•¥</strong>ã‚’å¯è¦–åŒ–ã€‚
                ç¶™ç¶šçš„ãªæˆé•·ã¨æ„æ€æ±ºå®šã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹çµ±åˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã™ã€‚
              </p>
              <a href="cockpit.html" class="service-link">
                ã‚³ãƒƒã‚¯ãƒ”ãƒƒãƒˆã‚’è¦‹ã‚‹ â†’
              </a>
            </div>
          </div>
        </div>
      </section>

      <!-- Contact Section -->
      <section id="contact" class="contact">
        <div class="container">
          <h2 class="contact-title">ç‰©èªã®ä¸»äººå…¬ã¯ã€ã‚ãªãŸã§ã™</h2>
          <p class="contact-description">
            ä»–äººã‚„å¸¸è­˜ã«æŒ¯ã‚Šå›ã•ã‚Œã‚‹ã®ã¯ã€ã‚‚ã†çµ‚ã‚ã‚Šã«ã—ã¾ã›ã‚“ã‹ã€‚
            ã”è³ªå•ã‚„å€‹åˆ¥ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ã®ã”ç›¸è«‡ãªã©ã€ã¾ãšã¯ãŠæ°—è»½ã«ãŠå£°ãŒã‘ãã ã•ã„ã€‚
          </p>
          <a href="mailto:info@haqei.example.com" class="contact-btn">
            ãŠå•ã„åˆã‚ã›ã¯ã“ã¡ã‚‰
          </a>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container footer-content">
        <div class="footer-links">
          <a href="terms.html" class="footer-link">åˆ©ç”¨è¦ç´„</a>
          <a href="privacy.html" class="footer-link">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
        </div>
        <p class="footer-copyright">
          &copy; 2025 HaQei. All Rights Reserved.
        </p>
      </div>
    </footer>

    <!-- Cross-platform bridge scripts -->
    <script src="js/shared/core/StorageManager.js"></script>
    <script src="js/shared/core/DiagnosisDataFormat.js"></script>
    <script src="js/shared/core/CrossPlatformBridge.js"></script>

    <!-- JavaScript for enhanced interactions -->
    <script>
      // Smooth scrolling for navigation links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });

      // Fade in animation on scroll
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('fade-in-up');
          }
        });
      }, observerOptions);

      // Observe service cards
      document.querySelectorAll('.service-card').forEach(card => {
        observer.observe(card);
      });

      // Add loading animation to CTA buttons
      document.querySelectorAll('.hero-cta, .contact-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          this.style.opacity = '0.8';
          this.style.transform = 'scale(0.98)';
          setTimeout(() => {
            this.style.opacity = '';
            this.style.transform = '';
          }, 150);
        });
      });

      // è¨ºæ–­ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã¨è¡¨ç¤º
      async function loadDiagnosisStatus() {
        try {
          console.log('ğŸ” Loading diagnosis status for index page...');

          // CrossPlatformBridgeã‚’åˆæœŸåŒ–
          if (typeof CrossPlatformBridge !== 'undefined') {
            const bridge = new CrossPlatformBridge();
            
            // è¨ºæ–­ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿
            const loadResult = await bridge.loadDiagnosisForIndexPage();
            
            if (loadResult.hasData) {
              // è¨ºæ–­å®Œäº†çŠ¶æ…‹ã‚’è¡¨ç¤º
              displayDiagnosisStatus(loadResult);
            } else {
              console.log('â„¹ï¸ No diagnosis data found');
            }
          } else {
            console.warn('âš ï¸ CrossPlatformBridge not available');
          }

        } catch (error) {
          console.error('âŒ Failed to load diagnosis status:', error);
        }
      }

      // è¨ºæ–­çŠ¶æ…‹ã®è¡¨ç¤º
      function displayDiagnosisStatus(loadResult) {
        try {
          const statusElement = document.getElementById('diagnosis-status');
          const summaryElement = document.getElementById('diagnosis-summary');
          const linkElement = document.getElementById('os-analyzer-link');

          if (statusElement && summaryElement && linkElement) {
            // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º
            statusElement.style.display = 'block';

            // ã‚µãƒãƒªãƒ¼å†…å®¹ã®ç”Ÿæˆ
            const indexData = loadResult.indexPageData;
            if (indexData && indexData.dashboard) {
              summaryElement.innerHTML = `
                <div class="diagnosis-overview">
                  <div class="primary-os">
                    <strong>ä¸»è¦äººæ ¼OS:</strong> ${indexData.dashboard.primaryOS.name}
                  </div>
                  <div class="quality-score">
                    <strong>åˆ†æå“è³ª:</strong> ${(indexData.dashboard.scores.quality * 100).toFixed(0)}%
                  </div>
                  <div class="upgrade-hint">
                    ${loadResult.upgradeOptions?.available ? 
                      'ğŸš€ ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãƒ¬ãƒãƒ¼ãƒˆã§è©³ç´°æˆ¦ç•¥ã‚’å–å¾—ã§ãã¾ã™' : 
                      'è©³ç´°ãªæˆ¦ç•¥åˆ†æã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ã¾ã›ã‚“ã‹ï¼Ÿ'
                    }
                  </div>
                </div>
              `;

              // ãƒªãƒ³ã‚¯ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤‰æ›´
              linkElement.textContent = 'çµæœã‚’ç¢ºèªãƒ»ç®¡ç†ã™ã‚‹ â†’';

              // ãƒ—ãƒ¬ãƒŸã‚¢ãƒ èª˜å°ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
              if (loadResult.upgradeOptions?.available) {
                const upgradeButton = document.createElement('a');
                upgradeButton.href = 'professional_report.html';
                upgradeButton.className = 'service-link premium-upgrade';
                upgradeButton.innerHTML = 'ğŸŒŸ ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãƒ¬ãƒãƒ¼ãƒˆ (Â¥2,980) â†’';
                upgradeButton.style.cssText = `
                  background: linear-gradient(135deg, #4f46e5, #7c3aed);
                  margin-top: 0.5rem;
                  display: inline-block;
                `;
                
                linkElement.parentNode.appendChild(upgradeButton);
              }
            }

            console.log('âœ… Diagnosis status displayed successfully');
          }

        } catch (error) {
          console.error('âŒ Failed to display diagnosis status:', error);
        }
      }

      // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å¾Œã«è¨ºæ–­çŠ¶æ…‹ã‚’ãƒã‚§ãƒƒã‚¯
      document.addEventListener('DOMContentLoaded', function() {
        // å°‘ã—é…å»¶ã—ã¦ã‹ã‚‰ãƒ­ãƒ¼ãƒ‰ï¼ˆä»–ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®èª­ã¿è¾¼ã¿å®Œäº†ã‚’å¾…ã¤ï¼‰
        setTimeout(loadDiagnosisStatus, 500);
      });

      // ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é–“é€£æºã®çŠ¶æ…‹ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤º
      function checkCrossPlatformIntegration() {
        try {
          if (typeof CrossPlatformBridge !== 'undefined') {
            const bridge = new CrossPlatformBridge();
            const status = bridge.checkCrossPlatformStatus();
            
            console.log('ğŸŒ‰ Cross-platform status:', status);
            
            if (status.hasData) {
              console.log('âœ… Diagnosis data is available across platforms');
              console.log('ğŸ“Š Data quality:', (status.dataQuality * 100).toFixed(1) + '%');
              console.log('ğŸ› ï¸ Available platforms:', status.platforms);
            } else {
              console.log('â„¹ï¸ No diagnosis data found. Please complete OS analysis first.');
            }
          }
        } catch (error) {
          console.error('âŒ Cross-platform check failed:', error);
        }
      }

      // ãƒ‡ãƒãƒƒã‚°ç”¨ï¼ˆé–‹ç™ºæ™‚ã®ã¿ï¼‰
      if (window.location.search.includes('debug=true')) {
        setTimeout(checkCrossPlatformIntegration, 1000);
      }
    </script>
  </body>
</html>