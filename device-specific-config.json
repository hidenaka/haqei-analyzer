{
  "deviceProfiles": {
    "macbook-air": {
      "identifier": "hideakiMacBook-Air.local",
      "deviceType": "macbook",
      "paths": {
        "projectRoot": "/Users/hideakimacbookair/Desktop/haqei-analyzer",
        "nodeExecutable": "/Users/hideakimacbookair/.nvm/versions/node/v22.17.0/bin/node",
        "claudeConfig": "/Users/hideakimacbookair/Library/Application Support/Claude",
        "homeDirectory": "/Users/hideakimacbookair"
      },
      "ports": {
        "cipher": 3001,
        "futureSimulator": 8788,
        "osAnalyzer": 8001,
        "development": 8789
      },
      "capabilities": {
        "primaryDevelopment": true,
        "playwright": true,
        "fullMCPStack": true
      }
    },
    "mac-mini": {
      "identifier": "mac-mini.local",
      "deviceType": "macmini",
      "paths": {
        "projectRoot": "/Users/hideaki/Desktop/haqei-analyzer",
        "nodeExecutable": "/opt/homebrew/bin/node",
        "claudeConfig": "/Users/hideaki/Library/Application Support/Claude",
        "homeDirectory": "/Users/hideaki"
      },
      "ports": {
        "cipher": 3001,
        "futureSimulator": 8788,
        "osAnalyzer": 8001,
        "development": 8789
      },
      "capabilities": {
        "primaryDevelopment": false,
        "playwright": true,
        "fullMCPStack": true,
        "productionTesting": true
      }
    }
  },
  "sharedConfiguration": {
    "mcpServers": {
      "cipher": {
        "description": "Cipher Dual Memory Layer - bunenjin哲学とプロジェクト記憶",
        "timeout": 30000,
        "env": {
          "NODE_ENV": "development",
          "CIPHER_PORT": "3001"
        }
      },
      "tsumiki": {
        "description": "Tsumiki AI駆動開発フレームワーク - 構造化品質管理",
        "timeout": 60000,
        "env": {
          "NODE_ENV": "development"
        }
      },
      "serena": {
        "description": "Serena セマンティックコード分析とファイル監視",
        "timeout": 45000,
        "env": {
          "PYTHONPATH": "${PROJECT_ROOT}"
        }
      },
      "playwright": {
        "description": "Playwright MCP - ブラウザ自動化とE2Eテスト",
        "timeout": 30000,
        "env": {
          "NODE_ENV": "development"
        }
      }
    },
    "projectStructure": {
      "requiredFiles": [
        "cipher-server.js",
        "tsumiki-cli.js",
        ".serena/project.yml",
        "package.json",
        "CLAUDE.md"
      ],
      "requiredDirectories": [
        "public",
        "docs",
        "scripts",
        ".serena"
      ]
    },
    "syncSettings": {
      "excludePatterns": [
        "node_modules/",
        ".git/",
        "*.log",
        "*.pid",
        ".env.local",
        ".DS_Store"
      ],
      "includePatterns": [
        "*.js",
        "*.json",
        "*.md",
        "*.yml",
        "*.yaml",
        "public/**/*",
        "docs/**/*",
        "scripts/**/*"
      ]
    }
  },
  "migrationTasks": {
    "macbook-to-macmini": [
      {
        "task": "clone_repository",
        "description": "リポジトリのクローンまたは更新",
        "command": "git clone <repo_url> || git pull origin main"
      },
      {
        "task": "install_dependencies", 
        "description": "Node.js依存関係のインストール",
        "command": "npm install"
      },
      {
        "task": "setup_mcp_environment",
        "description": "MCP環境の設定",
        "command": "./setup-mcp-environment.sh"
      },
      {
        "task": "restart_claude_desktop",
        "description": "Claude Desktopの再起動",
        "manual": true
      },
      {
        "task": "test_mcp_services",
        "description": "MCPサービスの動作テスト",
        "command": "./start-mcp-services.sh"
      }
    ]
  },
  "validation": {
    "requiredSoftware": {
      "node": {
        "minVersion": "22.17.0",
        "checkCommand": "node --version"
      },
      "python3": {
        "minVersion": "3.12.0",
        "checkCommand": "python3 --version"
      },
      "npm": {
        "minVersion": "10.0.0",
        "checkCommand": "npm --version"
      },
      "git": {
        "minVersion": "2.30.0",
        "checkCommand": "git --version"
      }
    },
    "healthChecks": {
      "cipher": "curl -s http://localhost:3001/health",
      "tsumiki": "node tsumiki-cli.js --version",
      "serena": "python3 -m serena_mcp --version",
      "playwright": "npx @playwright/mcp --version"
    }
  },
  "troubleshooting": {
    "commonIssues": {
      "port_conflict": {
        "description": "ポート競合の解決",
        "solution": "lsof -i :3001 && pkill -f cipher-server"
      },
      "node_path_missing": {
        "description": "Node.jsパスが見つからない",
        "solution": "which node && nvm use v22.17.0"
      },
      "python_module_missing": {
        "description": "Pythonモジュールが見つからない",
        "solution": "pip3 install -r requirements.txt"
      },
      "claude_config_not_found": {
        "description": "Claude設定が見つからない",
        "solution": "mkdir -p ~/Library/Application\\ Support/Claude"
      }
    }
  }
}