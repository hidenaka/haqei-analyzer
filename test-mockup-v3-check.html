<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HAQEI - æ´—ç·´ç‰ˆ çµæœç”»é¢</title>
    <style>
        /* ==========================================================================
           HAQEI æ´—ç·´ç‰ˆãƒ‡ã‚¶ã‚¤ãƒ³ - å…ƒã®ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’æ´»ã‹ã—ãŸéšå±¤çš„æƒ…å ±è¨­è¨ˆ
           ========================================================================== */
        
        :root {
            /* ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ */
            --primary-blue: #3b82f6;
            --primary-blue-dark: #2563eb;
            --secondary-blue: #6366f1;
            --light-blue: #dbeafe;
            --very-light-blue: #f0f9ff;
            
            /* Engine OS ã‚«ãƒ©ãƒ¼ */
            --engine-color: #f59e0b;
            --engine-light: #fef3c7;
            --engine-dark: #d97706;
            
            /* Interface OS ã‚«ãƒ©ãƒ¼ */
            --interface-color: #10b981;
            --interface-light: #d1fae5;
            --interface-dark: #059669;
            
            /* SafeMode OS ã‚«ãƒ©ãƒ¼ */
            --safemode-color: #8b5cf6;
            --safemode-light: #e9d5ff;
            --safemode-dark: #7c3aed;
            
            /* ã‚°ãƒ¬ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ« */
            --white: #ffffff;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            
            /* ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚° */
            --spacing-xs: 0.5rem;
            --spacing-sm: 0.75rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            --spacing-2xl: 3rem;
            
            /* ã‚·ãƒ£ãƒ‰ã‚¦ */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans JP', sans-serif;
            line-height: 1.6;
            color: var(--gray-900);
            background: linear-gradient(180deg, var(--very-light-blue) 0%, var(--gray-50) 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        /* ==========================================================================
           ãƒ¬ãƒ™ãƒ«1: ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ - ä¸€ç›®ã§åˆ†ã‹ã‚‹çµè«–
           ========================================================================== */
        
        .hero-section {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            color: white;
            padding: var(--spacing-2xl) var(--spacing-lg);
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 60%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, transparent 70%);
            pointer-events: none;
        }

        .hero-container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .hero-badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            padding: 0.25rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-bottom: var(--spacing-md);
            backdrop-filter: blur(10px);
        }

        .hero-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0 0 var(--spacing-lg) 0;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            opacity: 0.95;
            margin-bottom: var(--spacing-xl);
            max-width: 600px;
        }

        /* 3ã¤ã®ç‰¹æ€§ã‚«ãƒ¼ãƒ‰ */
        .hero-traits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
        }

        .trait-card {
            background: rgba(255, 255, 255, 0.95);
            color: var(--gray-900);
            padding: var(--spacing-lg);
            border-radius: 12px;
            text-align: center;
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .trait-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
        }

        .trait-emoji {
            font-size: 2.5rem;
            margin-bottom: var(--spacing-sm);
        }

        .trait-label {
            font-size: 0.9rem;
            color: var(--gray-600);
            margin-bottom: var(--spacing-xs);
        }

        .trait-value {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .trait-desc {
            font-size: 0.85rem;
            color: var(--gray-700);
            margin-top: var(--spacing-xs);
        }

        .hero-scroll {
            text-align: center;
            margin-top: var(--spacing-lg);
        }

        .scroll-button {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid white;
            color: white;
            padding: var(--spacing-sm) var(--spacing-xl);
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .scroll-button:hover {
            background: white;
            color: var(--primary-blue);
            transform: scale(1.05);
        }

        /* ==========================================================================
           ãƒ¬ãƒ™ãƒ«2: ã‚¨ãƒƒã‚»ãƒ³ã‚·ãƒ£ãƒ«ãƒ»ã‚µãƒãƒªãƒ¼
           ========================================================================== */
        
        .summary-section {
            background: white;
            padding: var(--spacing-2xl) var(--spacing-lg);
        }

        .summary-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .summary-header {
            text-align: center;
            margin-bottom: var(--spacing-2xl);
        }

        .summary-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--gray-900);
            margin: 0 0 var(--spacing-sm) 0;
        }

        .summary-desc {
            color: var(--gray-600);
            font-size: 1.1rem;
        }

        /* ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒˆã‚«ãƒ¼ãƒ‰ */
        .key-points {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-2xl);
        }

        .key-point {
            background: var(--white);
            border-radius: 12px;
            padding: var(--spacing-lg);
            box-shadow: var(--shadow-md);
            border-top: 4px solid var(--primary-blue);
            transition: all 0.3s ease;
        }

        .key-point:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .key-point.strength {
            border-top-color: var(--engine-color);
            background: linear-gradient(180deg, var(--engine-light) 0%, white 30%);
        }

        .key-point.caution {
            border-top-color: var(--safemode-color);
            background: linear-gradient(180deg, var(--safemode-light) 0%, white 30%);
        }

        .key-point.growth {
            border-top-color: var(--interface-color);
            background: linear-gradient(180deg, var(--interface-light) 0%, white 30%);
        }

        .key-point-header {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-md);
        }

        .key-point-icon {
            font-size: 1.5rem;
        }

        .key-point-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--gray-900);
        }

        .key-point-content {
            color: var(--gray-700);
            line-height: 1.8;
        }

        .key-point-example {
            margin-top: var(--spacing-sm);
            padding: var(--spacing-sm);
            background: var(--gray-50);
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--gray-600);
            font-style: italic;
        }

        /* ä»Šé€±ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ */
        .action-section {
            background: linear-gradient(135deg, var(--very-light-blue) 0%, var(--light-blue) 100%);
            border-radius: 16px;
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-2xl);
        }

        .action-header {
            text-align: center;
            margin-bottom: var(--spacing-lg);
        }

        .action-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-blue-dark);
            margin: 0 0 var(--spacing-sm) 0;
        }

        .action-card {
            background: white;
            border-radius: 12px;
            padding: var(--spacing-lg);
            box-shadow: var(--shadow-md);
            max-width: 800px;
            margin: 0 auto;
        }

        .action-step {
            display: flex;
            align-items: flex-start;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        .action-number {
            background: var(--primary-blue);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }

        .action-text {
            flex: 1;
            color: var(--gray-700);
        }

        .action-expected {
            background: var(--very-light-blue);
            border-left: 4px solid var(--primary-blue);
            padding: var(--spacing-md);
            border-radius: 8px;
            margin-top: var(--spacing-md);
        }

        /* ==========================================================================
           ãƒ¬ãƒ™ãƒ«3: è©³ç´°åˆ†æï¼ˆã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ï¼‰
           ========================================================================== */
        
        .detail-section {
            background: var(--gray-50);
            padding: var(--spacing-2xl) var(--spacing-lg);
        }

        .detail-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .detail-header {
            text-align: center;
            margin-bottom: var(--spacing-2xl);
        }

        .detail-toggle {
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: var(--spacing-md) var(--spacing-xl);
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0 auto;
            display: block;
        }

        .detail-toggle:hover {
            background: var(--primary-blue-dark);
            transform: scale(1.05);
        }

        .detail-content {
            display: none;
            margin-top: var(--spacing-2xl);
        }

        .detail-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ */
        .accordion-item {
            background: white;
            border-radius: 12px;
            margin-bottom: var(--spacing-md);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
        }

        .accordion-header {
            padding: var(--spacing-lg);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background 0.3s ease;
            border-top: 4px solid transparent;
        }

        .accordion-item.engine .accordion-header {
            border-top-color: var(--engine-color);
        }

        .accordion-item.interface .accordion-header {
            border-top-color: var(--interface-color);
        }

        .accordion-item.safemode .accordion-header {
            border-top-color: var(--safemode-color);
        }

        .accordion-header:hover {
            background: var(--gray-50);
        }

        .accordion-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            font-size: 1.25rem;
            font-weight: 600;
        }

        .accordion-icon {
            transition: transform 0.3s ease;
        }

        .accordion-item.active .accordion-icon {
            transform: rotate(180deg);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .accordion-item.active .accordion-content {
            max-height: 3000px;
        }

        .accordion-inner {
            padding: 0 var(--spacing-lg) var(--spacing-lg) var(--spacing-lg);
        }

        /* ãƒ‡ãƒ¼ã‚¿ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ */
        .simulator {
            position: fixed;
            bottom: var(--spacing-lg);
            right: var(--spacing-lg);
            background: white;
            border-radius: 12px;
            padding: var(--spacing-md);
            box-shadow: var(--shadow-xl);
            z-index: 100;
        }

        .simulator-header {
            font-weight: 600;
            margin-bottom: var(--spacing-sm);
            color: var(--gray-700);
        }

        .simulator-buttons {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-xs);
        }

        .sim-btn {
            padding: 0.5rem 1rem;
            background: var(--gray-100);
            border: 1px solid var(--gray-300);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            text-align: left;
        }

        .sim-btn:hover {
            background: var(--primary-blue);
            color: white;
            border-color: var(--primary-blue);
        }

        .sim-btn.active {
            background: var(--primary-blue);
            color: white;
            border-color: var(--primary-blue);
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 1.75rem;
            }
            
            .hero-traits {
                grid-template-columns: 1fr;
            }
            
            .key-points {
                grid-template-columns: 1fr;
            }
            
            .simulator {
                left: var(--spacing-sm);
                right: var(--spacing-sm);
                bottom: var(--spacing-sm);
            }
        }
    </style>
</head>
<body>
    <!-- ==========================================================================
         ãƒ¬ãƒ™ãƒ«1: ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³
         ========================================================================== -->
    <section class="hero-section">
        <div class="hero-container">
            <div class="hero-badge">è¨ºæ–­çµæœ</div>
            <h1 class="hero-title" id="hero-title">
                æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã§å‘¨ã‚Šã‚’æ”¯ãˆã‚‹<br>
                é©æ–°çš„ãªã‚µãƒãƒ¼ã‚¿ãƒ¼
            </h1>
            <p class="hero-subtitle" id="hero-subtitle">
                å¸¸ã«ã€Œã‚‚ã£ã¨è‰¯ã„æ–¹æ³•ã¯ãªã„ã‹ï¼Ÿã€ã‚’è€ƒãˆãªãŒã‚‰ã€
                ãƒãƒ¼ãƒ ã®æˆé•·ã¨èª¿å’Œã‚’æ”¯ãˆã‚‹ã€å‰µé€ çš„ãªæ”¯æ´è€…ã‚¿ã‚¤ãƒ—ã§ã™
            </p>
            
            <div class="hero-traits" id="hero-traits">
                <div class="trait-card">
                    <div class="trait-emoji">ğŸš€</div>
                    <div class="trait-label">åŸå‹•åŠ›</div>
                    <div class="trait-value" id="engine-name">é©æ–°è¿½æ±‚</div>
                    <div class="trait-desc" id="engine-score">ã‚¹ã‚³ã‚¢: 92</div>
                </div>
                <div class="trait-card">
                    <div class="trait-emoji">ğŸ’¬</div>
                    <div class="trait-label">äººã¨ã®é–¢ã‚ã‚Š</div>
                    <div class="trait-value" id="interface-name">æƒ…ç†±å…±æœ‰</div>
                    <div class="trait-desc" id="interface-score">ã‚¹ã‚³ã‚¢: 75</div>
                </div>
                <div class="trait-card">
                    <div class="trait-emoji">ğŸ›¡ï¸</div>
                    <div class="trait-label">ã‚¹ãƒˆãƒ¬ã‚¹å¯¾å‡¦</div>
                    <div class="trait-value" id="safemode-name">è¡æ’ƒè»¢æ›</div>
                    <div class="trait-desc" id="safemode-score">ã‚¹ã‚³ã‚¢: 68</div>
                </div>
            </div>
            
            <div class="hero-scroll">
                <button class="scroll-button" onclick="scrollToSummary()">
                    è©³ã—ã„åˆ†æã‚’è¦‹ã‚‹ â†“
                </button>
            </div>
        </div>
    </section>

    <!-- ==========================================================================
         ãƒ¬ãƒ™ãƒ«2: ã‚¨ãƒƒã‚»ãƒ³ã‚·ãƒ£ãƒ«ãƒ»ã‚µãƒãƒªãƒ¼
         ========================================================================== -->
    <section class="summary-section" id="summary-section">
        <div class="summary-container">
            <div class="summary-header">
                <h2 class="summary-title">ã‚ãªãŸã®ç‰¹æ€§ã‚’3ã¤ã®ãƒã‚¤ãƒ³ãƒˆã§</h2>
                <p class="summary-desc">å¼·ã¿ãƒ»æ³¨æ„ç‚¹ãƒ»æˆé•·ã®æ–¹å‘æ€§ã‚’ç°¡æ½”ã«ã¾ã¨ã‚ã¾ã—ãŸ</p>
            </div>
            
            <div class="key-points" id="key-points">
                <!-- å‹•çš„ã«ç”Ÿæˆ -->
            </div>
            
            <div class="action-section">
                <div class="action-header">
                    <h3 class="action-title">ğŸ“… ä»Šé€±è©¦ã—ã¦ã¿ã‚‹ã“ã¨</h3>
                </div>
                <div class="action-card" id="action-card">
                    <!-- å‹•çš„ã«ç”Ÿæˆ -->
                </div>
            </div>
        </div>
    </section>

    <!-- ==========================================================================
         ãƒ¬ãƒ™ãƒ«3: è©³ç´°åˆ†æ
         ========================================================================== -->
    <section class="detail-section">
        <div class="detail-container">
            <div class="detail-header">
                <button class="detail-toggle" onclick="toggleDetailSection()">
                    è©³ç´°åˆ†æãƒ¬ãƒãƒ¼ãƒˆã‚’è¡¨ç¤º â†’
                </button>
            </div>
            
            <div class="detail-content" id="detail-content">
                <!-- å‹•çš„ã«ç”Ÿæˆ -->
            </div>
        </div>
    </section>

    <!-- ãƒ‡ãƒ¼ã‚¿ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ -->
    <div class="simulator">
        <div class="simulator-header">ğŸ”§ ãƒ‘ã‚¿ãƒ¼ãƒ³é¸æŠ</div>
        <div class="simulator-buttons">
            <button class="sim-btn active" onclick="loadPattern('innovator')">é©æ–°å‹</button>
            <button class="sim-btn" onclick="loadPattern('supporter')">æ”¯æ´å‹</button>
            <button class="sim-btn" onclick="loadPattern('balanced')">ãƒãƒ©ãƒ³ã‚¹å‹</button>
            <button class="sim-btn" onclick="loadPattern('revolutionary')">å¤‰é©å‹</button>
            <button class="sim-btn" onclick="loadPattern('stabilizer')">å®‰å®šå‹</button>
        </div>
    </div>

    <!-- V3ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èª­ã¿è¾¼ã¿ -->
    <script src="public/js/data/hexagram-human-traits-v3.js"></script>
    <script>
        // ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¿ãƒ¼ãƒ³
        const dataPatterns = {
            innovator: {
                engineOS: { hexagram: "ä¹¾ç‚ºå¤©", score: 92 },
                interfaceOS: { hexagram: "é›¢ç‚ºç«", score: 75 },
                safeModeOS: { hexagram: "éœ‡ç‚ºé›·", score: 68 }
            },
            supporter: {
                engineOS: { hexagram: "å¤ç‚ºåœ°", score: 85 },
                interfaceOS: { hexagram: "å±±æ°´è’™", score: 88 },
                safeModeOS: { hexagram: "è‰®ç‚ºå±±", score: 72 }
            },
            balanced: {
                engineOS: { hexagram: "æ°´å¤©éœ€", score: 80 },
                interfaceOS: { hexagram: "å·½ç‚ºé¢¨", score: 79 },
                safeModeOS: { hexagram: "åç‚ºæ°´", score: 81 }
            },
            revolutionary: {
                engineOS: { hexagram: "æ¾¤ç«é©", score: 89 },
                interfaceOS: { hexagram: "ç«é¢¨é¼", score: 86 },
                safeModeOS: { hexagram: "å¤©æ°´è¨Ÿ", score: 73 }
            },
            stabilizer: {
                engineOS: { hexagram: "è‰®ç‚ºå±±", score: 77 },
                interfaceOS: { hexagram: "æ°´ç«æ—¢æ¸ˆ", score: 82 },
                safeModeOS: { hexagram: "å…Œç‚ºæ¾¤", score: 78 }
            }
        };

        function generateHeroText(data) {
            const engineData = window.HexagramHumanTraitsV3[data.engineOS.hexagram];
            const interfaceData = window.HexagramHumanTraitsV3[data.interfaceOS.hexagram];
            
            // ã‚ˆã‚Šè‡ªç„¶ãªæ—¥æœ¬èªè¡¨ç¾ã‚’ç”Ÿæˆ
            let title = "";
            let subtitle = "";
            
            // Engine OSã®ç‰¹å¾´ã‚’æ´»ã‹ã—ãŸã‚¿ã‚¤ãƒˆãƒ«ç”Ÿæˆ
            const engineDesc = engineData.asEngineOS.profile.description;
            const interfaceDesc = interfaceData.asInterfaceOS.profile.description;
            
            // ã‚¿ã‚¤ãƒˆãƒ«ã‚’å‹•çš„ã«ç”Ÿæˆï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å†…å®¹ã‚’æ´»ç”¨ï¼‰
            if (data.engineOS.score > 85) {
                // Engine OSãŒå¼·ã„å ´åˆ
                title = `${engineDesc.replace(/[ã€‚ã€]/g, '')}<br>${interfaceData.nickname}ã‚¿ã‚¤ãƒ—`;
            } else if (data.interfaceOS.score > 85) {
                // Interface OSãŒå¼·ã„å ´åˆ
                title = `${interfaceDesc.replace(/[ã€‚ã€]/g, '')}<br>${engineData.nickname}`;
            } else {
                // ãƒãƒ©ãƒ³ã‚¹å‹
                title = `${engineData.nickname}ã¨${interfaceData.nickname}ã®<br>ãƒãƒ©ãƒ³ã‚¹å‹`;
            }
            
            // ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«ã‚’ç”Ÿæˆï¼ˆmetaphorã‚’æ´»ç”¨ï¼‰
            subtitle = engineData.asEngineOS.profile.metaphor || 
                      `${engineData.asEngineOS.normalState.whatHappens}`;
            
            return { title, subtitle };
        }

        function generateDynamicContent(pattern) {
            const data = dataPatterns[pattern];
            const engineData = window.HexagramHumanTraitsV3[data.engineOS.hexagram];
            const interfaceData = window.HexagramHumanTraitsV3[data.interfaceOS.hexagram];
            const safeData = window.HexagramHumanTraitsV3[data.safeModeOS.hexagram];
            
            // ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®æ›´æ–°
            const heroText = generateHeroText(data);
            document.getElementById('hero-title').innerHTML = heroText.title;
            document.getElementById('hero-subtitle').textContent = heroText.subtitle;
            
            // 3ã¤ã®ç‰¹æ€§ã‚«ãƒ¼ãƒ‰æ›´æ–°
            document.getElementById('engine-name').textContent = 
                engineData.asEngineOS.profile.type.replace('ã‚¨ãƒ³ã‚¸ãƒ³', '').replace('å‹', '');
            document.getElementById('engine-score').textContent = `ã‚¹ã‚³ã‚¢: ${data.engineOS.score}`;
            
            document.getElementById('interface-name').textContent = 
                interfaceData.asInterfaceOS.profile.type.replace('å‹', '');
            document.getElementById('interface-score').textContent = `ã‚¹ã‚³ã‚¢: ${data.interfaceOS.score}`;
            
            document.getElementById('safemode-name').textContent = 
                safeData.asSafeModeOS.profile.type.replace('å‹', '');
            document.getElementById('safemode-score').textContent = `ã‚¹ã‚³ã‚¢: ${data.safeModeOS.score}`;
            
            // ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒˆç”Ÿæˆ
            document.getElementById('key-points').innerHTML = `
                <div class="key-point strength">
                    <div class="key-point-header">
                        <span class="key-point-icon">âœ¨</span>
                        <h3 class="key-point-title">ã‚ãªãŸã®å¼·ã¿</h3>
                    </div>
                    <div class="key-point-content">
                        ${engineData.asEngineOS.profile.description}
                        ${engineData.asEngineOS.normalState.whatHappens}
                    </div>
                    <div class="key-point-example">
                        ä¾‹: ${engineData.asEngineOS.normalState.example}
                    </div>
                </div>
                
                <div class="key-point caution">
                    <div class="key-point-header">
                        <span class="key-point-icon">âš ï¸</span>
                        <h3 class="key-point-title">æ°—ã‚’ã¤ã‘ã‚‹ã“ã¨</h3>
                    </div>
                    <div class="key-point-content">
                        ${engineData.asEngineOS.maintenance.warning}
                        ${safeData.asSafeModeOS.stressResponse.badPoint}
                    </div>
                    <div class="key-point-example">
                        å¯¾å‡¦æ³•: ${safeData.asSafeModeOS.stressResponse.whatYouDo}
                    </div>
                </div>
                
                <div class="key-point growth">
                    <div class="key-point-header">
                        <span class="key-point-icon">ğŸŒ±</span>
                        <h3 class="key-point-title">æˆé•·ã®æ–¹å‘æ€§</h3>
                    </div>
                    <div class="key-point-content">
                        ${interfaceData.asInterfaceOS.relationshipTips.advice}
                    </div>
                    <div class="key-point-example">
                        ãƒ’ãƒ³ãƒˆ: ${engineData.osBalance.tip}
                    </div>
                </div>
            `;
            
            // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚«ãƒ¼ãƒ‰ç”Ÿæˆ
            document.getElementById('action-card').innerHTML = `
                <div class="action-step">
                    <div class="action-number">1</div>
                    <div class="action-text">
                        <strong>${engineData.asEngineOS.maintenance.tip}</strong><br>
                        ${engineData.asEngineOS.maintenance.howToCharge}
                    </div>
                </div>
                <div class="action-step">
                    <div class="action-number">2</div>
                    <div class="action-text">
                        <strong>${interfaceData.asInterfaceOS.relationshipTips.advice}</strong><br>
                        ${interfaceData.asInterfaceOS.howToTalk.example}
                    </div>
                </div>
                <div class="action-expected">
                    <strong>æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ:</strong><br>
                    ${engineData.osBalance.whenBalanced}
                </div>
            `;
            
            // è©³ç´°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ç”Ÿæˆï¼ˆå…¨ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒï¼‰
            document.getElementById('detail-content').innerHTML = `
                <div class="accordion-item engine">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <div class="accordion-title">
                            ${engineData.emoji} åŸå‹•åŠ›ã®è©³ç´°ï¼š${data.engineOS.hexagram}ã€Œ${engineData.nickname}ã€
                        </div>
                        <span class="accordion-icon">â–¼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            ${generateOSDetail(engineData, 'engine', data.engineOS.score)}
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item interface">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <div class="accordion-title">
                            ${interfaceData.emoji} äººã¨ã®é–¢ã‚ã‚Šæ–¹ï¼š${data.interfaceOS.hexagram}ã€Œ${interfaceData.nickname}ã€
                        </div>
                        <span class="accordion-icon">â–¼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            ${generateOSDetail(interfaceData, 'interface', data.interfaceOS.score)}
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item safemode">
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <div class="accordion-title">
                            ${safeData.emoji} ã‚¹ãƒˆãƒ¬ã‚¹å¯¾å‡¦æ³•ï¼š${data.safeModeOS.hexagram}ã€Œ${safeData.nickname}ã€
                        </div>
                        <span class="accordion-icon">â–¼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            ${generateOSDetail(safeData, 'safemode', data.safeModeOS.score)}
                        </div>
                    </div>
                </div>
            `;
        }

        function generateOSDetail(data, type, score) {
            // æ—¢å­˜ã®å…¨ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºï¼ˆçœç•¥ãªã—ï¼‰
            let html = `
                <div style="margin-bottom: 1rem; padding: 0.75rem; background: #f9fafb; border-radius: 8px;">
                    <span>ğŸ“ ç¬¬${data.id}å¦</span> | 
                    <span>å¦è±¡: ${data.symbol}</span> | 
                    <span>äº”è¡Œ: ${data.element}</span> | 
                    <span>ã‚¹ã‚³ã‚¢: ${score}</span>
                </div>
            `;
            
            if (type === 'engine' && data.asEngineOS) {
                const os = data.asEngineOS;
                html += `
                    <h4>${os.profile.type}</h4>
                    <p>${os.profile.description}</p>
                    <p style="font-style: italic; color: #6b7280;">${os.profile.metaphor}</p>
                    
                    <h4>é€šå¸¸ã®çŠ¶æ…‹</h4>
                    <p>${os.normalState.whatHappens}</p>
                    <p>ä¾‹: ${os.normalState.example}</p>
                    <p>ã‚¨ãƒãƒ«ã‚®ãƒ¼: ${os.normalState.energyLevel}</p>
                    
                    <h4>ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒ¢ãƒ¼ãƒ‰</h4>
                    <p>ç™ºå‹•æ¡ä»¶: ${os.superMode.when}</p>
                    <p>${os.superMode.whatHappens}</p>
                    ${os.superMode.example ? `<p>ä¾‹: ${os.superMode.example}</p>` : ''}
                    
                    ${os.restMode ? `
                        <h4>ä¼‘æ¯ãƒ¢ãƒ¼ãƒ‰</h4>
                        <p>${os.restMode.whatHappens}</p>
                        <p>ä¼‘æ¯æ–¹æ³•: ${os.restMode.howToRest}</p>
                        ${os.restMode.note ? `<p>æ³¨: ${os.restMode.note}</p>` : ''}
                    ` : ''}
                    
                    <h4>ã‚»ãƒ«ãƒ•ã‚±ã‚¢</h4>
                    <p>å¿…è¦ãªã‚‚ã®: ${os.maintenance.whatYouNeed}</p>
                    <p>å……é›»æ–¹æ³•: ${os.maintenance.howToCharge}</p>
                    <p>âš ï¸ ${os.maintenance.warning}</p>
                    <p>ğŸ’¡ ${os.maintenance.tip}</p>
                `;
            } else if (type === 'interface' && data.asInterfaceOS) {
                const os = data.asInterfaceOS;
                html += `
                    <h4>${os.profile.type}</h4>
                    <p>${os.profile.description}</p>
                    ${os.profile.metaphor ? `<p style="font-style: italic; color: #6b7280;">${os.profile.metaphor}</p>` : ''}
                    
                    <h4>ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«</h4>
                    <p>è©±ã—æ–¹: ${os.howToTalk.style}</p>
                    <p>ä¾‹: ${os.howToTalk.example}</p>
                    <p>å¾—æ„: ${os.howToTalk.goodAt}</p>
                    ${os.howToTalk.notGoodAt ? `<p>è‹¦æ‰‹: ${os.howToTalk.notGoodAt}</p>` : ''}
                    
                    ${os.bestEnvironment ? `
                        <h4>æœ€é©ç’°å¢ƒ</h4>
                        <p>å ´æ‰€: ${os.bestEnvironment.where}</p>
                        <p>ä¾‹: ${os.bestEnvironment.example}</p>
                        <p>ç›¸æ€§ã®è‰¯ã„äºº: ${os.bestEnvironment.withWho}</p>
                        ${os.bestEnvironment.avoid ? `<p>é¿ã‘ã‚‹ã¹ãç’°å¢ƒ: ${os.bestEnvironment.avoid}</p>` : ''}
                    ` : ''}
                    
                    ${os.relationshipTips ? `
                        <h4>é–¢ä¿‚æ€§ã®ã‚³ãƒ„</h4>
                        <p>å¼·ã¿: ${os.relationshipTips.strength}</p>
                        <p>å¼±ã¿: ${os.relationshipTips.weakness}</p>
                        <p>ğŸ’¡ ${os.relationshipTips.advice}</p>
                    ` : ''}
                `;
            } else if (type === 'safemode' && data.asSafeModeOS) {
                const os = data.asSafeModeOS;
                html += `
                    <h4>${os.profile.type}</h4>
                    <p>${os.profile.description}</p>
                    ${os.profile.metaphor ? `<p style="font-style: italic; color: #6b7280;">${os.profile.metaphor}</p>` : ''}
                    
                    <h4>ã‚¹ãƒˆãƒ¬ã‚¹å¯¾å‡¦æ³•</h4>
                    <p>å¯¾å‡¦æ–¹æ³•: ${os.stressResponse.whatYouDo}</p>
                    <p>ä¾‹: ${os.stressResponse.example}</p>
                    <p>è‰¯ã„ç‚¹: ${os.stressResponse.goodPoint}</p>
                    <p>æ³¨æ„ç‚¹: ${os.stressResponse.badPoint}</p>
                    
                    ${os.emergencyMode ? `
                        <h4>ç·Šæ€¥ãƒ¢ãƒ¼ãƒ‰</h4>
                        <p>åå¿œ: ${os.emergencyMode.whatHappens}</p>
                        <p>ä¾‹: ${os.emergencyMode.example}</p>
                        ${os.emergencyMode.recovery ? `<p>å›å¾©: ${os.emergencyMode.recovery}</p>` : ''}
                        <p>å›å¾©æ™‚é–“: ${os.emergencyMode.timeToRecover}</p>
                    ` : ''}
                    
                    ${os.howToRecover ? `
                        <h4>å›å¾©æ–¹æ³•</h4>
                        <p>ãƒ™ã‚¹ãƒˆãªæ–¹æ³•: ${os.howToRecover.bestWay}</p>
                        <p>ä¾‹: ${os.howToRecover.example}</p>
                        ${os.howToRecover.environment ? `<p>ç’°å¢ƒ: ${os.howToRecover.environment}</p>` : ''}
                        ${os.howToRecover.support ? `<p>ã‚µãƒãƒ¼ãƒˆ: ${os.howToRecover.support}</p>` : ''}
                    ` : ''}
                `;
            }
            
            if (data.osBalance) {
                html += `
                    <h4>ãƒãƒ©ãƒ³ã‚¹</h4>
                    <p>ç†æƒ³: ${data.osBalance.idealBalance}</p>
                    <p>ãƒãƒ©ãƒ³ã‚¹è‰¯å¥½æ™‚: ${data.osBalance.whenBalanced}</p>
                    <p>ãƒãƒ©ãƒ³ã‚¹å´©å£Šæ™‚: ${data.osBalance.whenImbalanced}</p>
                    <p>ğŸ’¡ ${data.osBalance.tip}</p>
                `;
            }
            
            return html;
        }

        // ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
        function scrollToSummary() {
            document.getElementById('summary-section').scrollIntoView({ behavior: 'smooth' });
        }

        function toggleDetailSection() {
            const content = document.getElementById('detail-content');
            const button = event.target;
            
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                button.textContent = 'è©³ç´°åˆ†æãƒ¬ãƒãƒ¼ãƒˆã‚’è¡¨ç¤º â†’';
            } else {
                content.classList.add('active');
                button.textContent = 'è©³ç´°åˆ†æãƒ¬ãƒãƒ¼ãƒˆã‚’é–‰ã˜ã‚‹ â†‘';
            }
        }

        function toggleAccordion(header) {
            const item = header.parentElement;
            item.classList.toggle('active');
        }

        function loadPattern(patternName) {
            // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã‚’æ›´æ–°
            document.querySelectorAll('.sim-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆ
            generateDynamicContent(patternName);
            
            // ãƒˆãƒƒãƒ—ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // åˆæœŸè¡¨ç¤º
        window.onload = () => {
            generateDynamicContent('innovator');
        };
    </script>
</body>
</html>