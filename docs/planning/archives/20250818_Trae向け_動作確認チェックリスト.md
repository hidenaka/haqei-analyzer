# ✅ Trae向け動作確認チェックリスト - 完全版

## 🎯 このチェックリストの使い方
各項目を順番に確認し、✅または❌を記入してください。
❌が1つでもあれば、その問題を解決してから次に進んでください。

## 📝 作業前チェック

### 環境準備
- [ ] 現在のディレクトリが正しい `/Users/hideakimacbookair/Desktop/haqei-analyzer`
- [ ] `npm run dev` でサーバーが起動する
- [ ] ブラウザで `http://localhost:8788` にアクセスできる
- [ ] Chrome DevTools が開ける（F12キー）
- [ ] コンソールタブにエラーが表示されていない

### ファイル確認
- [ ] `/public/js/core/QuestionManager.js` が存在する
- [ ] `/public/js/os-analyzer-main.js` が存在する
- [ ] バックアップファイルを作成した

```bash
# 確認コマンド
ls -la public/js/core/QuestionManager.js
ls -la public/js/os-analyzer-main.js
```

---

## 🔍 Phase 1: 初期表示確認

### アクセステスト
```
URL: http://localhost:8788/os_analyzer.html
```

#### チェック項目
- [ ] ページが表示される
- [ ] 背景が青色グラデーションになっている
- [ ] ウェルカムメッセージが表示される
- [ ] 「分析を開始」ボタンが表示される
- [ ] コンソールにエラーが出ていない

#### スクリーンショット記録
```bash
# 証拠として保存（任意）
# Mac: Cmd + Shift + 4
# 保存先: screenshots/welcome_$(date "+%Y%m%d_%H%M%S").png
```

---

## 🎮 Phase 2: 質問画面テスト

### Q1（最初の質問）

#### 操作手順
1. 「分析を開始」ボタンをクリック
2. Q1が表示されるまで待つ

#### チェック項目
- [ ] 質問文が表示される
- [ ] ラジオボタンが表示される
- [ ] 選択肢のテキストが表示される
- [ ] ラジオボタンが選択可能
- [ ] 「次へ」ボタンが有効
- [ ] 「前へ」ボタンが無効（最初の質問のため）
- [ ] プログレスバーが表示される

#### コンソール確認
```javascript
// ブラウザコンソールで実行
document.querySelectorAll('input[type="radio"]').length
// 期待値: 3以上（選択肢の数）
```

### Q2（2番目の質問）⭐重要

#### 操作手順
1. Q1で任意の選択肢を選ぶ
2. 「次へ」ボタンをクリック
3. Q2が表示されるまで待つ

#### チェック項目
- [ ] **Q2でもラジオボタンが表示される** ⭐最重要
- [ ] 選択肢が正しく表示される
- [ ] 新しい質問文になっている
- [ ] 前の選択がクリアされている
- [ ] 「前へ」ボタンが有効
- [ ] 「次へ」ボタンが有効

#### エラーチェック
- [ ] TypeError が発生していない
- [ ] "Cannot read properties of undefined" エラーなし
- [ ] 不要なアラートが表示されない

### Q3-Q10（中間確認）

#### 簡易チェック
- [ ] Q3: ラジオボタン表示 ✅/❌
- [ ] Q5: ラジオボタン表示 ✅/❌
- [ ] Q7: ラジオボタン表示 ✅/❌
- [ ] Q10: ラジオボタン表示 ✅/❌
- [ ] Q15: ラジオボタン表示 ✅/❌
- [ ] Q20: ラジオボタン表示 ✅/❌
- [ ] Q25: ラジオボタン表示 ✅/❌
- [ ] Q30: ラジオボタン表示 ✅/❌
- [ ] Q36: ラジオボタン表示 ✅/❌

### Q36（最後の質問）

#### チェック項目
- [ ] Q36まで到達できる
- [ ] ラジオボタンが表示される
- [ ] 「次へ」ボタンのテキストが「結果を見る」または「分析を開始」になっている

---

## 📊 Phase 3: 結果画面テスト

### 結果表示

#### 操作手順
1. Q36まですべて回答
2. 「結果を見る」または「分析を開始」ボタンをクリック

#### チェック項目
- [ ] 結果画面に遷移する
- [ ] Triple OSの結果が表示される
- [ ] グラフが表示される
- [ ] エラーが発生しない

---

## 🔄 Phase 4: ナビゲーションテスト

### 前へ/次へボタン

#### テストシナリオ
```
Q1 → Q2 → Q3 → Q2（戻る）→ Q3（進む）→ Q4
```

#### チェック項目
- [ ] 前へボタンで前の質問に戻れる
- [ ] 前の回答が保持されている
- [ ] 次へボタンで次の質問に進める
- [ ] 質問番号が正しく更新される
- [ ] プログレスバーが正しく動く

### エッジケース

#### 未回答で次へ
- [ ] 回答していない状態で「次へ」をクリック
- [ ] 適切なメッセージが表示される（アラートまたはエラー表示）

#### 連続クリック
- [ ] 「次へ」ボタンを素早く2回クリック
- [ ] 重複実行されない（1回だけ進む）

---

## 🎨 Phase 5: デザイン確認

### 統一デザインシステム

#### チェック項目
- [ ] 青色基調のデザインが適用されている
- [ ] ボタンがグラデーション効果を持つ
- [ ] ホバー時にボタンが浮き上がる
- [ ] ラジオボタン選択時に青色ハイライト
- [ ] カードレイアウトが適用されている

### レスポンシブ確認

#### デスクトップ（1920px）
- [ ] レイアウトが崩れていない
- [ ] 中央に配置されている

#### タブレット（768px）
- [ ] レイアウトが適応している
- [ ] ボタンが押しやすいサイズ

#### モバイル（375px）
- [ ] 縦長レイアウトになる
- [ ] テキストが読みやすい
- [ ] ボタンがタップしやすい

```javascript
// デバイスサイズをエミュレート
// Chrome DevTools → Device Toolbar（Ctrl+Shift+M）
```

---

## 🐛 Phase 6: エラーチェック

### コンソールエラー

#### 確認方法
```javascript
// コンソールをクリア
console.clear();

// 全操作を実行後、エラー確認
// F12 → Console タブ
```

#### チェック項目
- [ ] 赤いエラーメッセージがない
- [ ] 黄色い警告が最小限
- [ ] TypeError が発生していない
- [ ] ReferenceError が発生していない
- [ ] 404エラー（ファイル不明）がない

### パフォーマンス

#### 確認項目
- [ ] ページ読み込みが3秒以内
- [ ] 質問切り替えが即座に反応
- [ ] アニメーションがスムーズ
- [ ] メモリリークの兆候なし

```javascript
// メモリ使用量確認
console.log(performance.memory);
```

---

## 📱 Phase 7: 実機テスト（オプション）

### スマートフォン実機

#### テスト端末
- [ ] iPhone Safari
- [ ] Android Chrome

#### チェック項目
- [ ] タッチ操作が正常
- [ ] ラジオボタンがタップで選択可能
- [ ] スクロールがスムーズ
- [ ] 文字が読みやすい

---

## 🎯 Phase 8: 最終確認

### 機能面
- [ ] 36問すべて表示確認 ✅
- [ ] すべての質問でラジオボタン表示 ✅
- [ ] 画面遷移が正常 ✅
- [ ] データが正しく保存される ✅
- [ ] 結果が表示される ✅

### 品質面
- [ ] エラーが0件 ✅
- [ ] 警告が最小限 ✅
- [ ] パフォーマンス良好 ✅
- [ ] デザイン統一 ✅
- [ ] レスポンシブ対応 ✅

### ドキュメント
- [ ] 作業記録を作成した
- [ ] エラーログを保存した
- [ ] スクリーンショットを保存した

---

## 📝 テスト結果記録

### 実施日時
```
日付: $(date "+%Y/%m/%d")
時刻: $(date "+%H:%M")
実施者: TRAE
```

### 結果サマリー
```markdown
## テスト結果

### ✅ 成功項目
- Q1-Q30 ラジオボタン表示
- エラー解消
- 画面遷移正常

### ❌ 失敗項目
- （あれば記載）

### ⚠️ 要改善項目
- （あれば記載）

### 📝 メモ
- （気づいた点を記載）
```

---

## 🚨 問題発生時の対処

### チェックリストで❌があった場合

1. **エラー内容を記録**
   ```bash
   echo "エラー: XXX" >> error_log_$(date "+%Y%m%d").txt
   ```

2. **エラー対策マニュアルを参照**
   ```bash
   cat 20250818_Trae向け_エラー対策マニュアル.md
   ```

3. **バックアップから復元**
   ```bash
   cp *.backup public/js/core/QuestionManager.js
   ```

4. **サポートを求める**
   - エラーメッセージを正確にコピー
   - 実行した手順を記録
   - スクリーンショットを撮影

---

## 🏆 完了基準

### 必須項目（すべて✅必須）
- [ ] Q1-Q36すべてでラジオボタン表示
- [ ] TypeError解消
- [ ] 画面遷移正常動作
- [ ] コンソールエラー0件

### 推奨項目（できれば✅）
- [ ] パフォーマンス良好
- [ ] デザイン統一
- [ ] レスポンシブ対応
- [ ] ドキュメント完備

---

## 📋 最終報告テンプレート

```markdown
# OS Analyzer 動作確認完了報告

## 実施日
2025年1月18日

## 実施者
TRAE

## テスト結果
- 全36問: ✅ 正常動作
- ラジオボタン: ✅ 全画面で表示
- エラー: ✅ 0件
- 画面遷移: ✅ 正常

## 改善点
- （あれば記載）

## 次のステップ
- （あれば記載）

## 証跡
- スクリーンショット: screenshots/フォルダ参照
- エラーログ: なし
- 作業記録: .serena/memories/に保存済み
```

---

**重要**: このチェックリストはすべて完了するまで保存しておいてください。
部分的に完了した場合は、どこまで完了したかを明記してください。