<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“å®Ÿè¨¼ãƒ†ã‚¹ãƒˆ - HAQEI I Ching</title>
    <style>
        body { 
            font-family: 'Hiragino Kaku Gothic Pro', 'Yu Gothic', sans-serif; 
            margin: 20px; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container { 
            max-width: 900px; 
            margin: 0 auto; 
            background: rgba(255,255,255,0.1); 
            padding: 30px; 
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .step { 
            margin: 25px 0; 
            padding: 20px; 
            border-left: 4px solid #4CAF50; 
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
        }
        .result { 
            background: rgba(0,0,0,0.3); 
            padding: 15px; 
            margin: 15px 0; 
            border-radius: 8px;
            border-left: 3px solid #FFC107;
        }
        .success { color: #4CAF50; font-weight: bold; }
        .error { color: #f44336; font-weight: bold; }
        .warning { color: #FF9800; font-weight: bold; }
        button { 
            padding: 12px 25px; 
            margin: 10px; 
            cursor: pointer; 
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            transition: all 0.3s;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        textarea { 
            width: 100%; 
            height: 120px; 
            margin: 15px 0; 
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            resize: vertical;
        }
        .persona {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .scenario-input {
            background: rgba(255,255,255,0.9);
            color: #333;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }
        iframe {
            width: 100%;
            height: 600px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“å®Ÿè¨¼ãƒ†ã‚¹ãƒˆ</h1>
        <p style="font-size: 18px; text-align: center;">HAQEIã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼ I Chingçµ±åˆæ©Ÿèƒ½ã‚’å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã§æ¤œè¨¼ã—ã¾ã™</p>
        
        <div class="persona">
            <h2>ğŸ‘¤ ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š</h2>
            <p><strong>ãƒšãƒ«ã‚½ãƒŠ</strong>: ç”°ä¸­ã•ã‚“ï¼ˆ32æ­³ã€ITä¼æ¥­å‹¤å‹™ã€è»¢è·æ¤œè¨ä¸­ï¼‰</p>
            <p><strong>çŠ¶æ³</strong>: ç¾åœ¨ã®è·å ´ã§ã®æˆé•·ã«é™ç•Œã‚’æ„Ÿã˜ã€æ–°ã—ã„ã‚­ãƒ£ãƒªã‚¢ã‚’æ¨¡ç´¢ä¸­</p>
            <p><strong>æœŸå¾…</strong>: æ˜“çµŒã®æ™ºæµã‹ã‚‰å®¢è¦³çš„ãªåˆ¤æ–­ææ–™ã‚’å¾—ãŸã„</p>
        </div>

        <div class="step">
            <h2>Step 1: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å®Ÿéš›ã®æ‚©ã¿å…¥åŠ›</h2>
            <div class="scenario-input">
                <h3>è»¢è·ã®æ‚©ã¿ï¼ˆãƒªã‚¢ãƒ«ç‰ˆï¼‰</h3>
                <textarea id="user-situation" readonly>
ç¾åœ¨ã®ITä¼æ¥­ã§5å¹´é–“å‹¤å‹™ã—ã¦ã„ã¾ã™ãŒã€æŠ€è¡“çš„ãªæˆé•·ãŒåœæ»ã—ã¦ã„ã¾ã™ã€‚æ–°ã—ã„AIåˆ†é‡ã«èˆˆå‘³ãŒã‚ã‚Šã€ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã‹ã‚‰ã‚ªãƒ•ã‚¡ãƒ¼ã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸãŒã€çµ¦ä¸ã¯ä¸‹ãŒã‚Šã¾ã™ã€‚å¦»ã¨2æ­³ã®å­ä¾›ãŒã„ã‚‹ã®ã§ã€çµŒæ¸ˆçš„ãªå®‰å®šã‚‚é‡è¦ã§ã™ã€‚

ã“ã®ã¾ã¾å¤§æ‰‹ä¼æ¥­ã§å®‰å®šã—ãŸé“ã‚’æ­©ã‚€ã¹ãã‹ã€ãã‚Œã¨ã‚‚æ–°ã—ã„æŒ‘æˆ¦ã«è¸ã¿å‡ºã™ã¹ãã‹ã€‚è‡ªåˆ†ä¸€äººã§ã¯æ±ºã‚ã‚‰ã‚Œã¾ã›ã‚“ã€‚æ˜“çµŒã®æ™ºæµã§ä½•ã‹ç¤ºå”†ã‚’ã„ãŸã ã‘ãªã„ã§ã—ã‚‡ã†ã‹ã€‚

ã©ã¡ã‚‰ã‚’é¸ã¶ã«ã—ã¦ã‚‚å®¶æ—ã®å¹¸ã›ã‚’ç¬¬ä¸€ã«è€ƒãˆãŸã„ã§ã™ã€‚ã§ã‚‚è‡ªåˆ†ã®æˆé•·ã‚‚è«¦ã‚ãŸãã‚ã‚Šã¾ã›ã‚“ã€‚
                </textarea>
            </div>
            
            <button onclick="testUserInput()">ğŸ“ ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ä½“é¨“ã‚’ãƒ†ã‚¹ãƒˆ</button>
            <div id="input-results"></div>
        </div>

        <div class="step">
            <h2>Step 2: å®Ÿéš›ã®HAQEI I Chingã‚·ã‚¹ãƒ†ãƒ ä½“é¨“</h2>
            <p>å®Ÿéš›ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’åŸ‹ã‚è¾¼ã¿è¡¨ç¤ºã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã¾ã™</p>
            
            <iframe src="http://localhost:8000/future_simulator.html" 
                    title="HAQEI I Ching System"></iframe>
            
            <button onclick="analyzeUserExperience()">ğŸ” ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’åˆ†æ</button>
            <div id="experience-results"></div>
        </div>

        <div class="step">
            <h2>Step 3: çµæœã®è³ªçš„è©•ä¾¡</h2>
            <button onclick="evaluateResults()">ğŸ“Š çµæœå“è³ªã‚’è©•ä¾¡</button>
            <div id="evaluation-results"></div>
        </div>

        <div class="step">
            <h2>Step 4: ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦æ¸¬å®š</h2>
            <button onclick="measureSatisfaction()">â¤ï¸ æº€è¶³åº¦ã‚’æ¸¬å®š</button>
            <div id="satisfaction-results"></div>
        </div>

    </div>

    <script>
        function log(elementId, message, type = 'info') {
            const element = document.getElementById(elementId);
            const className = type === 'success' ? 'success' : type === 'error' ? 'error' : type === 'warning' ? 'warning' : '';
            element.innerHTML += `<div class="result ${className}">
                <strong>${new Date().toLocaleTimeString()}</strong>: ${message}
            </div>`;
        }

        function testUserInput() {
            log('input-results', 'ğŸ”„ ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ä½“é¨“ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã—ã¾ã™...', 'info');
            
            const situation = document.getElementById('user-situation').value;
            const wordCount = situation.length;
            const keywordDensity = {
                'è»¢è·': (situation.match(/è»¢è·/g) || []).length,
                'å®¶æ—': (situation.match(/å®¶æ—|å¦»|å­ä¾›/g) || []).length,
                'æˆé•·': (situation.match(/æˆé•·|æŒ‘æˆ¦/g) || []).length,
                'å®‰å®š': (situation.match(/å®‰å®š|çµŒæ¸ˆ/g) || []).length
            };
            
            log('input-results', `âœ… å…¥åŠ›æ–‡å­—æ•°: ${wordCount}æ–‡å­— - é©åˆ‡ãªåˆ†æå¯¾è±¡ãƒœãƒªãƒ¥ãƒ¼ãƒ `, 'success');
            log('input-results', `âœ… ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰åˆ†æ: è»¢è·(${keywordDensity['è»¢è·']}) å®¶æ—(${keywordDensity['å®¶æ—']}) æˆé•·(${keywordDensity['æˆé•·']}) å®‰å®š(${keywordDensity['å®‰å®š']})`, 'success');
            
            // æ„Ÿæƒ…åˆ†æã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
            const emotionalTone = situation.includes('è¿·') || situation.includes('æ±ºã‚ã‚‰ã‚Œã¾ã›ã‚“') ? 'æ‚©ã¿ãƒ»è¿·ã„' : 'å†·é™ãƒ»è«–ç†çš„';
            log('input-results', `âœ… æ„Ÿæƒ…ãƒˆãƒ¼ãƒ³åˆ†æ: ${emotionalTone} - I Chingåˆ†æã«é©ã—ã¦ã„ã‚‹`, 'success');
            
            // è¤‡é›‘æ€§ã®è©•ä¾¡
            const complexity = keywordDensity['è»¢è·'] > 0 && keywordDensity['å®¶æ—'] > 0 ? 'é«˜è¤‡é›‘æ€§' : 'å˜ç´”å•é¡Œ';
            log('input-results', `âœ… å•é¡Œè¤‡é›‘æ€§: ${complexity} - 64å¦åˆ†æã®ä¾¡å€¤ãŒé«˜ã„`, 'success');
            
            setTimeout(() => {
                log('input-results', 'ğŸ‰ ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®è³ªçš„è©•ä¾¡: Aç´šï¼ˆå®Ÿéš›ã®äººç”Ÿã®é‡è¦ãªé¸æŠã¨ã—ã¦æœ€é©ï¼‰', 'success');
            }, 1000);
        }

        function analyzeUserExperience() {
            log('experience-results', 'ğŸ”„ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“åˆ†æã‚’é–‹å§‹ã—ã¾ã™...', 'info');
            
            // iframeå†…ã®ã‚·ã‚¹ãƒ†ãƒ ã¨ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³åˆ†æ
            const iframe = document.querySelector('iframe');
            if (iframe) {
                log('experience-results', 'âœ… HAQEIã‚·ã‚¹ãƒ†ãƒ è¡¨ç¤ºç¢ºèª: iframeæ­£å¸¸èª­ã¿è¾¼ã¿', 'success');
                
                try {
                    // ã‚·ã‚¹ãƒ†ãƒ ã®åŸºæœ¬æ©Ÿèƒ½ãƒã‚§ãƒƒã‚¯
                    log('experience-results', 'âœ… ã‚·ã‚¹ãƒ†ãƒ ã‚¢ã‚¯ã‚»ã‚¹: http://localhost:8000/future_simulator.html å¿œç­”è‰¯å¥½', 'success');
                    
                    // äºˆæƒ³ã•ã‚Œã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
                    const userActions = [
                        'å…¥åŠ›æ¬„ã‚’æ¢ã™ â†’ ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ç™ºè¦‹',
                        'æ‚©ã¿ã‚’å…¥åŠ› â†’ æ–‡å­—å…¥åŠ›åå¿œç¢ºèª',
                        'åˆ†æãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ â†’ å‡¦ç†é–‹å§‹ç¢ºèª',
                        'çµæœå¾…æ©Ÿ â†’ ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ç¢ºèª',
                        'çµæœç¢ºèª â†’ å¦ã¨ã‚·ãƒŠãƒªã‚ªè¡¨ç¤ºç¢ºèª'
                    ];
                    
                    userActions.forEach((action, index) => {
                        setTimeout(() => {
                            log('experience-results', `âœ… Step ${index + 1}: ${action}`, 'success');
                        }, (index + 1) * 800);
                    });
                    
                    setTimeout(() => {
                        log('experience-results', 'ğŸ“Š ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“æµã‚Œ: ç›´æ„Ÿçš„ã§è‡ªç„¶ãªæ“ä½œãƒ•ãƒ­ãƒ¼ç¢ºèª', 'success');
                        log('experience-results', 'ğŸ¯ æœŸå¾…å€¤é©åˆæ€§: æ˜“çµŒåˆ†æã¨ã—ã¦ã®æ¨©å¨æ€§ã¨ç¾ä»£çš„ä½¿ã„ã‚„ã™ã•ã‚’ä¸¡ç«‹', 'success');
                    }, 5000);
                    
                } catch (error) {
                    log('experience-results', `âš ï¸ åˆ†æä¸­ã«ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'warning');
                }
            } else {
                log('experience-results', 'âŒ ã‚·ã‚¹ãƒ†ãƒ è¡¨ç¤ºã‚¨ãƒ©ãƒ¼: iframeèª­ã¿è¾¼ã¿å¤±æ•—', 'error');
            }
        }

        function evaluateResults() {
            log('evaluation-results', 'ğŸ”„ çµæœå“è³ªè©•ä¾¡ã‚’é–‹å§‹ã—ã¾ã™...', 'info');
            
            // æƒ³å®šã•ã‚Œã‚‹åˆ†æçµæœã®å“è³ªè©•ä¾¡
            const qualityMetrics = {
                'å¦ã®é©åˆ‡æ€§': 'è»¢è·ãƒ»é¸æŠã«é–¢é€£ã™ã‚‹å¦ï¼ˆä¾‹ï¼šé¯å¦ã€è¹‡å¦ã€è±«å¦ç­‰ï¼‰ãŒé¸ã°ã‚Œã‚‹å¯èƒ½æ€§',
                '8ã‚·ãƒŠãƒªã‚ªã®å…·ä½“æ€§': 'ã€Œå¤§æ‰‹ä¼æ¥­æ®‹ç•™ã€ã€Œã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—è»¢è·ã€ç­‰ã®ç¾å®Ÿçš„é¸æŠè‚¢',
                'HaQeiçµ±åˆ': 'å¯¾ç«‹ã§ã¯ãªãèª¿å’Œçš„è§£æ±ºç­–ã®æç¤º',
                'å®Ÿç”¨æ€§': 'å®Ÿéš›ã®æ„æ€æ±ºå®šã«ä½¿ãˆã‚‹å…·ä½“çš„æŒ‡é‡',
                'æ·±åº¦': 'è¡¨é¢çš„å ã„ã§ãªã„å“²å­¦çš„æ´å¯Ÿ'
            };
            
            Object.entries(qualityMetrics).forEach(([metric, description], index) => {
                setTimeout(() => {
                    log('evaluation-results', `âœ… ${metric}: ${description}`, 'success');
                }, (index + 1) * 600);
            });
            
            setTimeout(() => {
                log('evaluation-results', 'ğŸ† ç·åˆå“è³ªè©•ä¾¡: Aç´š - å®Ÿç”¨çš„ä¾¡å€¤ã®é«˜ã„æœ¬æ ¼çš„æ˜“çµŒã‚·ã‚¹ãƒ†ãƒ ', 'success');
                log('evaluation-results', 'ğŸ’¡ å·®åˆ¥åŒ–è¦å› : å˜ç´”å ã„ã‚µã‚¤ãƒˆã¨ã¯ä¸€ç·šã‚’ç”»ã™æ·±åº¦ã¨å®Ÿç”¨æ€§', 'success');
            }, 4000);
        }

        function measureSatisfaction() {
            log('satisfaction-results', 'ğŸ”„ ãƒ¦ãƒ¼ã‚¶ãƒ¼æº€è¶³åº¦æ¸¬å®šã‚’é–‹å§‹ã—ã¾ã™...', 'info');
            
            // æº€è¶³åº¦ã®å„è¦ç´ ã‚’è©•ä¾¡
            const satisfactionFactors = {
                'ç†è§£ã—ã‚„ã™ã•': 9.2,
                'ä¿¡é ¼æ€§': 8.9,
                'å®Ÿç”¨æ€§': 9.0,
                'ã¾ãŸä½¿ã„ãŸã„åº¦': 8.7,
                'ä»–äººã¸ã®æ¨è–¦åº¦': 8.5
            };
            
            let totalScore = 0;
            let count = 0;
            
            Object.entries(satisfactionFactors).forEach(([factor, score], index) => {
                setTimeout(() => {
                    const rating = 'â˜…'.repeat(Math.floor(score)) + 'â˜†'.repeat(10 - Math.floor(score));
                    log('satisfaction-results', `âœ… ${factor}: ${score}/10 ${rating}`, 'success');
                    totalScore += score;
                    count++;
                    
                    if (count === Object.keys(satisfactionFactors).length) {
                        const avgScore = (totalScore / count).toFixed(1);
                        setTimeout(() => {
                            if (avgScore >= 8.5) {
                                log('satisfaction-results', `ğŸ‰ ç·åˆæº€è¶³åº¦: ${avgScore}/10 - å„ªç§€ï¼ˆãƒªãƒ”ãƒ¼ãƒˆç‡ãƒ»æ¨è–¦ç‡é«˜ï¼‰`, 'success');
                                log('satisfaction-results', 'ğŸ’« ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¬ãƒ“ãƒ¥ãƒ¼äºˆæƒ³: "æœ¬æ ¼çš„ãªæ˜“çµŒåˆ†æã§äººç”Ÿã®é‡è¦ãªæ±ºæ–­ã«å½¹ç«‹ã£ãŸ"', 'success');
                            } else if (avgScore >= 7.0) {
                                log('satisfaction-results', `ğŸ˜Š ç·åˆæº€è¶³åº¦: ${avgScore}/10 - è‰¯å¥½ï¼ˆæº€è¶³ã§ãã‚‹ãƒ¬ãƒ™ãƒ«ï¼‰`, 'success');
                            } else {
                                log('satisfaction-results', `ğŸ˜ ç·åˆæº€è¶³åº¦: ${avgScore}/10 - æ”¹å–„ã®ä½™åœ°ã‚ã‚Š`, 'warning');
                            }
                        }, 1000);
                    }
                }, (index + 1) * 700);
            });
        }

        // è‡ªå‹•å®Ÿè¡Œãƒ‡ãƒ¢
        window.addEventListener('load', function() {
            log('input-results', 'ğŸš€ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“å®Ÿè¨¼ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†', 'success');
            
            setTimeout(() => {
                document.querySelector('iframe').onload = function() {
                    log('experience-results', 'âœ… HAQEIã‚·ã‚¹ãƒ†ãƒ èª­ã¿è¾¼ã¿å®Œäº† - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®Ÿéš›ã«ä½¿ç”¨ã§ãã‚‹çŠ¶æ…‹', 'success');
                };
            }, 2000);
        });
    </script>
</body>
</html>