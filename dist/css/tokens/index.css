/**
 * HAQEI Future Simulator - Design Tokens Index
 * HaQei哲学と八卦カラーシステムによる統合デザイントークン
 * 
 * このファイルは全てのデザイントークンを一元管理し、
 * Future Simulatorの一貫した美的体験を保証します。
 * 
 * Philosophy Integration:
 * - 一（Ichi）: 本質的な美しさへの還元
 * - 簡（Kan）: 不要な装飾を排した機能美  
 * - 和（Wa）: 調和のとれたバランス
 * - 静（Sei）: 内面的な静寂と深み
 * 
 * 八卦エネルギーシステム:
 * - 乾（天）: 金色 - リーダーシップ、創造性
 * - 兌（沢）: 空色 - コミュニケーション、喜び
 * - 離（火）: 赤色 - エネルギー、情熱
 * - 震（雷）: 紫色 - 行動力、変革
 * - 巽（風）: 緑色 - 柔軟性、適応
 * - 坎（水）: 青色 - 直感、深い洞察
 * - 艮（山）: 灰色 - 安定性、持続
 * - 坤（地）: 茶色 - 包容力、実行力
 */

/* ===== デザイントークンのインポート ===== */
@import './colors.css';
@import './typography.css';
@import './spacing.css';
@import './animations.css';

/* ===== 統合追加トークン ===== */
:root {
  /* ===== ボーダー・シャドウ・その他視覚効果 ===== */
  
  /* ボーダー半径 */
  --radius-none: 0;
  --radius-xs: 0.125rem;        /* 2px */
  --radius-sm: 0.25rem;         /* 4px */
  --radius-md: 0.375rem;        /* 6px */
  --radius-lg: 0.5rem;          /* 8px */
  --radius-xl: 0.75rem;         /* 12px */
  --radius-2xl: 1rem;           /* 16px */
  --radius-3xl: 1.5rem;         /* 24px */
  --radius-4xl: 2rem;           /* 32px */
  --radius-full: 9999px;
  
  /* ボーダー幅 */
  --border-0: 0;
  --border-1: 1px;
  --border-2: 2px;
  --border-4: 4px;
  --border-8: 8px;
  
  /* シャドウ */
  --shadow-none: none;
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.05);
  
  /* 八卦シャドウ */
  --shadow-qian: 0 8px 32px rgba(255, 215, 0, 0.3);
  --shadow-dui: 0 8px 32px rgba(135, 206, 235, 0.3);
  --shadow-li: 0 8px 32px rgba(255, 69, 0, 0.3);
  --shadow-zhen: 0 8px 32px rgba(138, 43, 226, 0.3);
  --shadow-xun: 0 8px 32px rgba(50, 205, 50, 0.3);
  --shadow-kan: 0 8px 32px rgba(30, 144, 255, 0.3);
  --shadow-gen: 0 8px 32px rgba(112, 128, 144, 0.3);
  --shadow-kun: 0 8px 32px rgba(139, 69, 19, 0.3);

  /* ===== z-index階層 ===== */
  --z-auto: auto;
  --z-0: 0;
  --z-10: 10;
  --z-20: 20;
  --z-30: 30;
  --z-40: 40;
  --z-50: 50;
  --z-tooltip: 100;
  --z-dropdown: 200;
  --z-modal: 300;
  --z-popover: 400;
  --z-overlay: 500;
  --z-max: 9999;

  /* ===== ブレイクポイント ===== */
  --breakpoint-xs: 320px;
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;

  /* ===== コンテナ最大幅 ===== */
  --container-xs: 100%;
  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
  --container-2xl: 1400px;

  /* ===== アスペクト比 ===== */
  --aspect-square: 1 / 1;
  --aspect-video: 16 / 9;
  --aspect-photo: 4 / 3;
  --aspect-golden: 1.618 / 1;

  /* ===== ブラー効果 ===== */
  --blur-none: none;
  --blur-sm: blur(4px);
  --blur-md: blur(8px);
  --blur-lg: blur(16px);
  --blur-xl: blur(24px);
  --blur-2xl: blur(40px);
  --blur-3xl: blur(64px);

  /* ===== 透明度 ===== */
  --opacity-0: 0;
  --opacity-5: 0.05;
  --opacity-10: 0.1;
  --opacity-20: 0.2;
  --opacity-25: 0.25;
  --opacity-30: 0.3;
  --opacity-40: 0.4;
  --opacity-50: 0.5;
  --opacity-60: 0.6;
  --opacity-70: 0.7;
  --opacity-75: 0.75;
  --opacity-80: 0.8;
  --opacity-90: 0.9;
  --opacity-95: 0.95;
  --opacity-100: 1;

  /* ===== コンポーネント固有トークン ===== */
  
  /* ボタン */
  --btn-height-sm: 2rem;         /* 32px */
  --btn-height-md: 2.5rem;       /* 40px */
  --btn-height-lg: 3rem;         /* 48px */
  --btn-height-xl: 3.5rem;       /* 56px */
  
  /* 入力フィールド */
  --input-height-sm: 2rem;       /* 32px */
  --input-height-md: 2.5rem;     /* 40px */
  --input-height-lg: 3rem;       /* 48px */
  
  /* カード */
  --card-padding-sm: var(--space-4);
  --card-padding-md: var(--space-6);
  --card-padding-lg: var(--space-8);
  --card-radius: var(--radius-2xl);
  --card-shadow: var(--shadow-md);
  --card-shadow-hover: var(--shadow-lg);
  
  /* モーダル */
  --modal-backdrop: rgba(0, 0, 0, 0.5);
  --modal-radius: var(--radius-3xl);
  --modal-shadow: var(--shadow-2xl);
  --modal-max-width: 32rem;
  
  /* ナビゲーション */
  --nav-height: 4rem;            /* 64px */
  --nav-padding: var(--space-4);
  --nav-shadow: var(--shadow-sm);
  
  /* ===== 八卦テーマ統合設定 ===== */
  
  /* 現在アクティブな八卦テーマ（デフォルト: 自動） */
  --current-trigram: var(--trigram-kan); /* デフォルトは水の青 */
  --current-trigram-light: var(--trigram-kan-light);
  --current-trigram-dark: var(--trigram-kan-dark);
  --current-trigram-energy: var(--trigram-kan-energy);
  
  /* 陰陽バランス統合 */
  --yin-element-opacity: var(--opacity-60);
  --yang-element-opacity: var(--opacity-40);
  --harmony-blend-mode: multiply;
  
  /* ===== アクセシビリティ統合 ===== */
  
  /* フォーカスリング */
  --focus-ring-width: 3px;
  --focus-ring-offset: 2px;
  --focus-ring-color: var(--color-focus);
  --focus-ring-opacity: var(--opacity-50);
  
  /* 高コントラスト対応 */
  --contrast-border-width: 2px;
  --contrast-text-decoration: underline;
  
  /* ===== パフォーマンス最適化 ===== */
  
  /* GPU加速用 */
  --gpu-acceleration: translateZ(0);
  --backface-visibility: hidden;
  --perspective: 1000px;
  
  /* Containment */
  --layout-containment: layout;
  --style-containment: style;
  --paint-containment: paint;
  --strict-containment: strict;
}

/* ===== ダークモード統合調整 ===== */
:root[data-theme="dark"] {
  /* シャドウの強度調整 */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.4), 0 1px 2px -1px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -2px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -4px rgba(0, 0, 0, 0.4);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 8px 10px -6px rgba(0, 0, 0, 0.4);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.6);
  --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.3);
  
  /* モーダル背景の調整 */
  --modal-backdrop: rgba(0, 0, 0, 0.8);
  
  /* 八卦シャドウの強化 */
  --shadow-qian: 0 8px 32px rgba(255, 215, 0, 0.5);
  --shadow-dui: 0 8px 32px rgba(135, 206, 235, 0.5);
  --shadow-li: 0 8px 32px rgba(255, 69, 0, 0.5);
  --shadow-zhen: 0 8px 32px rgba(138, 43, 226, 0.5);
  --shadow-xun: 0 8px 32px rgba(50, 205, 50, 0.5);
  --shadow-kan: 0 8px 32px rgba(30, 144, 255, 0.5);
  --shadow-gen: 0 8px 32px rgba(112, 128, 144, 0.5);
  --shadow-kun: 0 8px 32px rgba(139, 69, 19, 0.5);
}

/* ===== 高コントラストモード統合 ===== */
@media (prefers-contrast: high) {
  :root {
    /* ボーダー幅の増加 */
    --border-1: 2px;
    --border-2: 3px;
    --border-4: 5px;
    
    /* シャドウの無効化 */
    --shadow-xs: none;
    --shadow-sm: none;
    --shadow-md: none;
    --shadow-lg: none;
    --shadow-xl: none;
    --shadow-2xl: none;
    --shadow-inner: none;
    
    /* フォーカスリングの強化 */
    --focus-ring-width: 4px;
    --focus-ring-offset: 3px;
    
    /* 八卦シャドウの無効化 */
    --shadow-qian: none;
    --shadow-dui: none;
    --shadow-li: none;
    --shadow-zhen: none;
    --shadow-xun: none;
    --shadow-kan: none;
    --shadow-gen: none;
    --shadow-kun: none;
  }
}

/* ===== 動的八卦テーマ統合 ===== */
:root[data-trigram="qian"] {
  --current-trigram: var(--trigram-qian);
  --current-trigram-light: var(--trigram-qian-light);
  --current-trigram-dark: var(--trigram-qian-dark);
  --current-trigram-energy: var(--trigram-qian-energy);
}

:root[data-trigram="dui"] {
  --current-trigram: var(--trigram-dui);
  --current-trigram-light: var(--trigram-dui-light);
  --current-trigram-dark: var(--trigram-dui-dark);
  --current-trigram-energy: var(--trigram-dui-energy);
}

:root[data-trigram="li"] {
  --current-trigram: var(--trigram-li);
  --current-trigram-light: var(--trigram-li-light);
  --current-trigram-dark: var(--trigram-li-dark);
  --current-trigram-energy: var(--trigram-li-energy);
}

:root[data-trigram="zhen"] {
  --current-trigram: var(--trigram-zhen);
  --current-trigram-light: var(--trigram-zhen-light);
  --current-trigram-dark: var(--trigram-zhen-dark);
  --current-trigram-energy: var(--trigram-zhen-energy);
}

:root[data-trigram="xun"] {
  --current-trigram: var(--trigram-xun);
  --current-trigram-light: var(--trigram-xun-light);
  --current-trigram-dark: var(--trigram-xun-dark);
  --current-trigram-energy: var(--trigram-xun-energy);
}

:root[data-trigram="kan"] {
  --current-trigram: var(--trigram-kan);
  --current-trigram-light: var(--trigram-kan-light);
  --current-trigram-dark: var(--trigram-kan-dark);
  --current-trigram-energy: var(--trigram-kan-energy);
}

:root[data-trigram="gen"] {
  --current-trigram: var(--trigram-gen);
  --current-trigram-light: var(--trigram-gen-light);
  --current-trigram-dark: var(--trigram-gen-dark);
  --current-trigram-energy: var(--trigram-gen-energy);
}

:root[data-trigram="kun"] {
  --current-trigram: var(--trigram-kun);
  --current-trigram-light: var(--trigram-kun-light);
  --current-trigram-dark: var(--trigram-kun-dark);
  --current-trigram-energy: var(--trigram-kun-energy);
}

/* ===== レスポンシブ統合調整 ===== */
@media (max-width: 640px) {
  :root {
    /* モバイル最適化 */
    --nav-height: 3.5rem;
    --modal-max-width: calc(100vw - 2rem);
    --card-padding-sm: var(--space-3);
    --card-padding-md: var(--space-4);
    --card-padding-lg: var(--space-6);
  }
}

@media (min-width: 1024px) {
  :root {
    /* デスクトップ最適化 */
    --nav-height: 5rem;
    --modal-max-width: 48rem;
    --card-padding-lg: var(--space-10);
  }
}

/* ===== 総合ユーティリティクラス ===== */

/* 現在の八卦テーマカラー */
.current-trigram-color { color: var(--current-trigram); }
.current-trigram-bg { background-color: var(--current-trigram); }
.current-trigram-border { border-color: var(--current-trigram); }
.current-trigram-shadow { box-shadow: 0 4px 20px var(--current-trigram); }
.current-trigram-energy { background: var(--current-trigram-energy); }

/* 陰陽バランス */
.yin-element { opacity: var(--yin-element-opacity); }
.yang-element { opacity: var(--yang-element-opacity); }
.harmony-blend { mix-blend-mode: var(--harmony-blend-mode); }

/* パフォーマンス最適化 */
.gpu-accelerated {
  transform: var(--gpu-acceleration);
  backface-visibility: var(--backface-visibility);
  perspective: var(--perspective);
}

.layout-contained { contain: var(--layout-containment); }
.style-contained { contain: var(--style-containment); }
.paint-contained { contain: var(--paint-containment); }
.strictly-contained { contain: var(--strict-containment); }

/* フォーカス管理 */
.focus-ring {
  outline: var(--focus-ring-width) solid var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
}

.focus-ring-invisible {
  outline: 2px solid transparent;
  outline-offset: 2px;
}

/* アクセシビリティ */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.not-sr-only {
  position: static;
  width: auto;
  height: auto;
  padding: 0;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* ===== デバッグ用 ===== */
.debug-outline * {
  outline: 1px solid red !important;
}

.debug-grid {
  background-image: 
    linear-gradient(rgba(255, 0, 0, 0.1) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 0, 0, 0.1) 1px, transparent 1px);
  background-size: 8px 8px;
}

/* ===== 印刷スタイル ===== */
@media print {
  :root {
    /* 印刷時の色調整 */
    --color-background: white;
    --color-text: black;
    --shadow-xs: none;
    --shadow-sm: none;
    --shadow-md: none;
    --shadow-lg: none;
    --shadow-xl: none;
    --shadow-2xl: none;
    
    /* アニメーション無効化 */
    --duration-instant: 0ms;
    --duration-fast: 0ms;
    --duration-normal: 0ms;
    --duration-slow: 0ms;
  }
  
  .animate-none {
    animation: none !important;
  }
}