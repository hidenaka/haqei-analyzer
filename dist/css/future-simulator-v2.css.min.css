*,*::before,*::after{box-sizing: border-box;margin: 0;padding: 0;}:root{--primary-color: #6366f1;--primary-hover: #5b5aec;--secondary-color: #64748b;--success-color: #10b981;--warning-color: #f59e0b;--error-color: #ef4444;--gray-50: #f8fafc;--gray-100: #f1f5f9;--gray-200: #e2e8f0;--gray-300: #cbd5e1;--gray-400: #94a3b8;--gray-500: #64748b;--gray-600: #475569;--gray-700: #334155;--gray-800: #1e293b;--gray-900: #0f172a;--container-max-width: 1200px;--border-radius: 8px;--border-radius-lg: 12px;--border-radius-xl: 16px;--space-xs: 0.25rem;--space-sm: 0.5rem;--space-md: 1rem;--space-lg: 1.5rem;--space-xl: 2rem;--space-2xl: 3rem;--font-family-sans: "Inter","Noto Sans JP",sans-serif;--font-size-xs: 0.75rem;--font-size-sm: 0.875rem;--font-size-base: 1rem;--font-size-lg: 1.125rem;--font-size-xl: 1.25rem;--font-size-2xl: 1.5rem;--font-size-3xl: 1.875rem;--shadow-sm: 0 1px 2px 0 rgba(0,0,0,0.05);--shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1);--shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);--shadow-xl: 0 20px 25px -5px rgba(0,0,0,0.1);--transition-fast: 0.15s ease-out;--transition-normal: 0.3s ease-out;--transition-slow: 0.5s ease-out;}html{font-size: 16px;line-height: 1.6;scroll-behavior: smooth;}body{font-family: var(--font-family-sans);color: var(--gray-800);background-color: var(--gray-50);min-height: 100vh;-webkit-font-smoothing: antialiased;-moz-osx-font-smoothing: grayscale;}#loadingScreen{position: fixed;top: 0;left: 0;right: 0;bottom: 0;background: linear-gradient(135deg,var(--primary-color),var(--primary-hover));display: flex;flex-direction: column;align-items: center;justify-content: center;z-index: 9999;opacity: 1;transition: opacity var(--transition-slow);}.loading-content{text-align: center;color: white;}.loading-logo{font-size: var(--font-size-3xl);font-weight: 700;margin-bottom: var(--space-lg);opacity: 0;animation: fadeInUp 0.8s ease-out 0.2s forwards;}.loading-title{font-size: var(--font-size-xl);margin-bottom: var(--space-xl);opacity: 0;animation: fadeInUp 0.8s ease-out 0.4s forwards;}.loading-progress{width: 300px;height: 4px;background: rgba(255,255,255,0.2);border-radius: 2px;overflow: hidden;margin-bottom: var(--space-md);}#initProgress{height: 100%;background: white;width: 0%;transition: width var(--transition-normal);border-radius: 2px;}#initProgressText{font-size: var(--font-size-sm);opacity: 0.9;min-height: 1.5em;}.app-container{max-width: var(--container-max-width);margin: 0 auto;padding: var(--space-lg);min-height: 100vh;}.app-header{text-align: center;margin-bottom: var(--space-2xl);}.app-title{font-size: var(--font-size-3xl);font-weight: 700;color: var(--primary-color);margin-bottom: var(--space-sm);}.app-description{font-size: var(--font-size-lg);color: var(--gray-600);max-width: 600px;margin: 0 auto;}.view{display: none;opacity: 0;transform: translateY(20px);transition: all var(--transition-normal);}.view.active{display: block;opacity: 1;transform: translateY(0);}.input-section{background: white;border-radius: var(--border-radius-lg);padding: var(--space-xl);box-shadow: var(--shadow-md);margin-bottom: var(--space-xl);}.input-header{text-align: center;margin-bottom: var(--space-lg);}.input-title{font-size: var(--font-size-2xl);font-weight: 600;color: var(--gray-800);margin-bottom: var(--space-sm);}.input-subtitle{color: var(--gray-600);font-size: var(--font-size-base);}.input-form{max-width: 800px;margin: 0 auto;}.text-input-container{position: relative;margin-bottom: var(--space-lg);}#textInput{width: 100%;min-height: 120px;padding: var(--space-lg);border: 2px solid var(--gray-200);border-radius: var(--border-radius);font-family: var(--font-family-sans);font-size: var(--font-size-base);line-height: 1.6;resize: vertical;transition: border-color var(--transition-fast);}#textInput:focus{outline: none;border-color: var(--primary-color);box-shadow: 0 0 0 3px rgba(99,102,241,0.1);}.char-counter{position: absolute;bottom: var(--space-sm);right: var(--space-sm);font-size: var(--font-size-xs);color: var(--gray-500);background: white;padding: var(--space-xs) var(--space-sm);border-radius: var(--border-radius);}.char-counter.warning{color: var(--warning-color);font-weight: 600;}.validation-message{margin-top: var(--space-sm);padding: var(--space-sm) var(--space-md);border-radius: var(--border-radius);background: var(--error-color);color: white;font-size: var(--font-size-sm);opacity: 0;transform: translateY(-10px);transition: all var(--transition-fast);}.validation-message.visible{opacity: 1;transform: translateY(0);}.input-actions{display: flex;gap: var(--space-md);justify-content: center;}.btn{display: inline-flex;align-items: center;justify-content: center;padding: var(--space-md) var(--space-xl);border: none;border-radius: var(--border-radius);font-family: var(--font-family-sans);font-size: var(--font-size-base);font-weight: 600;text-decoration: none;cursor: pointer;transition: all var(--transition-fast);position: relative;overflow: hidden;}.btn:disabled{opacity: 0.6;cursor: not-allowed;}.btn-primary{background: var(--primary-color);color: white;}.btn-primary:hover:not(:disabled){background: var(--primary-hover);transform: translateY(-1px);box-shadow: var(--shadow-lg);}.btn-secondary{background: var(--gray-200);color: var(--gray-700);}.btn-secondary:hover:not(:disabled){background: var(--gray-300);transform: translateY(-1px);}.btn-outline{background: transparent;border: 2px solid var(--primary-color);color: var(--primary-color);}.btn-outline:hover:not(:disabled){background: var(--primary-color);color: white;}.btn-lg{padding: var(--space-lg) var(--space-2xl);font-size: var(--font-size-lg);}.btn.loading{pointer-events: none;}.btn.loading::before{content: '';position: absolute;top: 50%;left: 50%;width: 20px;height: 20px;margin: -10px 0 0 -10px;border: 2px solid rgba(255,255,255,0.3);border-top-color: white;border-radius: 50%;animation: spin 1s linear infinite;}.results-section{margin-top: var(--space-xl);}.results-header{text-align: center;margin-bottom: var(--space-xl);}.results-title{font-size: var(--font-size-2xl);font-weight: 600;color: var(--gray-800);margin-bottom: var(--space-sm);}.results-subtitle{color: var(--gray-600);font-size: var(--font-size-base);}.scenarios-section{margin-bottom: var(--space-xl);}.scenarios-title{font-size: var(--font-size-xl);font-weight: 600;color: var(--gray-800);margin-bottom: var(--space-lg);text-align: center;}.scenarios-grid{display: grid;grid-template-columns: repeat(auto-fit,minmax(350px,1fr));gap: var(--space-lg);}.scenario-card{background: white;border-radius: var(--border-radius-lg);box-shadow: var(--shadow-md);padding: var(--space-xl);transition: all var(--transition-normal);cursor: pointer;position: relative;overflow: hidden;}.scenario-card:hover{transform: translateY(-4px);box-shadow: var(--shadow-xl);}.scenario-card::before{content: '';position: absolute;top: 0;left: 0;right: 0;height: 4px;background: var(--primary-color);}.scenario-card.impact-high::before{background: var(--error-color);}.scenario-card.impact-medium::before{background: var(--warning-color);}.scenario-card.impact-low::before{background: var(--success-color);}.scenario-header{display: flex;justify-content: space-between;align-items: flex-start;margin-bottom: var(--space-lg);}.scenario-title{font-size: var(--font-size-lg);font-weight: 600;color: var(--gray-800);flex: 1;margin-right: var(--space-md);}.hexagram-info{display: flex;flex-direction: column;align-items: center;min-width: 60px;}.hexagram-number{font-size: var(--font-size-lg);font-weight: 700;color: var(--primary-color);background: var(--gray-100);width: 40px;height: 40px;border-radius: 50%;display: flex;align-items: center;justify-content: center;margin-bottom: var(--space-xs);}.hexagram-name{font-size: var(--font-size-xs);color: var(--gray-600);text-align: center;}.scenario-content{margin-bottom: var(--space-lg);}.scenario-description{color: var(--gray-700);line-height: 1.7;margin-bottom: var(--space-lg);}.scenario-metrics{display: grid;grid-template-columns: repeat(3,1fr);gap: var(--space-md);}.metric{text-align: center;padding: var(--space-sm);background: var(--gray-50);border-radius: var(--border-radius);}.metric-label{display: block;font-size: var(--font-size-xs);color: var(--gray-500);text-transform: uppercase;letter-spacing: 0.05em;margin-bottom: var(--space-xs);}.metric-value{display: block;font-size: var(--font-size-lg);font-weight: 600;color: var(--gray-800);}.metric-value.impact-high{color: var(--error-color);}.metric-value.impact-medium{color: var(--warning-color);}.metric-value.impact-low{color: var(--success-color);}.scenario-actions{display: flex;gap: var(--space-sm);}.action-button{flex: 1;padding: var(--space-sm) var(--space-md);border: 1px solid var(--gray-300);background: white;color: var(--gray-700);border-radius: var(--border-radius);font-size: var(--font-size-sm);font-weight: 500;cursor: pointer;transition: all var(--transition-fast);}.action-button:hover{background: var(--gray-50);border-color: var(--gray-400);}.action-button.primary{background: var(--primary-color);color: white;border-color: var(--primary-color);}.action-button.primary:hover{background: var(--primary-hover);}.high-probability{border-left: 4px solid var(--success-color);}.medium-probability{border-left: 4px solid var(--warning-color);}.low-probability{border-left: 4px solid var(--gray-400);}#errorContainer{position: fixed;top: var(--space-lg);right: var(--space-lg);max-width: 400px;background: var(--error-color);color: white;padding: var(--space-lg);border-radius: var(--border-radius);box-shadow: var(--shadow-lg);transform: translateX(100%);transition: transform var(--transition-normal);z-index: 1000;}#errorContainer.active{transform: translateX(0);}#successNotification{position: fixed;top: var(--space-lg);right: var(--space-lg);max-width: 400px;background: var(--success-color);color: white;padding: var(--space-lg);border-radius: var(--border-radius);box-shadow: var(--shadow-lg);transform: translateX(100%);transition: transform var(--transition-normal);z-index: 1000;}#successNotification.show{transform: translateX(0);}#loadingIndicator{display: none;text-align: center;padding: var(--space-xl);}#loadingIndicator.active{display: block;}.loading-spinner{width: 40px;height: 40px;border: 4px solid var(--gray-200);border-top-color: var(--primary-color);border-radius: 50%;animation: spin 1s linear infinite;margin: 0 auto var(--space-md);}.loading-text{color: var(--gray-600);font-size: var(--font-size-base);}@media (max-width: 1024px){.app-container{padding: var(--space-md);}.scenarios-grid{grid-template-columns: repeat(auto-fit,minmax(300px,1fr));gap: var(--space-md);}.input-section{padding: var(--space-lg);}}@media (max-width: 768px){:root{--font-size-3xl: 1.5rem;--font-size-2xl: 1.25rem;--font-size-xl: 1.125rem;}.app-container{padding: var(--space-sm);}.app-header{margin-bottom: var(--space-lg);}.scenarios-grid{grid-template-columns: 1fr;gap: var(--space-md);}.scenario-card{padding: var(--space-lg);}.scenario-metrics{grid-template-columns: 1fr;gap: var(--space-sm);}.scenario-actions{flex-direction: column;}.input-actions{flex-direction: column;}.btn{width: 100%;}#textInput{min-height: 100px;padding: var(--space-md);}#errorContainer,#successNotification{top: var(--space-sm);right: var(--space-sm);left: var(--space-sm);max-width: none;}}@media (max-width: 480px){.input-section{padding: var(--space-md);}.scenario-card{padding: var(--space-md);}.scenario-header{flex-direction: column;gap: var(--space-sm);}.hexagram-info{align-self: flex-start;}}@keyframes fadeInUp{from{opacity: 0;transform: translateY(30px);}to{opacity: 1;transform: translateY(0);}}@keyframes fadeInDown{from{opacity: 0;transform: translateY(-30px);}to{opacity: 1;transform: translateY(0);}}@keyframes spin{from{transform: rotate(0deg);}to{transform: rotate(360deg);}}@keyframes slideInRight{from{transform: translateX(100%);}to{transform: translateX(0);}}@keyframes slideOutRight{from{transform: translateX(0);}to{transform: translateX(100%);}}.scenario-card{opacity: 0;animation: fadeInUp 0.6s ease-out forwards;}.scenario-card:nth-child(1){animation-delay: 0.1s;}.scenario-card:nth-child(2){animation-delay: 0.2s;}.scenario-card:nth-child(3){animation-delay: 0.3s;}.scenario-card:nth-child(4){animation-delay: 0.4s;}.scenario-card:nth-child(5){animation-delay: 0.5s;}.scenario-card:nth-child(6){animation-delay: 0.6s;}.text-center{text-align: center;}.text-left{text-align: left;}.text-right{text-align: right;}.font-bold{font-weight: 700;}.font-semibold{font-weight: 600;}.font-medium{font-weight: 500;}.text-primary{color: var(--primary-color);}.text-secondary{color: var(--secondary-color);}.text-success{color: var(--success-color);}.text-warning{color: var(--warning-color);}.text-error{color: var(--error-color);}.hidden{display: none;}.visible{display: block;}.sr-only{position: absolute;width: 1px;height: 1px;padding: 0;margin: -1px;overflow: hidden;clip: rect(0,0,0,0);white-space: nowrap;border: 0;}@media (prefers-reduced-motion: reduce){*,*::before,*::after{animation-duration: 0.01ms !important;animation-iteration-count: 1 !important;transition-duration: 0.01ms !important;scroll-behavior: auto !important;}}@media (prefers-contrast: high){:root{--gray-200: #000000;--gray-300: #000000;--gray-400: #000000;}.scenario-card{border: 2px solid var(--gray-800);}.btn{border: 2px solid currentColor;}}.btn:focus,#textInput:focus,.action-button:focus{outline: 2px solid var(--primary-color);outline-offset: 2px;}@media (hover: none) and (pointer: coarse){.btn,.scenario-card,.action-button{min-height: 44px;min-width: 44px;}.scenario-card:hover{transform: none;}}@media print{.app-container{max-width: none;padding: 0;}.input-section,.btn,#loadingIndicator,#errorContainer,#successNotification{display: none !important;}.scenario-card{break-inside: avoid;box-shadow: none;border: 1px solid var(--gray-300);margin-bottom: var(--space-lg);}.scenarios-grid{display: block;}}