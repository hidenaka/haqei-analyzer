/**
 * Progress Bar Force Display - 進捗バーの強制表示
 * 進捗バーが表示されない問題を解決
 */

/* 🔧 進捗バーの強制表示 - 最高優先度 */
.progress-container,
.virtual-question-flow .progress-container,
#questions-container .progress-container {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: relative !important;
    z-index: 9999 !important;
    
    /* 背景とスタイル */
    background: rgba(26, 26, 26, 0.95) !important;
    backdrop-filter: blur(10px) !important;
    
    /* レイアウト */
    width: 100% !important;
    padding: 20px !important;
    margin: 0 0 20px 0 !important;
    border-radius: 12px !important;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3) !important;
    
    /* デバッグ用境界線を削除（本番用）*/
    /* border: 2px solid #ff0000 !important; */
    
    /* 確実に表示するための設定 */
    min-height: 80px !important;
    max-width: none !important;
    transform: none !important;
}

/* 進捗バー本体の強制表示 */
.progress-bar,
.progress-container .progress-bar {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    
    /* スタイル */
    background: #3a3a3a !important;
    height: 12px !important;
    border-radius: 6px !important;
    overflow: hidden !important;
    margin-bottom: 12px !important;
    
    /* レイアウト */
    width: 100% !important;
    position: relative !important;
    
    /* デバッグ用境界線を削除（本番用）*/
    /* border: 1px solid #00ff00 !important; */
}

/* 進捗バー塗りつぶし部分の強制表示 */
.progress-bar-fill,
.progress-bar .progress-bar-fill {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    
    /* スタイル */
    background: linear-gradient(90deg, #6366f1, #8b5cf6) !important;
    height: 100% !important;
    
    /* アニメーション */
    transition: width 0.3s ease !important;
    
    /* レイアウト */
    position: relative !important;
    min-width: 5% !important; /* 最低でも5%は表示 */
    
    /* デバッグ用境界線を削除（本番用）*/
    /* border: 1px solid #0000ff !important; */
}

/* 進捗テキストの強制表示（もし存在する場合） */
.progress-text,
.progress-container .progress-text {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    justify-content: center !important;
    align-items: center !important;
    gap: 8px !important;
    
    /* テキストスタイル */
    color: #ffffff !important;
    font-size: 14px !important;
    font-weight: 500 !important;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5) !important;
}

/* 親コンテナの設定 */
.virtual-question-flow {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: relative !important;
    width: 100% !important;
    min-height: 100vh !important;
}

/* デバッグ情報表示を削除（本番用） */
/*
.progress-container::before {
    content: "🔧 PROGRESS BAR DEBUG MODE - This should be visible!";
    display: block !important;
    color: #ff0000 !important;
    font-weight: bold !important;
    background: #ffff00 !important;
    padding: 5px !important;
    margin-bottom: 10px !important;
    border-radius: 4px !important;
    text-align: center !important;
}
*/

/* さらに強制的な表示のためのフォールバック */
body .progress-container,
html .progress-container {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* レスポンシブ対応 */
@media (max-width: 768px) {
    .progress-container {
        padding: 15px !important;
        margin: 0 0 15px 0 !important;
    }
    
    .progress-bar {
        height: 10px !important;
    }
}

/* アニメーション無効化（デバッグ用） */
.progress-container *,
.progress-bar *,
.progress-bar-fill {
    animation: none !important;
    transition: width 0.3s ease !important; /* 進捗バーの幅変化のみ許可 */
}

/* z-indexの確実な適用 */
.progress-container {
    z-index: 999999 !important;
    position: relative !important;
}

/* 隠されている可能性のある要素を強制表示 */
.progress-container[style*="display: none"],
.progress-container[style*="visibility: hidden"],
.progress-container[style*="opacity: 0"] {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}