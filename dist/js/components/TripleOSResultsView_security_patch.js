window.SecurityValidator&&window.SecureDOM||console.error("Security utilities not loaded. Please include SecurityValidator.js and SecureDOM.js"),function(){TripleOSResultsView.prototype.render;TripleOSResultsView.prototype.render=async function(){try{const e=await this.extractTripleOSData(this.analysisResult);if(!(e&&e.engineOS&&e.interfaceOS&&e.safeModeOS))return void SecureDOM.setHTML(this.container,'\n                    <div class="error-container" role="alert">\n                        <div class="error-icon">âš ï¸</div>\n                        <h2 class="error-title">ãƒˆãƒªãƒ—ãƒ«OSåˆ†æãƒ‡ãƒ¼ã‚¿ãŒä¸å®Œå…¨ã§ã™</h2>\n                        <p class="error-message">ã‚¨ãƒ³ã‚¸ãƒ³OSã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹OSã€ã‚»ãƒ¼ãƒ•ãƒ¢ãƒ¼ãƒ‰OSã®ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸã€‚</p>\n                        <p class="error-advice">ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã‹ã€åˆ†æã‚’å†å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚</p>\n                    </div>\n                ',{ALLOWED_TAGS:["div","h2","p"],ALLOWED_ATTR:["class","role"]});const t=this.generateMainHTML(e);SecureDOM.setHTML(this.container,t,{ALLOWED_TAGS:["div","h1","h2","h3","h4","p","span","ul","li","button","section","header","article","canvas"],ALLOWED_ATTR:["class","id","data-tab","data-value","data-os-type","aria-label","aria-selected","role","tabindex"]}),this.attachEventListeners(),await this.initializeVisualizations()}catch(e){console.error("âŒ [TripleOSResultsView] Render error:",e),SecureDOM.setText(this.container,"ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚")}};TripleOSResultsView.prototype.updateSectionContent;TripleOSResultsView.prototype.updateSectionContent=function(e,t,s){try{if(t)SecureDOM.setHTML(e,t,{ALLOWED_TAGS:["div","h3","h4","p","span","ul","li","strong","em","small"],ALLOWED_ATTR:["class","style"]});else{const t=s||'<div class="error-note"><small>âŒ ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ</small></div>';SecureDOM.setHTML(e,t,{ALLOWED_TAGS:["div","small"],ALLOWED_ATTR:["class"]})}}catch(r){console.error("âŒ Section update error:",r),SecureDOM.setText(e,"âŒ è¡¨ç¤ºã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ")}};TripleOSResultsView.prototype.showNotImplementedMessage;TripleOSResultsView.prototype.showNotImplementedMessage=function(e){SecureDOM.setText(e,"ğŸš§ ã¾ã å®Ÿè£…ã—ã¦ã„ã¾ã›ã‚“ - ä»Šå¾Œå®Ÿè£…äºˆå®šã§ã™")};["_renderEngineOSAnalysis","_renderInterfaceOSAnalysis","_renderSafeModeOSAnalysis","_renderCompatibilityAnalysis","_renderAdvancedAnalysis"].forEach(e=>{const t=TripleOSResultsView.prototype[e];t&&(TripleOSResultsView.prototype[e]=function(...e){const s=t.apply(this,e);return"string"==typeof s?DOMPurify?DOMPurify.sanitize(s,{ALLOWED_TAGS:["div","h3","h4","p","span","ul","li","strong","em","small","table","tr","td","th"],ALLOWED_ATTR:["class","style","data-value","data-type"]}):SecurityValidator.escapeHtml(s):s})}),console.log("âœ… TripleOSResultsView security patch applied successfully")}();