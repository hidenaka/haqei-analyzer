console.log("ðŸŽ­ Authentic8ScenariosSystem Loading..."),window.Authentic8ScenariosSystem={initialized:!1,scenarioFramework:{directions:{creative:{trigram:"ä¹¾",name:"å‰µé€ çš„ã‚·ãƒŠãƒªã‚ª",focus:"æ–°ã—ã„å§‹ã¾ã‚Šã¨å‰µé€ "},receptive:{trigram:"å¤",name:"å—å®¹çš„ã‚·ãƒŠãƒªã‚ª",focus:"æ”¯æ´ã¨å”åŠ›"},dynamic:{trigram:"éœ‡",name:"å‹•çš„ã‚·ãƒŠãƒªã‚ª",focus:"å¤‰åŒ–ã¨è¡Œå‹•"},gentle:{trigram:"å·½",name:"æŸ”è»Ÿã‚·ãƒŠãƒªã‚ª",focus:"é©å¿œã¨æµ¸é€"},flowing:{trigram:"åŽ",name:"æµå‹•ã‚·ãƒŠãƒªã‚ª",focus:"å›°é›£ã®å…‹æœ"},illuminating:{trigram:"é›¢",name:"ç…§æ˜Žã‚·ãƒŠãƒªã‚ª",focus:"æ˜Žæ™°ã¨ç†è§£"},stable:{trigram:"è‰®",name:"å®‰å®šã‚·ãƒŠãƒªã‚ª",focus:"é™æ­¢ã¨çž‘æƒ³"},joyful:{trigram:"å…Œ",name:"å–œæ‚¦ã‚·ãƒŠãƒªã‚ª",focus:"é–‹æ”¾ã¨äº¤æµ"}},timeframes:{immediate:"å³åº§ï¼ˆ1é€±é–“ä»¥å†…ï¼‰",short_term:"çŸ­æœŸï¼ˆ1-3ãƒ¶æœˆï¼‰",medium_term:"ä¸­æœŸï¼ˆ3-12ãƒ¶æœˆï¼‰",long_term:"é•·æœŸï¼ˆ1-3å¹´ï¼‰"},scopes:{personal:"å€‹äººãƒ¬ãƒ™ãƒ«",interpersonal:"å¯¾äººé–¢ä¿‚ãƒ¬ãƒ™ãƒ«",community:"å…±åŒä½“ãƒ¬ãƒ™ãƒ«",societal:"ç¤¾ä¼šãƒ¬ãƒ™ãƒ«"}},haqeiPrinciples:{harmony:{scenario_types:["çµ±åˆ","å”åŠ›","å¹³è¡¡","Win-Win"],transformation_patterns:["å¯¾ç«‹â†’å”åŠ›","æ··æ²Œâ†’ç§©åº","åˆ†è£‚â†’çµ±åˆ"],key_elements:["ç›¸äº’ç†è§£","å…±é€šåˆ©ç›Š","ãƒãƒ©ãƒ³ã‚¹","èª¿å’Œ"]},compassion:{scenario_types:["æ”¯æ´","ç™’ã—","ç†è§£","å…±æ„Ÿ"],transformation_patterns:["è‹¦ã—ã¿â†’ç™’ã—","å­¤ç‹¬â†’ã¤ãªãŒã‚Š","æ†Žã—ã¿â†’æ„›"],key_elements:["æ€ã„ã‚„ã‚Š","ç„¡æ¡ä»¶ã®æ„›","è¨±ã—","æ”¯æ´"]},wisdom:{scenario_types:["å­¦ç¿’","æ´žå¯Ÿ","æˆé•·","ç†è§£"],transformation_patterns:["ç„¡çŸ¥â†’çŸ¥è­˜","æ··ä¹±â†’æ˜Žæ™°","æ„šã‹ã•â†’æ™ºæ…§"],key_elements:["å­¦ã³","æ´žå¯Ÿ","çµŒé¨“","æ·±ã„ç†è§£"]},authenticity:{scenario_types:["çœŸå®Ÿé–‹ç¤º","æœ¬è³ªç™ºè¦‹","ç´”ç²‹è¡¨ç¾","è‡ªç„¶ä½“"],transformation_patterns:["å½ã‚Šâ†’çœŸå®Ÿ","ä»®é¢â†’ç´ é¡”","ä¸è‡ªç„¶â†’è‡ªç„¶"],key_elements:["èª å®Ÿ","ç´”ç²‹","è‡ªç„¶","çœŸå®Ÿ"]}},async init(){console.log("ðŸš€ Authentic8ScenariosSystem initializing...");try{await this.loadScenarioPatterns(),await this.initializeGenerationEngine(),this.setupHaQeiIntegration(),this.setupIchingMappings(),this.initialized=!0,console.log("âœ… Authentic8ScenariosSystem initialized successfully")}catch(e){console.error("âŒ Authentic8ScenariosSystem initialization failed:",e)}},async loadScenarioPatterns(){this.scenarioPatterns={personal_growth:{creative:"ã‚ãªãŸã®å‰µé€ çš„ãªæ‰èƒ½ãŒæ–°ã—ã„æ©Ÿä¼šã‚’ç”Ÿã¿å‡ºã™",receptive:"ã‚ãªãŸã®å—å®¹æ€§ãŒå‘¨å›²ã¨ã®èª¿å’Œã‚’æ·±ã‚ã‚‹",dynamic:"ã‚ãªãŸã®è¡Œå‹•åŠ›ãŒå¤§ããªå¤‰åŒ–ã‚’ã‚‚ãŸã‚‰ã™",gentle:"ã‚ãªãŸã®æŸ”è»Ÿæ€§ãŒå›°é›£ãªçŠ¶æ³ã‚’è§£æ±ºã™ã‚‹",flowing:"ã‚ãªãŸã®é©å¿œåŠ›ãŒè©¦ç·´ã‚’ä¹—ã‚Šè¶Šãˆã‚‹åŠ›ã¨ãªã‚‹",illuminating:"ã‚ãªãŸã®æ´žå¯ŸåŠ›ãŒæ–°ãŸãªç†è§£ã‚’ã‚‚ãŸã‚‰ã™",stable:"ã‚ãªãŸã®å®‰å®šæ€§ãŒå‘¨å›²ã®ä¿¡é ¼ã‚’å¾—ã‚‹",joyful:"ã‚ãªãŸã®é–‹æ”¾æ€§ãŒæ–°ã—ã„é–¢ä¿‚ã‚’ç¯‰ã"},relationships:{creative:"æ–°ã—ã„é–¢ä¿‚ãŒå‰µé€ çš„ãªã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç”Ÿã‚€",receptive:"ç›¸äº’æ”¯æ´ã®é–¢ä¿‚ãŒæ·±ã„çµ†ã‚’å½¢æˆã™ã‚‹",dynamic:"ç©æ¥µçš„ãªé–¢ã‚ã‚ŠãŒé–¢ä¿‚ã‚’æ´»æ€§åŒ–ã•ã›ã‚‹",gentle:"å„ªã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒå¿ƒã®è·é›¢ã‚’ç¸®ã‚ã‚‹",flowing:"å›°é›£ã‚’å…±ã«ä¹—ã‚Šè¶Šãˆã¦çµ†ãŒæ·±ã¾ã‚‹",illuminating:"ç›¸äº’ç†è§£ãŒé–¢ä¿‚ã®è³ªã‚’å‘ä¸Šã•ã›ã‚‹",stable:"å®‰å®šã—ãŸé–¢ä¿‚ãŒé•·æœŸçš„ãªä¿¡é ¼ã‚’ç¯‰ã",joyful:"æ¥½ã—ã„äº¤æµãŒè±Šã‹ãªäººé–“é–¢ä¿‚ã‚’è‚²ã‚€"},career:{creative:"å‰µé€ çš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒæ–°ã—ã„ã‚­ãƒ£ãƒªã‚¢ãƒ‘ã‚¹ã‚’é–‹ã",receptive:"ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã‚µãƒãƒ¼ãƒˆãŒæˆåŠŸã‚’ã‚‚ãŸã‚‰ã™",dynamic:"ç©æ¥µçš„ãªè¡Œå‹•ãŒæ˜‡é€²ã‚„æ–°ã—ã„æ©Ÿä¼šã«ã¤ãªãŒã‚‹",gentle:"æŸ”è»Ÿãªå¯¾å¿œãŒå›°é›£ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æˆåŠŸã•ã›ã‚‹",flowing:"å¤‰åŒ–ã«é©å¿œã™ã‚‹èƒ½åŠ›ãŒç«¶äº‰å„ªä½ã‚’ç”Ÿã‚€",illuminating:"å°‚é–€çŸ¥è­˜ã¨æ´žå¯ŸåŠ›ãŒè©•ä¾¡ã‚’é«˜ã‚ã‚‹",stable:"ç€å®ŸãªåŠªåŠ›ãŒé•·æœŸçš„ãªæˆåŠŸåŸºç›¤ã‚’ç¯‰ã",joyful:"ãƒã‚¸ãƒ†ã‚£ãƒ–ãªå§¿å‹¢ãŒè·å ´ç’°å¢ƒã‚’æ”¹å–„ã™ã‚‹"},wellness:{creative:"æ–°ã—ã„å¥åº·ç¿’æ…£ãŒç”Ÿæ´»ã‚’æ ¹æœ¬ã‹ã‚‰å¤‰ãˆã‚‹",receptive:"ã‚»ãƒ«ãƒ•ã‚±ã‚¢ã¨ä¼‘æ¯ãŒå›žå¾©åŠ›ã‚’é«˜ã‚ã‚‹",dynamic:"æ´»ç™ºãªé‹å‹•ãŒèº«ä½“ã¨å¿ƒã‚’æ´»æ€§åŒ–ã™ã‚‹",gentle:"å„ªã—ã„æ²»ç™‚æ³•ãŒç©ã‚„ã‹ãªå›žå¾©ã‚’ã‚‚ãŸã‚‰ã™",flowing:"ã‚¹ãƒˆãƒ¬ã‚¹ç®¡ç†ãŒæŸ”è»Ÿãªå¯¾å¿œåŠ›ã‚’è‚²ã‚€",illuminating:"å¥åº·ã¸ã®ç†è§£ãŒè³¢æ˜Žãªé¸æŠžã‚’å°Žã",stable:"è¦å‰‡æ­£ã—ã„ç”Ÿæ´»ãŒå®‰å®šã—ãŸå¥åº·ã‚’ä¿ã¤",joyful:"æ¥½ã—ã„æ´»å‹•ãŒå¿ƒèº«ã®èª¿å’Œã‚’ä¿ƒé€²ã™ã‚‹"}}},async initializeGenerationEngine(){this.generationEngine={basic_generation:this.generateBasicScenarios.bind(this),detailed_generation:this.generateDetailedScenarios.bind(this),haqei_generation:this.generateHaQeiScenarios.bind(this),integrated_generation:this.generateIntegratedScenarios.bind(this)}},setupHaQeiIntegration(){this.haqeiIntegration={enhance_harmony:e=>e.map(e=>({...e,harmony_aspect:this.addHarmonyPerspective(e),cooperation_potential:this.assessCooperationPotential(e)})),enhance_compassion:e=>e.map(e=>({...e,compassion_aspect:this.addCompassionPerspective(e),healing_potential:this.assessHealingPotential(e)})),enhance_wisdom:e=>e.map(e=>({...e,wisdom_aspect:this.addWisdomPerspective(e),learning_opportunities:this.identifyLearningOpportunities(e)})),enhance_authenticity:e=>e.map(e=>({...e,authenticity_aspect:this.addAuthenticityPerspective(e),truth_potential:this.assessTruthPotential(e)}))}},setupIchingMappings(){this.ichingMappings={scenario_to_hexagram:new Map([["creative",[1,25,43]],["receptive",[2,19,46]],["dynamic",[51,16,34]],["gentle",[57,20,53]],["flowing",[29,60,40]],["illuminating",[30,13,49]],["stable",[52,41,15]],["joyful",[58,17,45]]]),hexagram_guidance:new Map([[1,"å‰µé€ çš„ãªåŠ›ã‚’å»ºè¨­çš„ã«æ´»ç”¨ã™ã‚‹"],[2,"å—å®¹çš„ãªæ…‹åº¦ã§ä»–è€…ã‚’æ”¯æ´ã™ã‚‹"],[11,"èª¿å’Œã¨å”åŠ›ã‚’é‡è¦–ã™ã‚‹"],[25,"ç´”ç²‹ã§è‡ªç„¶ãªè¡Œå‹•ã‚’å–ã‚‹"],[51,"å¤‰åŒ–ã‚’æã‚Œãšç©æ¥µçš„ã«è¡Œå‹•ã™ã‚‹"],[57,"æŸ”è»Ÿæ€§ã‚’æŒã£ã¦æµ¸é€ã•ã›ã‚‹"]])}},async generate8Scenarios(e,i={}){this.initialized||await this.init();const{style:t="haqei",timeframe:n="medium_term",scope:a="personal",detail_level:s="detailed",include_guidance:o=!0}=i;try{const i=await this.analyzeInput(e);let r=await this.generateBasicScenarios(i,n,a);return"haqei"===t&&(r=await this.applyHaQeiEnhancement(r,i)),"detailed"===s&&(r=await this.addDetailedElements(r,i)),o&&(r=await this.addGuidanceElements(r,i)),r=await this.integrateIchingWisdom(r),{input:e,analysis:i,scenarios:r,metadata:{generation_time:(new Date).toISOString(),style:t,timeframe:n,scope:a,haqei_integration:this.calculateHaQeiIntegration(r)}}}catch(r){return console.error("âŒ 8 scenarios generation failed:",r),this.getDefault8Scenarios(e)}},async analyzeInput(e){return{themes:await this.extractThemes(e),emotions:await this.analyzeEmotions(e),intentions:await this.identifyIntentions(e),context:await this.determineContext(e),complexity:this.assessComplexity(e),haqei_alignment:await this.assessHaQeiAlignment(e)}},async extractThemes(e){const i=[];return Object.entries({personal_growth:/æˆé•·|ç™ºå±•|å‘ä¸Š|è‡ªå·±å®Ÿç¾|é€²æ­©/g,relationships:/é–¢ä¿‚|äººé–“é–¢ä¿‚|å‹æƒ…|æ„›|å®¶æ—/g,career:/ä»•äº‹|ã‚­ãƒ£ãƒªã‚¢|è·å ´|ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ|æˆåŠŸ/g,health:/å¥åº·|ä½“èª¿|å¿ƒèº«|ã‚¦ã‚§ãƒ«ãƒã‚¹|å›žå¾©/g,creativity:/å‰µé€ |ã‚¢ãƒ¼ãƒˆ|è¡¨ç¾|é©æ–°|ç™ºæ˜Ž/g,spirituality:/ç²¾ç¥ž|é­‚|çž‘æƒ³|æ‚Ÿã‚Š|å†…é¢/g,learning:/å­¦ç¿’|æ•™è‚²|çŸ¥è­˜|ç†è§£|ç¿’å¾—/g,community:/å…±åŒä½“|ç¤¾ä¼š|åœ°åŸŸ|å”åŠ›|è²¢çŒ®/g}).forEach(([t,n])=>{const a=(e.match(n)||[]).length;a>0&&i.push({theme:t,intensity:Math.min(a/3,1),keywords:[...e.matchAll(n)].map(e=>e[0])})}),i.length>0?i:[{theme:"personal_growth",intensity:.5,keywords:[]}]},async analyzeEmotions(e){const i={positive:[],negative:[],neutral:[],dominant_emotion:null,emotional_intensity:0};let t=0;return Object.entries({positive:["å¬‰ã—ã„","æ¥½ã—ã„","å¹¸ã›","å¸Œæœ›","æ„›","æ„Ÿè¬","æº€è¶³"],negative:["æ‚²ã—ã„","æ€’ã‚Š","ä¸å®‰","å¿ƒé…","æã‚Œ","çµ¶æœ›","å­¤ç‹¬"],neutral:["æ™®é€š","å¹³é™","è½ã¡ç€ã","é™ã‹","å®‰å®š","å¹³å‡¡"]}).forEach(([n,a])=>{const s=a.filter(i=>e.includes(i));i[n]=s,s.length>t&&(t=s.length,i.dominant_emotion=n)}),i.emotional_intensity=Math.min((i.positive.length+i.negative.length)/5,1),i},async identifyIntentions(e){const i=[];return Object.entries({seeking_change:/å¤‰åŒ–|å¤‰ãˆã‚‹|æ–°ã—ã„|é•ã†|æ”¹å–„/g,seeking_stability:/å®‰å®š|ç¶­æŒ|ä¿ã¤|ç¶šã‘ã‚‹|ç¶™ç¶š/g,seeking_growth:/æˆé•·|ç™ºå±•|å‘ä¸Š|é€²æ­©|æ‹¡å¤§/g,seeking_harmony:/èª¿å’Œ|å¹³å’Œ|ãƒãƒ©ãƒ³ã‚¹|å”åŠ›|çµ±åˆ/g,seeking_understanding:/ç†è§£|åˆ†ã‹ã‚‹|å­¦ã¶|çŸ¥ã‚‹|æ´žå¯Ÿ/g,seeking_healing:/ç™’ã—|å›žå¾©|æ²»ã‚‹|å…ƒæ°—|å¥åº·/g,seeking_connection:/ç¹‹ãŒã‚Š|é–¢ä¿‚|äº¤æµ|å‹é”|ä»²é–“/g,seeking_purpose:/ç›®çš„|æ„å‘³|ä½¿å‘½|å½¹å‰²|ä¾¡å€¤/g}).forEach(([t,n])=>{const a=(e.match(n)||[]).length;a>0&&i.push({intention:t,strength:Math.min(a/2,1)})}),i.length>0?i:[{intention:"seeking_growth",strength:.5}]},async determineContext(e){const i={primary_domain:null,secondary_domains:[],life_stage:null,urgency:null};let t=0;return Object.entries({personal:/è‡ªåˆ†|ç§|å€‹äºº|å†…é¢|å¿ƒ/g,relationships:/äºº|é–¢ä¿‚|å®¶æ—|å‹é”|æ‹äºº/g,career:/ä»•äº‹|ä¼šç¤¾|è·å ´|ã‚­ãƒ£ãƒªã‚¢/g,health:/å¥åº·|ä½“|å¿ƒèº«|ç—…æ°—|å›žå¾©/g,education:/å­¦æ ¡|å‹‰å¼·|å­¦ç¿’|æ•™è‚²/g,finance:/ãŠé‡‘|çµŒæ¸ˆ|æŠ•è³‡|åŽå…¥/g}).forEach(([n,a])=>{const s=(e.match(a)||[]).length;s>t&&(t=s,i.primary_domain=n),s>0&&i.secondary_domains.push(n)}),/å­¦ç”Ÿ|è‹¥ã„|å§‹ã¾ã‚Š/.test(e)?i.life_stage="young":/ä¸­å¹´|çµŒé¨“|è²¬ä»»/.test(e)?i.life_stage="middle":/é«˜é½¢|è€å¹´|æ™ºæ…§/.test(e)?i.life_stage="elder":i.life_stage="general",/æ€¥|ã™ã|æ—©ã|ç·Šæ€¥/.test(e)?i.urgency="high":/ã‚†ã£ãã‚Š|æ™‚é–“|æ…Žé‡/.test(e)?i.urgency="low":i.urgency="medium",i},assessComplexity(e){const i=[e.length/200,(e.match(/ã€|ã€‚/g)||[]).length/10,(e.match(/ã—ã‹ã—|ã ãŒ|ã¨ã“ã‚ãŒ|ä¸€æ–¹/g)||[]).length/3];return Math.min(i.reduce((e,i)=>e+i,0),1)},async assessHaQeiAlignment(e){const i={harmony:0,compassion:0,wisdom:0,authenticity:0,overall:0};return Object.entries({harmony:/èª¿å’Œ|å¹³å’Œ|ãƒãƒ©ãƒ³ã‚¹|å”åŠ›|çµ±åˆ|Win-Win/g,compassion:/æ€ã„ã‚„ã‚Š|æ…ˆæ‚²|æ„›|å…±æ„Ÿ|ç†è§£|æ”¯æ´/g,wisdom:/çŸ¥æµ|æ™ºæ…§|å­¦ç¿’|æ´žå¯Ÿ|æˆé•·|çµŒé¨“/g,authenticity:/çœŸå®Ÿ|èª å®Ÿ|æ­£ç›´|è‡ªç„¶|ç´”ç²‹|æœ¬è³ª/g}).forEach(([t,n])=>{const a=(e.match(n)||[]).length;i[t]=Math.min(a/3,1)}),i.overall=(i.harmony+i.compassion+i.wisdom+i.authenticity)/4,i},async generateBasicScenarios(e,i,t){const n=[],a=e.themes[0]?.theme||"personal_growth",s=this.scenarioPatterns[a]||this.scenarioPatterns.personal_growth;return Object.entries(this.scenarioFramework.directions).forEach(([o,r])=>{const c=s[o]||`${r.focus}ã«ã‚ˆã£ã¦æ–°ã—ã„å¯èƒ½æ€§ãŒé–‹ã‹ã‚Œã‚‹`;n.push({id:o,title:r.name,trigram:r.trigram,focus:r.focus,description:this.customizeScenario(c,e,i,t),timeframe:i,scope:t,probability:this.calculateProbability(o,e),impact:this.calculateImpact(o,e),keywords:this.generateKeywords(o,e),themes:[a]})}),n},customizeScenario(e,i,t,n){let a=e;"positive"===i.emotions.dominant_emotion?a+="ã€‚ã“ã®å¤‰åŒ–ã¯ã‚ãªãŸã«å–œã³ã¨æº€è¶³ã‚’ã‚‚ãŸã‚‰ã™ã§ã—ã‚‡ã†ã€‚":"negative"===i.emotions.dominant_emotion?a+="ã€‚ã“ã‚Œã¯ç¾åœ¨ã®å›°é›£ã‚’ä¹—ã‚Šè¶Šãˆã‚‹å¸Œæœ›ã®å…‰ã¨ãªã‚‹ã§ã—ã‚‡ã†ã€‚":a+="ã€‚ç©ã‚„ã‹ã§ç€å®Ÿãªå¤‰åŒ–ãŒæœŸå¾…ã•ã‚Œã¾ã™ã€‚";return a+=`${{immediate:"ã™ãã«åŠ¹æžœãŒç¾ã‚Œ",short_term:"æ•°ãƒ¶æœˆä»¥å†…ã«çµæžœãŒè¦‹ãˆ",medium_term:"åŠå¹´ã‹ã‚‰ä¸€å¹´ã‚’ã‹ã‘ã¦å±•é–‹ã—",long_term:"é•·æœŸçš„ãªè¦–ç‚¹ã§ç€å®Ÿã«é€²å±•ã—"}[t]}ã¦ã„ãã“ã¨ã§ã—ã‚‡ã†ã€‚`,a},calculateProbability(e,i){let t=.5;return t+=.3*this.calculateIntentionAlignment(e,i.intentions),t+=.2*i.haqei_alignment.overall,"positive"===i.emotions.dominant_emotion&&["creative","joyful","dynamic"].includes(e)&&(t+=.1),Math.max(.1,Math.min(.9,t))},calculateIntentionAlignment(e,i){let t=0;const n={creative:["seeking_change","seeking_growth","seeking_purpose"],receptive:["seeking_healing","seeking_harmony","seeking_understanding"],dynamic:["seeking_change","seeking_growth"],gentle:["seeking_harmony","seeking_understanding","seeking_connection"],flowing:["seeking_change","seeking_healing"],illuminating:["seeking_understanding","seeking_purpose"],stable:["seeking_stability","seeking_harmony"],joyful:["seeking_connection","seeking_healing"]}[e]||[];return i.forEach(e=>{n.includes(e.intention)&&(t+=e.strength)}),Math.min(t/3,1)},calculateImpact(e,i){let t=.5;t+=.2*i.complexity;const n=i.themes[0]?.theme||"personal_growth";return{personal_growth:["creative","dynamic","illuminating"],relationships:["receptive","gentle","joyful"],career:["creative","dynamic","stable"]}[n]?.includes(e)&&(t+=.2),Math.max(.1,Math.min(.9,t))},generateKeywords(e,i){const t=[...{creative:["å‰µé€ ","æ–°ã—ã•","é©æ–°","å§‹ã¾ã‚Š"],receptive:["å—å®¹","æ”¯æ´","å”åŠ›","åŸºç›¤"],dynamic:["å¤‰åŒ–","è¡Œå‹•","æ´»åŠ›","æŽ¨é€²"],gentle:["æŸ”è»Ÿ","é©å¿œ","æµ¸é€","å„ªã—ã•"],flowing:["æµå‹•","é©å¿œ","å…‹æœ","å¤‰åŒ–"],illuminating:["æ˜Žæ™°","ç†è§£","æ´žå¯Ÿ","çŸ¥è­˜"],stable:["å®‰å®š","ç¶™ç¶š","åŸºç›¤","ä¿¡é ¼"],joyful:["å–œã³","é–‹æ”¾","äº¤æµ","æ¥½ã—ã¿"]}[e]];return i.themes.forEach(e=>{e.keywords&&t.push(...e.keywords.slice(0,2))}),[...new Set(t)]},async applyHaQeiEnhancement(e,i){const t=[];for(const n of e){let e={...n};e=await this.enhanceWithHarmony(e,i),e=await this.enhanceWithCompassion(e,i),e=await this.enhanceWithWisdom(e,i),e=await this.enhanceWithAuthenticity(e,i),e.haqei_message=this.generateHaQeiMessage(n,i),t.push(e)}return t},async enhanceWithHarmony(e,i){const t=this.addHarmonyPerspective(e),n=this.assessCooperationPotential(e);return{...e,harmony_aspect:t,cooperation_potential:n,harmony_keywords:["èª¿å’Œ","ãƒãƒ©ãƒ³ã‚¹","å”åŠ›","çµ±åˆ"]}},addHarmonyPerspective:e=>({creative:"ã“ã®å‰µé€ çš„ãªæµã‚Œã¯ã€å‘¨å›²ã¨ã®èª¿å’Œã‚’ä¿ã¡ãªãŒã‚‰ç™ºå±•ã—ã¾ã™",receptive:"ã‚ãªãŸã®å—å®¹æ€§ãŒé–¢ä¿‚è€…å…¨å“¡ã®åˆ©ç›Šã¨ãªã‚‹èª¿å’Œã‚’ç”Ÿã¿å‡ºã—ã¾ã™",dynamic:"ã“ã®å¤‰åŒ–ã¯é–¢ä¿‚è€…ã™ã¹ã¦ã«ã¨ã£ã¦æœ‰ç›Šãªçµæžœã‚’ã‚‚ãŸã‚‰ã—ã¾ã™",gentle:"æŸ”è»Ÿãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒå¯¾ç«‹ã‚’å”åŠ›ã«å¤‰ãˆã‚‹åŠ›ã‚’æŒã¡ã¾ã™",flowing:"å›°é›£ã‚’ä¹—ã‚Šè¶Šãˆã‚‹éŽç¨‹ã§ã€ã‚ˆã‚Šæ·±ã„çµ†ã¨ç†è§£ãŒç”Ÿã¾ã‚Œã¾ã™",illuminating:"ã“ã®ç†è§£ã¯é–¢ä¿‚è€…å…¨å“¡ã®æ™ºæ…§ã‚’é«˜ã‚ã€å…±é€šã®ç›®æ¨™ã‚’è¦‹å‡ºã—ã¾ã™",stable:"ã“ã®å®‰å®šæ€§ãŒå‘¨å›²ã®äººã€…ã«ã¨ã£ã¦ã‚‚ä¿¡é ¼ã§ãã‚‹åŸºç›¤ã¨ãªã‚Šã¾ã™",joyful:"ã“ã®å–œã³ã¯å‘¨å›²ã«ä¼æŸ“ã—ã€å…¨ä½“çš„ãªèª¿å’Œã‚’å‘ä¸Šã•ã›ã¾ã™"}[e.id]||"èª¿å’Œçš„ãªç™ºå±•ãŒæœŸå¾…ã•ã‚Œã¾ã™"),assessCooperationPotential:e=>({creative:.7,receptive:.9,dynamic:.6,gentle:.8,flowing:.5,illuminating:.7,stable:.8,joyful:.9}[e.id]||.6),async enhanceWithCompassion(e,i){const t=this.addCompassionPerspective(e),n=this.assessHealingPotential(e);return{...e,compassion_aspect:t,healing_potential:n,compassion_keywords:["æ€ã„ã‚„ã‚Š","æ…ˆæ„›","æ”¯æ´","ç™’ã—"]}},addCompassionPerspective:e=>({creative:"ã“ã®å‰µé€ çš„ãªæ´»å‹•ã¯ä»–è€…ã¸ã®æ€ã„ã‚„ã‚Šã‹ã‚‰ç”Ÿã¾ã‚Œã€å¤šãã®äººã‚’ç™’ã—ã¾ã™",receptive:"ã‚ãªãŸã®æ”¯æ´çš„ãªå§¿å‹¢ãŒå‘¨å›²ã®äººã€…ã«æ·±ã„å®‰ã‚‰ãŽã‚’ã‚‚ãŸã‚‰ã—ã¾ã™",dynamic:"ã“ã®è¡Œå‹•ã¯å›°ã£ã¦ã„ã‚‹äººã€…ã¸ã®æ„›ã¨é…æ…®ã‹ã‚‰ç”Ÿã¾ã‚Œã¦ã„ã¾ã™",gentle:"å„ªã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒå‚·ã¤ã„ãŸå¿ƒã‚’ç™’ã—ã€å¸Œæœ›ã‚’ä¸Žãˆã¾ã™",flowing:"ã“ã®é©å¿œåŠ›ãŒè‡ªä»–ã®è‹¦ã—ã¿ã‚’å’Œã‚‰ã’ã‚‹æ™ºæ…§ã¨ãªã‚Šã¾ã™",illuminating:"ã“ã®ç†è§£ãŒä»–è€…ã®ç—›ã¿ã‚’å…±æ„Ÿã—ã€ç™’ã—ã®é“ç­‹ã‚’ç¤ºã—ã¾ã™",stable:"ã“ã®å®‰å®šæ€§ãŒä¸å®‰ã‚’æŠ±ãˆã‚‹äººã€…ã«ã¨ã£ã¦å®‰å¿ƒã®æºã¨ãªã‚Šã¾ã™",joyful:"ã“ã®å–œã³ãŒå‘¨å›²ã®æ‚²ã—ã¿ã‚’ç™’ã—ã€å¸Œæœ›ã®å…‰ã‚’ç¯ã—ã¾ã™"}[e.id]||"æ…ˆæ„›ã«æº€ã¡ãŸå±•é–‹ãŒæœŸå¾…ã•ã‚Œã¾ã™"),assessHealingPotential:e=>({creative:.6,receptive:.9,dynamic:.5,gentle:.8,flowing:.7,illuminating:.7,stable:.8,joyful:.8}[e.id]||.6),async enhanceWithWisdom(e,i){const t=this.addWisdomPerspective(e),n=this.identifyLearningOpportunities(e);return{...e,wisdom_aspect:t,learning_opportunities:n,wisdom_keywords:["æ™ºæ…§","å­¦ã³","æ´žå¯Ÿ","æˆé•·"]}},addWisdomPerspective:e=>({creative:"ã“ã®å‰µé€ çš„ãªéŽç¨‹ã§æ·±ã„æ´žå¯Ÿã¨æ™ºæ…§ã‚’ç²å¾—ã—ã¾ã™",receptive:"ã“ã®çµŒé¨“ã‚’é€šã˜ã¦ä»–è€…ã‚’ç†è§£ã™ã‚‹æ™ºæ…§ãŒæ·±ã¾ã‚Šã¾ã™",dynamic:"ã“ã®è¡Œå‹•ã‹ã‚‰è²´é‡ãªçµŒé¨“ã¨å­¦ã³ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™",gentle:"æŸ”è»Ÿãªå¯¾å¿œã‚’é€šã˜ã¦äººé–“é–¢ä¿‚ã®æ™ºæ…§ã‚’èº«ã«ã¤ã‘ã¾ã™",flowing:"ã“ã®å¤‰åŒ–ã«é©å¿œã™ã‚‹éŽç¨‹ã§äººç”Ÿã®æ·±ã„æ™ºæ…§ã‚’å­¦ã³ã¾ã™",illuminating:"ã“ã®ç†è§£ãŒæ›´ãªã‚‹æ´žå¯Ÿã¨æ™ºæ…§ã®æ‰‰ã‚’é–‹ãã¾ã™",stable:"ã“ã®ç¶™ç¶šçš„ãªåŠªåŠ›ã‹ã‚‰æŒç¶šå¯èƒ½ãªæ™ºæ…§ã‚’åŸ¹ã„ã¾ã™",joyful:"ã“ã®å–œã³ã®ä½“é¨“ã‹ã‚‰ç”Ÿãã‚‹ã“ã¨ã®æ™ºæ…§ã‚’æ·±ã‚ã¾ã™"}[e.id]||"æ™ºæ…§ã¨æ´žå¯ŸãŒæ·±ã¾ã‚‹å±•é–‹ãŒæœŸå¾…ã•ã‚Œã¾ã™"),identifyLearningOpportunities:e=>({creative:["å‰µé€ æ€§ã®ç™ºæ®æ–¹æ³•","é©æ–°çš„æ€è€ƒ","ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—"],receptive:["ä»–è€…ç†è§£","å…±æ„Ÿèƒ½åŠ›","ã‚µãƒãƒ¼ãƒˆã‚¹ã‚­ãƒ«"],dynamic:["å¤‰åŒ–ã¸ã®é©å¿œ","è¡Œå‹•åŠ›","æ±ºæ–­åŠ›"],gentle:["ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³","æŸ”è»Ÿæ€§","èª¿å’ŒæŠ€è¡“"],flowing:["å•é¡Œè§£æ±º","é©å¿œåŠ›","ãƒ¬ã‚¸ãƒªã‚¨ãƒ³ã‚¹"],illuminating:["åˆ†æžèƒ½åŠ›","æ´žå¯ŸåŠ›","çŸ¥è­˜çµ±åˆ"],stable:["ç¶™ç¶šåŠ›","ä¿¡é ¼æ§‹ç¯‰","åŸºç›¤ä½œã‚Š"],joyful:["äººé–“é–¢ä¿‚","æ¥½è¦³æ€§","ãƒã‚¸ãƒ†ã‚£ãƒ–æ€è€ƒ"]}[e.id]||["ä¸€èˆ¬çš„ãªäººç”Ÿã®æ™ºæ…§"]),async enhanceWithAuthenticity(e,i){const t=this.addAuthenticityPerspective(e),n=this.assessTruthPotential(e);return{...e,authenticity_aspect:t,truth_potential:n,authenticity_keywords:["çœŸå®Ÿ","èª å®Ÿ","è‡ªç„¶","ç´”ç²‹"]}},addAuthenticityPerspective:e=>({creative:"ã“ã®å‰µé€ æ€§ã¯çœŸã®è‡ªåˆ†ã‹ã‚‰ã®ç´”ç²‹ãªè¡¨ç¾ã§ã™",receptive:"ã“ã®æ”¯æ´ã¯å½ã‚Šã®ãªã„çœŸå¿ƒã‹ã‚‰ç”Ÿã¾ã‚Œã¦ã„ã¾ã™",dynamic:"ã“ã®è¡Œå‹•ã¯è‡ªåˆ†ã®æœ¬è³ªã«å¿ å®Ÿãªé¸æŠžã§ã™",gentle:"ã“ã®å„ªã—ã•ã¯å¿ƒã‹ã‚‰ã®è‡ªç„¶ãªè¡¨ç¾ã§ã™",flowing:"ã“ã®é©å¿œã¯è‡ªåˆ†ã‚‰ã—ã•ã‚’ä¿ã¡ãªãŒã‚‰é€²åŒ–ã™ã‚‹ã“ã¨ã§ã™",illuminating:"ã“ã®ç†è§£ã¯çœŸå®Ÿã‚’è¦‹ã‚‹ç›®ã‚’è‚²ã¦ã¾ã™",stable:"ã“ã®ç¶™ç¶šã¯çœŸã®ä¾¡å€¤è¦³ã«åŸºã¥ã„ã¦ã„ã¾ã™",joyful:"ã“ã®å–œã³ã¯å½ã‚Šã®ãªã„ç´”ç²‹ãªæ„Ÿæƒ…ã§ã™"}[e.id]||"çœŸå®Ÿã§è‡ªç„¶ãªå±•é–‹ãŒæœŸå¾…ã•ã‚Œã¾ã™"),assessTruthPotential:e=>({creative:.8,receptive:.7,dynamic:.6,gentle:.7,flowing:.6,illuminating:.9,stable:.8,joyful:.7}[e.id]||.7),generateHaQeiMessage:(e,i)=>({creative:"HaQeiã®å‰µé€ åŽŸç†ã«å¾“ã„ã€ä»–è€…ã¸ã®æ…ˆæ„›ã‚’å¿˜ã‚Œãšã«å‰µé€ çš„ãªåŠ›ã‚’ç™ºæ®ã—ã¦ãã ã•ã„",receptive:"HaQeiã®å—å®¹åŽŸç†ã«å¾“ã„ã€æ™ºæ…§ã¨çœŸå¿ƒã§ä»–è€…ã‚’æ”¯æ´ã—ã¦ãã ã•ã„",dynamic:"HaQeiã®å¤‰åŒ–åŽŸç†ã«å¾“ã„ã€èª¿å’Œã‚’ä¿ã¡ãªãŒã‚‰ç©æ¥µçš„ã«è¡Œå‹•ã—ã¦ãã ã•ã„",gentle:"HaQeiã®æŸ”è»ŸåŽŸç†ã«å¾“ã„ã€æ€ã„ã‚„ã‚Šã‚’æŒã£ã¦å‘¨å›²ã«è‰¯ã„å½±éŸ¿ã‚’ä¸Žãˆã¦ãã ã•ã„",flowing:"HaQeiã®é©å¿œåŽŸç†ã«å¾“ã„ã€å›°é›£ã‚’æˆé•·ã®æ©Ÿä¼šã¨ã—ã¦æ™ºæ…§ã‚’æ·±ã‚ã¦ãã ã•ã„",illuminating:"HaQeiã®ç…§æ˜ŽåŽŸç†ã«å¾“ã„ã€çœŸå®Ÿã®ç†è§£ã§è‡ªä»–ã‚’å°Žã„ã¦ãã ã•ã„",stable:"HaQeiã®å®‰å®šåŽŸç†ã«å¾“ã„ã€èª å®Ÿã•ã‚’åŸºç›¤ã¨ã—ã¦ä¿¡é ¼é–¢ä¿‚ã‚’ç¯‰ã„ã¦ãã ã•ã„",joyful:"HaQeiã®å–œæ‚¦åŽŸç†ã«å¾“ã„ã€ç´”ç²‹ãªå–œã³ã‚’é€šã˜ã¦å‘¨å›²ã‚’ç™’ã—ã¦ãã ã•ã„"}[e.id]||"HaQeiã®å››åŽŸç†ï¼ˆèª¿å’Œãƒ»æ…ˆæ‚²ãƒ»æ™ºæ…§ãƒ»çœŸå®Ÿï¼‰ã‚’æ—¥å¸¸ã«æ´»ã‹ã—ã¦ãã ã•ã„"),async addDetailedElements(e,i){return e.map(e=>({...e,detailed_description:this.generateDetailedDescription(e,i),action_steps:this.generateActionSteps(e,i),potential_challenges:this.identifyPotentialChallenges(e),success_indicators:this.defineSuccessIndicators(e),resources_needed:this.identifyResourcesNeeded(e)}))},generateDetailedDescription(e,i){let t=e.description;if(i.context.primary_domain){t+=` ã“ã‚Œã¯ç‰¹ã«${{personal:"å€‹äººçš„ãªæˆé•·ã¨å†…é¢ã®ç™ºå±•ã«ç„¦ç‚¹ã‚’å½“ã¦ãŸ",relationships:"äººé–“é–¢ä¿‚ã®è³ªã¨æ·±ã•ã®å‘ä¸Šã‚’ä¸­å¿ƒã¨ã—ãŸ",career:"è·æ¥­çš„ãªç™ºå±•ã¨å°‚é–€æ€§ã®å‘ä¸Šã‚’ç›®æŒ‡ã—ãŸ",health:"å¿ƒèº«ã®å¥åº·ã¨å…¨äººçš„ãªã‚¦ã‚§ãƒ«ãƒã‚¹ã‚’é‡è¦–ã—ãŸ"}[i.context.primary_domain]}å¤‰åŒ–ã¨ãªã‚‹ã§ã—ã‚‡ã†ã€‚`}return t+=" ã“ã®éŽç¨‹ã«ãŠã„ã¦ã€HaQeiã®åŽŸç†ãŒè‡ªç„¶ã«çµ±åˆã•ã‚Œã€èª¿å’Œãƒ»æ…ˆæ‚²ãƒ»æ™ºæ…§ãƒ»çœŸå®Ÿã®å››ã¤ã®å´é¢ãŒç›¸äº’ã«ä½œç”¨ã—åˆã„ã¾ã™ã€‚",t},generateActionSteps:(e,i)=>({creative:["å‰µé€ çš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’è¨˜éŒ²ã™ã‚‹","å°ã•ãªå®Ÿé¨“ã‹ã‚‰å§‹ã‚ã‚‹","ä»–è€…ã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æ±‚ã‚ã‚‹"],receptive:["ç›¸æ‰‹ã®è©±ã‚’æ·±ãèžã","ã‚µãƒãƒ¼ãƒˆã®æ©Ÿä¼šã‚’è¦‹ã¤ã‘ã‚‹","å¿è€å¼·ãå¾…ã¤æ™‚æœŸã‚’å—ã‘å…¥ã‚Œã‚‹"],dynamic:["å…·ä½“çš„ãªè¡Œå‹•è¨ˆç”»ã‚’ç«‹ã¦ã‚‹","ç¬¬ä¸€æ­©ã‚’è¸ã¿å‡ºã™","é€²æ—ã‚’å®šæœŸçš„ã«ç¢ºèªã™ã‚‹"],gentle:["ç›¸æ‰‹ã®ç«‹å ´ã‚’ç†è§£ã™ã‚‹","å„ªã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’è©¦ã™","æ™‚é–“ã‚’ã‹ã‘ã¦ä¿¡é ¼ã‚’ç¯‰ã"],flowing:["ç¾çŠ¶ã‚’å—ã‘å…¥ã‚Œã‚‹","æŸ”è»Ÿãªå¯¾å¿œç­–ã‚’è€ƒãˆã‚‹","å¤‰åŒ–ã«é©å¿œã™ã‚‹"],illuminating:["æƒ…å ±ã‚’åŽé›†ã—åˆ†æžã™ã‚‹","ç•°ãªã‚‹è¦–ç‚¹ã‹ã‚‰è€ƒãˆã‚‹","æ´žå¯Ÿã‚’æ–‡æ›¸åŒ–ã™ã‚‹"],stable:["ç¶™ç¶šå¯èƒ½ãªç¿’æ…£ã‚’ä½œã‚‹","ç€å®Ÿã«åŸºç›¤ã‚’å›ºã‚ã‚‹","ä¿¡é ¼é–¢ä¿‚ã‚’ç¶­æŒã™ã‚‹"],joyful:["æ¥½ã—ã„è¦ç´ ã‚’å–ã‚Šå…¥ã‚Œã‚‹","ä»–è€…ã¨å–œã³ã‚’å…±æœ‰ã™ã‚‹","ãƒã‚¸ãƒ†ã‚£ãƒ–ãªé›°å›²æ°—ã‚’ä½œã‚‹"]}[e.id]||["ç¾çŠ¶ã‚’å—ã‘å…¥ã‚Œã‚‹","å°ã•ãè¡Œå‹•ã™ã‚‹","ç¶™ç¶šã—ã¦è¦³å¯Ÿã™ã‚‹"]),identifyPotentialChallenges:e=>({creative:["å®Œç’§ä¸»ç¾©ã«ã‚ˆã‚‹åœæ»ž","ä»–è€…ã®ç†è§£ä¸è¶³","è³‡æºã®åˆ¶ç´„"],receptive:["éŽåº¦ãªè‡ªå·±çŠ ç‰²","å¢ƒç•Œã®æ›–æ˜§ã•","å—å‹•æ€§ã®éŽåº¦"],dynamic:["æ€§æ€¥ãªè¡Œå‹•","ãƒãƒ©ãƒ³ã‚¹ã®æ¬ å¦‚","ä»–è€…ã¨ã®è¡çª"],gentle:["å„ªæŸ”ä¸æ–­","æ™‚é–“ã®é•·æœŸåŒ–","èª¤è§£ã®å¯èƒ½æ€§"],flowing:["æ–¹å‘æ€§ã®ä¸æ˜Žç¢º","ä¸€è²«æ€§ã®æ¬ å¦‚","ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®åˆ†æ•£"],illuminating:["åˆ†æžéŽå¤š","è¡Œå‹•ã®é…ã‚Œ","å®Œç’§ãªç­”ãˆã®è¿½æ±‚"],stable:["å¤‰åŒ–ã¸ã®é©å¿œå›°é›£","æŸ”è»Ÿæ€§ã®æ¬ å¦‚","ãƒžãƒ³ãƒãƒªåŒ–"],joyful:["ç¾å®Ÿé€ƒé¿ã®å‚¾å‘","æ·±åˆ»ã•ã®è»½è¦–","ç¶™ç¶šæ€§ã®å•é¡Œ"]}[e.id]||["ä¸€èˆ¬çš„ãªäººç”Ÿã®èª²é¡Œ"]),defineSuccessIndicators:e=>({creative:["æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã®å®Ÿç¾","ä»–è€…ã‹ã‚‰ã®è‚¯å®šçš„è©•ä¾¡","å‰µé€ çš„ãªæˆæžœç‰©"],receptive:["é–¢ä¿‚ã®æ·±åŒ–","ä»–è€…ã®æˆé•·æ”¯æ´","ä¿¡é ¼ã®æ§‹ç¯‰"],dynamic:["ç›®æ¨™ã®é”æˆ","å¤‰åŒ–ã®å®Ÿç¾","ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®å‘ä¸Š"],gentle:["èª¿å’Œçš„ãªè§£æ±º","ç›¸äº’ç†è§£ã®æ·±åŒ–","ç©ã‚„ã‹ãªå¤‰åŒ–"],flowing:["é©å¿œã®æˆåŠŸ","å›°é›£ã®å…‹æœ","ãƒ¬ã‚¸ãƒªã‚¨ãƒ³ã‚¹ã®å‘ä¸Š"],illuminating:["æ·±ã„ç†è§£ã®ç²å¾—","æ´žå¯Ÿã®å®Ÿç¾","çŸ¥è­˜ã®å¿œç”¨"],stable:["ç¶™ç¶šæ€§ã®ç¢ºä¿","ä¿¡é ¼é–¢ä¿‚ã®ç¶­æŒ","åŸºç›¤ã®å¼·åŒ–"],joyful:["å¹¸ç¦æ„Ÿã®å‘ä¸Š","é–¢ä¿‚ã®æ´»æ€§åŒ–","ãƒã‚¸ãƒ†ã‚£ãƒ–ãªå½±éŸ¿"]}[e.id]||["å…¨ä½“çš„ãªæ”¹å–„ã¨æˆé•·"]),identifyResourcesNeeded:e=>({creative:["æ™‚é–“","å‰µé€ çš„ç©ºé–“","ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æº"],receptive:["å…±æ„ŸåŠ›","å¿è€","ä»–è€…ç†è§£ã®ã‚¹ã‚­ãƒ«"],dynamic:["ã‚¨ãƒãƒ«ã‚®ãƒ¼","æ±ºæ–­åŠ›","å®Ÿè¡Œè¨ˆç”»"],gentle:["ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚­ãƒ«","æ™‚é–“","ç†è§£åŠ›"],flowing:["é©å¿œåŠ›","æŸ”è»Ÿæ€§","ã‚¹ãƒˆãƒ¬ã‚¹ç®¡ç†"],illuminating:["æƒ…å ±æº","åˆ†æžåŠ›","å­¦ç¿’æ™‚é–“"],stable:["ç¶™ç¶šåŠ›","è¦å¾‹","ä¿¡é ¼é–¢ä¿‚"],joyful:["æ¥½è¦³æ€§","ç¤¾äº¤æ€§","éŠã³å¿ƒ"]}[e.id]||["åŸºæœ¬çš„ãªäººç”Ÿã‚¹ã‚­ãƒ«"]),async addGuidanceElements(e,i){return e.map(e=>({...e,practical_guidance:this.generatePracticalGuidance(e),spiritual_guidance:this.generateSpiritualGuidance(e),timing_guidance:this.generateTimingGuidance(e,i),relationship_guidance:this.generateRelationshipGuidance(e)}))},generatePracticalGuidance:e=>({creative:"æ¯Žæ—¥å°‘ã—ãšã¤ã§ã‚‚å‰µé€ çš„ãªæ´»å‹•ã«æ™‚é–“ã‚’å‰²ãã€å®Œç’§ã‚’æ±‚ã‚ãšæ¥½ã—ã‚€ã“ã¨ã‚’é‡è¦–ã—ã¦ãã ã•ã„",receptive:"ä»–è€…ã®ãƒ‹ãƒ¼ã‚ºã«æ•æ„Ÿã«ãªã‚Šã€é©åˆ‡ãªå¢ƒç•Œã‚’ä¿ã¡ãªãŒã‚‰æ”¯æ´ã‚’æä¾›ã—ã¦ãã ã•ã„",dynamic:"è¨ˆç”»ã‚’ç«‹ã¦ã¦æ®µéšŽçš„ã«è¡Œå‹•ã—ã€ä»–è€…ã¸ã®å½±éŸ¿ã‚‚è€ƒæ…®ã—ã¦é€²ã‚ã¦ãã ã•ã„",gentle:"ã‚†ã£ãã‚Šã¨ã—ãŸãƒšãƒ¼ã‚¹ã§é€²ã¿ã€ç›¸æ‰‹ã®åå¿œã‚’è¦‹ãªãŒã‚‰èª¿æ•´ã—ã¦ãã ã•ã„",flowing:"å¤‰åŒ–ã‚’å—ã‘å…¥ã‚Œã€å›ºå®šè¦³å¿µã«ã¨ã‚‰ã‚ã‚ŒãšæŸ”è»Ÿã«å¯¾å¿œã—ã¦ãã ã•ã„",illuminating:"æƒ…å ±åŽé›†ã¨åˆ†æžã«æ™‚é–“ã‚’ã‹ã‘ã€å¾—ãŸæ´žå¯Ÿã‚’å®Ÿè·µã«æ´»ã‹ã—ã¦ãã ã•ã„",stable:"ä¸€è²«æ€§ã‚’ä¿ã¡ã€å°ã•ãªç¿’æ…£ã‹ã‚‰å§‹ã‚ã¦å¾ã€…ã«æ‹¡å¤§ã—ã¦ãã ã•ã„",joyful:"æ¥½ã—ã•ã‚’å¿˜ã‚Œãšã€ä»–è€…ã¨å–œã³ã‚’åˆ†ã‹ã¡åˆã†ã“ã¨ã‚’å¤§åˆ‡ã«ã—ã¦ãã ã•ã„"}[e.id]||"èª¿å’Œã‚’ä¿ã¡ãªãŒã‚‰ç€å®Ÿã«é€²ã‚“ã§ãã ã•ã„"),generateSpiritualGuidance:e=>({creative:"å‰µé€ ã¯å¤©ã‹ã‚‰ã®è´ˆã‚Šç‰©ã§ã™ã€‚è¬™è™šã•ã¨æ„Ÿè¬ã‚’å¿˜ã‚Œãšã«å‰µé€ åŠ›ã‚’ç™ºæ®ã—ã¦ãã ã•ã„",receptive:"å¤§åœ°ã®ã‚ˆã†ã«åŒ…å®¹ã—æ”¯ãˆã‚‹å¿ƒã‚’åŸ¹ã„ã€ç„¡æ¡ä»¶ã®æ„›ã‚’å®Ÿè·µã—ã¦ãã ã•ã„",dynamic:"å¤‰åŒ–ã¯æˆé•·ã®æ©Ÿä¼šã§ã™ã€‚å†…ãªã‚‹æ™ºæ…§ã«å¾“ã£ã¦è¡Œå‹•ã—ã¦ãã ã•ã„",gentle:"æŸ”ã‚‰ã‹ãªå¿ƒã§æŽ¥ã—ã€ç›¸æ‰‹ã®é­‚ã«å¯„ã‚Šæ·»ã†ã‚ˆã†ãªç†è§£ã‚’æ·±ã‚ã¦ãã ã•ã„",flowing:"äººç”Ÿã®æµã‚Œã«èº«ã‚’å§”ã­ã€å›°é›£ã‚‚æˆé•·ã®ç³§ã¨ã—ã¦å—ã‘å…¥ã‚Œã¦ãã ã•ã„",illuminating:"çœŸç†ã‚’æ±‚ã‚ã‚‹å¿ƒã‚’æŒã¡ã€å¾—ãŸæ™ºæ…§ã‚’ä»–è€…ã®ãŸã‚ã«æ´»ç”¨ã—ã¦ãã ã•ã„",stable:"å¿ƒã®å¹³å®‰ã‚’ä¿ã¡ã€å†…ãªã‚‹é™å¯‚ã‹ã‚‰åŠ›ã‚’å¾—ã¦ãã ã•ã„",joyful:"ç´”ç²‹ãªå–œã³ã¯é­‚ã®è¡¨ç¾ã§ã™ã€‚ã“ã®å–œã³ã‚’é€šã˜ã¦ä»–è€…ã‚’ç™’ã—ã¦ãã ã•ã„"}[e.id]||"HaQeiã®åŽŸç†ã«å¾“ã£ã¦ç²¾ç¥žçš„ãªæˆé•·ã‚’å¿ƒãŒã‘ã¦ãã ã•ã„"),generateTimingGuidance(e,i){let t={creative:"å‰µé€ çš„ãªã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒé«˜ã¾ã‚‹æ™‚æœŸã§ã™ã€‚ä»ŠãŒå§‹ã‚ã‚‹æœ€é©ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã™",receptive:"ç›¸æ‰‹ã®ãƒšãƒ¼ã‚¹ã«åˆã‚ã›ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚ç„¦ã‚‰ãšè¾›æŠ±å¼·ãå¾…ã¡ã¾ã—ã‚‡ã†",dynamic:"è¡Œå‹•ã«ç§»ã™çµ¶å¥½ã®æ©Ÿä¼šã§ã™ã€‚ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒé«˜ã„ä»Šã®ã†ã¡ã«å§‹ã‚ã¾ã—ã‚‡ã†",gentle:"ã‚†ã£ãã‚Šã¨ã—ãŸå¤‰åŒ–ã®æ™‚æœŸã§ã™ã€‚æ€¥ãŒãšç€å®Ÿã«é€²ã‚ã‚‹ã“ã¨ãŒæˆåŠŸã®éµã§ã™",flowing:"å¤‰åŒ–ã®æ³¢ã«ä¹—ã‚‹æ™‚æœŸã§ã™ã€‚æµã‚Œã«èº«ã‚’ä»»ã›ãªãŒã‚‰é©å¿œã—ã¦ã„ãã¾ã—ã‚‡ã†",illuminating:"ç†è§£ã‚’æ·±ã‚ã‚‹æ™‚æœŸã§ã™ã€‚æƒ…å ±åŽé›†ã¨åˆ†æžã«æ™‚é–“ã‚’ã‹ã‘ã¾ã—ã‚‡ã†",stable:"åŸºç›¤å›ºã‚ã®æ™‚æœŸã§ã™ã€‚ç¶™ç¶šçš„ãªåŠªåŠ›ãŒå°†æ¥ã®æˆåŠŸã‚’ç´„æŸã—ã¾ã™",joyful:"äººã¨ã®äº¤æµãŒæ´»ç™ºã«ãªã‚‹æ™‚æœŸã§ã™ã€‚ç©æ¥µçš„ã«ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å–ã‚Šã¾ã—ã‚‡ã†"}[e.id];return"high"===i.context.urgency?t+=" ãŸã ã—ã€æ€¥ã‚’è¦ã™ã‚‹çŠ¶æ³ã§ã¯è¿…é€Ÿãªåˆ¤æ–­ã‚‚å¿…è¦ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚":"low"===i.context.urgency&&(t+=" æ™‚é–“ã«ä½™è£•ãŒã‚ã‚‹ã®ã§ã€ã˜ã£ãã‚Šã¨æº–å‚™ã‚’æ•´ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚"),t},generateRelationshipGuidance:e=>({creative:"å‰µé€ çš„ãªæ´»å‹•ã‚’é€šã˜ã¦æ–°ã—ã„äººã¨ã®ã¤ãªãŒã‚Šã‚’ç¯‰ãã€æ—¢å­˜ã®é–¢ä¿‚ã‚‚æ·±ã‚ã¦ãã ã•ã„",receptive:"ä»–è€…ã®ãƒ‹ãƒ¼ã‚ºã«æ•æ„Ÿã«ãªã‚Šã€æ”¯æ´çš„ãªé–¢ä¿‚ã‚’é€šã˜ã¦æ·±ã„çµ†ã‚’å½¢æˆã—ã¦ãã ã•ã„",dynamic:"ç©æ¥µçš„ãªå§¿å‹¢ã§é–¢ä¿‚ã‚’æ´»æ€§åŒ–ã—ã€å»ºè¨­çš„ãªå¤‰åŒ–ã‚’ä¿ƒé€²ã—ã¦ãã ã•ã„",gentle:"å„ªã—ãç†è§£æ·±ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã€ä¿¡é ¼ã¨å®‰å¿ƒæ„Ÿã‚’åŸºç›¤ã¨ã—ãŸé–¢ä¿‚ã‚’ç¯‰ã„ã¦ãã ã•ã„",flowing:"é–¢ä¿‚ã®å¤‰åŒ–ã‚’å—ã‘å…¥ã‚Œã€å›°é›£ãªæ™‚ã‚‚ç›¸æ‰‹ã‚’æ”¯ãˆã‚‹å§¿å‹¢ã‚’ä¿ã£ã¦ãã ã•ã„",illuminating:"æ·±ã„ç†è§£ã¨æ´žå¯Ÿã‚’å…±æœ‰ã—ã€ç›¸äº’ã®æˆé•·ã‚’æ”¯æ´ã™ã‚‹é–¢ä¿‚ã‚’è‚²ã‚“ã§ãã ã•ã„",stable:"ä¸€è²«æ€§ã¨ä¿¡é ¼æ€§ã‚’åŸºç›¤ã¨ã—ã¦ã€é•·æœŸçš„ãªé–¢ä¿‚ã‚’å¤§åˆ‡ã«è‚²ã¦ã¦ãã ã•ã„",joyful:"æ¥½ã—ã•ã¨å–œã³ã‚’å…±æœ‰ã—ã€ãƒã‚¸ãƒ†ã‚£ãƒ–ãªã‚¨ãƒãƒ«ã‚®ãƒ¼ã§é–¢ä¿‚ã‚’æ´»æ€§åŒ–ã—ã¦ãã ã•ã„"}[e.id]||"ç›¸äº’ç†è§£ã¨å°Šé‡ã‚’åŸºç›¤ã¨ã—ãŸèª¿å’Œçš„ãªé–¢ä¿‚ã‚’ç¯‰ã„ã¦ãã ã•ã„"),async integrateIchingWisdom(e){return e.map(e=>{const i=this.ichingMappings.scenario_to_hexagram.get(e.id)||[11],t=i[0],n=this.ichingMappings.hexagram_guidance.get(t)||"èª¿å’Œã¨æ™ºæ…§ã‚’æŒã£ã¦é€²ã‚“ã§ãã ã•ã„";return{...e,iching_integration:{primary_hexagram:t,related_hexagrams:i,iching_guidance:n,trigram_wisdom:this.getTrigramWisdom(e.trigram)}}})},getTrigramWisdom:e=>({"ä¹¾":"å¤©ã®å‰µé€ åŠ›ã‚’ç™ºæ®ã—ã€è²¬ä»»ã¨æ…ˆæ„›ã‚’æŒã£ã¦ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚’å–ã£ã¦ãã ã•ã„","å¤":"å¤§åœ°ã®ã‚ˆã†ã«åŒ…å®¹ã—ã€ä»–è€…ã‚’æ”¯ãˆã‚‹ã“ã¨ã§è‡ªã‚‰ã‚‚æˆé•·ã—ã¦ãã ã•ã„","éœ‡":"é›·ã®ã‚ˆã†ãªæ±ºæ–­åŠ›ã‚’æŒã¡ã€æ–°ã—ã„å§‹ã¾ã‚Šã‚’æã‚Œãšã«å—ã‘å…¥ã‚Œã¦ãã ã•ã„","å·½":"é¢¨ã®ã‚ˆã†ã«æŸ”è»Ÿã«å½±éŸ¿ã‚’ä¸Žãˆã€å„ªã—ãæµ¸é€ã•ã›ã¦ãã ã•ã„","åŽ":"æ°´ã®ã‚ˆã†ã«æµã‚Œã‚’ä¿ã¡ã€å›°é›£ã‚’ä¹—ã‚Šè¶Šãˆã‚‹é©å¿œåŠ›ã‚’ç™ºæ®ã—ã¦ãã ã•ã„","é›¢":"ç«ã®ã‚ˆã†ã«æ˜Žæ™°ã«ç…§ã‚‰ã—ã€æ™ºæ…§ã¨ç¾Žã‚’è¡¨ç¾ã—ã¦ãã ã•ã„","è‰®":"å±±ã®ã‚ˆã†ã«å®‰å®šã—ã€é©åˆ‡ãªå¢ƒç•Œã¨é™å¯‚ã‚’ä¿ã£ã¦ãã ã•ã„","å…Œ":"æ²¢ã®ã‚ˆã†ã«å–œã³ã‚’è¡¨ç¾ã—ã€é–‹æ”¾çš„ãªäº¤æµã‚’å¿ƒãŒã‘ã¦ãã ã•ã„"}[e]||"HaQeiã®åŽŸç†ã«å¾“ã£ã¦æ™ºæ…§æ·±ãè¡Œå‹•ã—ã¦ãã ã•ã„"),calculateHaQeiIntegration(e){let i=0,t=0;return e.forEach(e=>{e.harmony_aspect&&(i+=e.cooperation_potential||.5,t++),e.compassion_aspect&&(i+=e.healing_potential||.5,t++),e.wisdom_aspect&&(i+=(e.learning_opportunities?.length||0)/5,t++),e.authenticity_aspect&&(i+=e.truth_potential||.5,t++)}),t>0?i/t:.5},getDefault8Scenarios:e=>({input:e,analysis:{},scenarios:[{id:"creative",title:"å‰µé€ çš„ã‚·ãƒŠãƒªã‚ª",trigram:"ä¹¾",description:"å‰µé€ çš„ãªåŠ›ãŒæ–°ã—ã„å¯èƒ½æ€§ã‚’é–‹ãã€å»ºè¨­çš„ãªå¤‰åŒ–ã‚’ã‚‚ãŸã‚‰ã—ã¾ã™",haqei_message:"HaQeiã®å‰µé€ åŽŸç†ã«å¾“ã£ã¦é€²ã‚“ã§ãã ã•ã„"},{id:"receptive",title:"å—å®¹çš„ã‚·ãƒŠãƒªã‚ª",trigram:"å¤",description:"å—å®¹çš„ãªæ…‹åº¦ãŒèª¿å’Œã‚’ç”Ÿã¿ã€å‘¨å›²ã¨ã®é–¢ä¿‚ã‚’æ·±ã‚ã¾ã™",haqei_message:"HaQeiã®å—å®¹åŽŸç†ã«å¾“ã£ã¦é€²ã‚“ã§ãã ã•ã„"},{id:"joyful",title:"å–œæ‚¦ã‚·ãƒŠãƒªã‚ª",trigram:"å…Œ",description:"å–œã³ã¨æ¥½è¦³æ€§ãŒæ–°ã—ã„æ©Ÿä¼šã‚’å¼•ãå¯„ã›ã€é–¢ä¿‚ã‚’è±Šã‹ã«ã—ã¾ã™",haqei_message:"HaQeiã®å–œæ‚¦åŽŸç†ã«å¾“ã£ã¦é€²ã‚“ã§ãã ã•ã„"}],metadata:{style:"haqei",haqei_integration:.7}}),async generateDetailedScenarios(e,i,t){return(await this.generateBasicScenarios(e,i,t)).map(i=>({...i,detailedDescription:this.expandDescription(i.description,e),actionSteps:this.generateActionSteps(i,e),potentialChallenges:this.identifyPotentialChallenges(i,e),successIndicators:this.defineSuccessIndicators(i,e)}))},async generateHaQeiScenarios(e,i,t){return(await this.generateBasicScenarios(e,i,t)).map(i=>({...i,haqeiPerspective:this.applyHaQeiPerspective(i,e),personaVariations:this.generatePersonaVariations(i,e),philosophicalInsight:this.extractPhilosophicalInsight(i,e)}))},async generateIntegratedScenarios(e,i,t){const n=await this.generateDetailedScenarios(e,i,t),a=await this.generateHaQeiScenarios(e,i,t);return n.map((i,t)=>({...i,...a[t],integrationLevel:"comprehensive",holistic_view:this.synthesizeHolisticView(i,a[t],e)}))},expandDescription:(e,i)=>e+` ã“ã®çŠ¶æ³ã¯ã€${i.situation_type||"æˆé•·"}ã®ç‰¹æ€§ã‚’æŒã¡ã€${i.complexity_level||"é©åº¦"}ãªè¤‡é›‘ã•ã‚’å«ã‚“ã§ã„ã¾ã™ã€‚`,generateActionSteps:(e,i)=>[`${e.focus}ã«é–¢ã™ã‚‹å…·ä½“çš„ãªè¨ˆç”»ã‚’ç«‹ã¦ã‚‹`,"å¿…è¦ãªãƒªã‚½ãƒ¼ã‚¹ã¨æ”¯æ´ã‚’ç¢ºä¿ã™ã‚‹","æ®µéšŽçš„ã«è¡Œå‹•ã‚’é–‹å§‹ã™ã‚‹","é€²æ—ã‚’å®šæœŸçš„ã«è©•ä¾¡ã—èª¿æ•´ã™ã‚‹"],identifyPotentialChallenges:(e,i)=>["äºˆæœŸã—ãªã„å¤‰åŒ–ã¸ã®å¯¾å¿œ","ãƒªã‚½ãƒ¼ã‚¹ã®åˆ¶ç´„","å‘¨å›²ã®ç†è§£ä¸è¶³","è‡ªå·±ã®å†…é¢çš„ãªæŠµæŠ—"],defineSuccessIndicators:(e,i)=>[`${e.focus}ã«é–¢ã™ã‚‹æ˜Žç¢ºãªé€²å±•`,"å†…é¢çš„ãªå……å®Ÿæ„Ÿã®å‘ä¸Š","å‘¨å›²ã‹ã‚‰ã®è‚¯å®šçš„ãªåå¿œ","é•·æœŸçš„ãªç›®æ¨™ã¸ã®æŽ¥è¿‘"],applyHaQeiPerspective:(e,i)=>({multiple_self_consideration:`è¤‡æ•°ã®è‡ªå·±ã®è¦–ç‚¹ã‹ã‚‰${e.title}ã‚’æ‰ãˆã‚‹`,contextual_adaptation:"çŠ¶æ³ã«å¿œã˜ã¦ç•°ãªã‚‹å¯¾å¿œã‚’é¸æŠžã™ã‚‹",philosophical_depth:"HaQeiå“²å­¦ã®åˆ†äººæ€æƒ³ã«åŸºã¥ãç†è§£"}),generatePersonaVariations:(e,i)=>({engine_os_response:`Engine OSã¨ã—ã¦ã®${e.title}ã¸ã®å–ã‚Šçµ„ã¿`,interface_os_response:`Interface OSã¨ã—ã¦ã®${e.title}ã¸ã®å¯¾å¿œ`,safe_mode_response:`Safe Mode OSã¨ã—ã¦ã®${e.title}ã¸ã®å‚™ãˆ`}),extractPhilosophicalInsight:(e,i)=>`${e.title}ã¯ã€äººç”Ÿã®å¤šé¢æ€§ã¨å¤‰åŒ–ã®å¿…ç„¶æ€§ã‚’è¡¨ã—ã¦ã„ã‚‹ã€‚HaQeiå“²å­¦ã®è¦³ç‚¹ã‹ã‚‰è¦‹ã‚‹ã¨ã€ã“ã‚Œã¯è‡ªå·±ã®å¤šæ§˜æ€§ã‚’å—ã‘å…¥ã‚Œã€çŠ¶æ³ã«å¿œã˜ã¦é©åˆ‡ãªè‡ªå·±ã‚’ç™ºæ®ã™ã‚‹æ©Ÿä¼šã§ã‚ã‚‹ã€‚`,synthesizeHolisticView:(e,i,t)=>`${e.title}ã«ã¤ã„ã¦çµ±åˆçš„ã«è€ƒå¯Ÿã™ã‚‹ã¨ã€ã“ã‚Œã¯å˜ãªã‚‹é¸æŠžè‚¢ã§ã¯ãªãã€è‡ªå·±ã®æˆé•·ã¨å¤‰åŒ–ã®ãƒ—ãƒ­ã‚»ã‚¹ã®ä¸€éƒ¨ã§ã‚ã‚‹ã€‚${i.philosophicalInsight}ã“ã®ç†è§£ã«ã‚ˆã‚Šã€ã‚ˆã‚Šæ·±ã„æ´žå¯Ÿã¨å®Ÿè·µçš„ãªè¡Œå‹•æŒ‡é‡ãŒå¾—ã‚‰ã‚Œã‚‹ã€‚`},document.addEventListener("DOMContentLoaded",async()=>{await window.Authentic8ScenariosSystem.init()}),console.log("âœ… Authentic8ScenariosSystem loaded successfully");