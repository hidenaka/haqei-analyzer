class WelcomeScreenCleaner{constructor(){this.isInitialized=!1,this.init()}init(){this.isInitialized||("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.cleanWelcomeScreen()):setTimeout(()=>this.cleanWelcomeScreen(),100),this.isInitialized=!0)}cleanWelcomeScreen(){document.getElementById("welcome-container")&&(this.removeProgressGuidanceFromWelcome(),this.setupWelcomeProgressBar(),this.setupScreenTransitionMonitoring(),console.log("✨ Welcome screen cleaned - ウェルカム画面をクリーンアップしました"))}removeProgressGuidanceFromWelcome(){const e=document.getElementById("welcome-container");document.getElementById("questions-container");if(e&&"none"!==e.style.display){document.querySelectorAll(".progress-guidance, .progress-guidance-fixed").forEach(e=>{e.style.display="none"})}}setupWelcomeProgressBar(){const e=document.querySelector(".global-progress");if(!e)return;e.querySelectorAll(".progress-info-container, .progress-info-container-fixed").forEach(e=>{e.style.display="none"});let n=e.querySelector(".welcome-progress-info");n||(n=document.createElement("div"),n.className="welcome-progress-info",n.innerHTML='\n        <div class="welcome-progress-text">\n          <span class="welcome-status">診断開始の準備</span>\n        </div>\n      ',e.appendChild(n)),this.addWelcomeProgressStyles()}setupScreenTransitionMonitoring(){const e=new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"style"===e.attributeName&&this.handleScreenTransition()})});["welcome-container","questions-container","analysis-container","results-container"].forEach(n=>{const o=document.getElementById(n);o&&e.observe(o,{attributes:!0})}),setInterval(()=>this.handleScreenTransition(),1e3)}handleScreenTransition(){const e=document.getElementById("welcome-container"),n=document.getElementById("questions-container"),o=document.querySelector(".global-progress");if(!o)return;const t=o.querySelector(".welcome-progress-info"),s=o.querySelectorAll(".progress-info-container, .progress-info-container-fixed"),r=document.querySelectorAll(".progress-guidance, .progress-guidance-fixed"),l=e&&("flex"===e.style.display||""===e.style.display||!e.style.display),i=n&&"none"!==n.style.display;l&&!i?(t&&(t.style.display="block"),s.forEach(e=>e.style.display="none"),r.forEach(e=>e.style.display="none")):i&&(t&&(t.style.display="none"),s.forEach(e=>e.style.display="flex"),r.forEach(e=>e.style.display="block"))}addWelcomeProgressStyles(){if(document.getElementById("welcome-progress-styles"))return;const e=document.createElement("style");e.id="welcome-progress-styles",e.textContent='\n      .welcome-progress-info {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 2;\n        font-family: -apple-system, BlinkMacSystemFont, sans-serif;\n      }\n\n      .welcome-progress-text {\n        color: #1f2937;\n        font-size: 14px;\n        font-weight: 500;\n        text-align: center;\n      }\n\n      .welcome-status {\n        font-weight: 600;\n        opacity: 0.8;\n      }\n\n      /* ウェルカム画面でのプログレスバーのスタイル調整 */\n      #welcome-container:not([style*="display: none"]) ~ * .progress-guidance,\n      #welcome-container:not([style*="display: none"]) ~ * .progress-guidance-fixed {\n        display: none !important;\n      }\n\n      /* クリーンなウェルカム画面のための調整 */\n      .welcome-container-active .progress-info-container,\n      .welcome-container-active .progress-info-container-fixed {\n        display: none !important;\n      }\n    ',document.head.appendChild(e)}cleanNow(){this.cleanWelcomeScreen(),this.handleScreenTransition()}}window.WelcomeScreenCleaner=WelcomeScreenCleaner,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{window.welcomeScreenCleaner=new WelcomeScreenCleaner}):window.welcomeScreenCleaner=new WelcomeScreenCleaner,console.log("🧹 Welcome Screen Cleaner loaded - ウェルカム画面をクリーンに保ちます");