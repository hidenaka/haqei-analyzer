class DynamicScenarioColorSystem{constructor(){this.version="1.0.0",this.initialized=!1,this.scenarioTrigramMapping={proactive:"qian",adaptive:"kun",transformative:"zhen",decisive:"li",strengthening:"gen",harmonizing:"dui",integrative:"xun",innovative:"kan"},this.trigramColors={qian:{primary:"#FFD700",light:"#FFF8DC",dark:"#B8860B",icon:"â˜°",name:"ä¹¾"},dui:{primary:"#87CEEB",light:"#F0F8FF",dark:"#4682B4",icon:"â˜±",name:"å…Œ"},li:{primary:"#FF4500",light:"#FFE4E1",dark:"#DC143C",icon:"â˜²",name:"é›¢"},zhen:{primary:"#8A2BE2",light:"#E6E6FA",dark:"#4B0082",icon:"â˜³",name:"éœ‡"},xun:{primary:"#32CD32",light:"#F0FFF0",dark:"#228B22",icon:"â˜´",name:"å·½"},kan:{primary:"#1E90FF",light:"#F0F8FF",dark:"#0000CD",icon:"â˜µ",name:"å"},gen:{primary:"#708090",light:"#F8F8FF",dark:"#2F4F4F",icon:"â˜¶",name:"è‰®"},kun:{primary:"#8B4513",light:"#F5F5DC",dark:"#A0522D",icon:"â˜·",name:"å¤"}},this.initialize()}initialize(){console.log("ğŸ¨ DynamicScenarioColorSystem v1.0.0 åˆæœŸåŒ–ä¸­..."),this.initialized=!0,console.log("âœ… 8ã‚·ãƒŠãƒªã‚ªâ†’å…«å¦ãƒãƒƒãƒ”ãƒ³ã‚°å®Œäº†")}getScenarioVisualization(r,i=null){try{const e=r.metadata?.approach||r.approach;let a=this.scenarioTrigramMapping[e];i&&this.shouldAdjustByHexagram(i)&&(a=this.adjustTrigramByHexagram(a,i)),a&&"undefined"!==a||(a="ä¹¾");const n=this.trigramColors[a];return n?{color:n.primary,lightColor:n.light,darkColor:n.dark,icon:n.icon,traditional:n.icon||"â˜¯",modern:this.getModernEmoji(e)||"ğŸ¯",trigramName:n.name,trigramKey:a,gradient:`linear-gradient(135deg, ${n.primary}, ${n.dark})`,cssClass:`trigram-${a}`,modernEmoji:this.getModernEmoji(e),confidenceLevel:r.metadata?.confidence||.8}:this.getDefaultVisualization()}catch(e){return console.error("âŒ getScenarioVisualization error:",e),this.getDefaultVisualization()}}shouldAdjustByHexagram(r){return r&&(r.trigrams||r.upperTrigram||r.lowerTrigram||r["ä¸Šå¦"]||r["ä¸‹å¦"]||r["å¦å"]||r.hexagramNumber)}adjustTrigramByHexagram(r,i){try{const e=this.getH384HexagramData(i);if(e){if(e.upperTrigram&&e.lowerTrigram){const i=this.mapTrigramNameToKey(e.upperTrigram),a=this.mapTrigramNameToKey(e.lowerTrigram);return i||a||r}if(e.hexagramName){const r=this.extractTrigramFromHexagramName(e.hexagramName);if(r)return r}}if(i.trigrams&&i.trigrams.length>0){return this.mapTrigramNameToKey(i.trigrams[0])||r}return r}catch(e){return console.warn("âš ï¸ adjustTrigramByHexagram error:",e),r}}getH384HexagramData(r){try{if("undefined"!=typeof window&&window.H384_DATA&&Array.isArray(window.H384_DATA)){let i=null;if(r.hexagramNumber&&(i=window.H384_DATA.find(i=>i["å¦ç•ªå·"]===r.hexagramNumber||i["é€šã—ç•ªå·"]===r.hexagramNumber)),!i&&r.hexagramName&&(i=window.H384_DATA.find(i=>i["å¦å"]&&i["å¦å"].includes(r.hexagramName))),i||"string"!=typeof r||(i=window.H384_DATA.find(i=>i["å¦å"]&&i["å¦å"].includes(r))),i)return{hexagramName:i["å¦å"],hexagramNumber:i["å¦ç•ªå·"]||i["é€šã—ç•ªå·"],upperTrigram:i["ä¸Šå¦"],lowerTrigram:i["ä¸‹å¦"],keywords:i["ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰"],modernInterpretation:i["ç¾ä»£è§£é‡ˆ"],guidance:i["æŒ‡é‡"],originalEntry:i}}return null}catch(i){return console.warn("âš ï¸ getH384HexagramData error:",i),null}}extractTrigramFromHexagramName(r){const i={"ä¹¾":"qian","å¤©":"qian","å¤":"kun","åœ°":"kun","éœ‡":"zhen","é›·":"zhen","å·½":"xun","é¢¨":"xun","å":"kan","æ°´":"kan","é›¢":"li","ç«":"li","è‰®":"gen","å±±":"gen","å…Œ":"dui","æ²¢":"dui","æ¾¤":"dui"};for(const[e,a]of Object.entries(i))if(r.includes(e))return a;return null}mapTrigramNameToKey(r){return{"ä¹¾":"qian","å¤©":"qian","å…Œ":"dui","æ²¢":"dui","é›¢":"li","ç«":"li","éœ‡":"zhen","é›·":"zhen","å·½":"xun","é¢¨":"xun","å":"kan","æ°´":"kan","è‰®":"gen","å±±":"gen","å¤":"kun","åœ°":"kun"}[r]||null}getModernEmoji(r){return{proactive:"ğŸš€",adaptive:"ğŸŒŠ",transformative:"ğŸ¦‹",decisive:"âš¡",strengthening:"ğŸ›¡ï¸",harmonizing:"â˜¯ï¸",integrative:"ğŸ”—",innovative:"ğŸ’"}[r]||"ğŸ¯"}getDefaultVisualization(){return{color:"#757575",lightColor:"#f5f5f5",darkColor:"#424242",icon:"ğŸ¯",traditional:"â˜¯",modern:"ğŸ¯",trigramName:"ä¸€èˆ¬",trigramKey:"default",gradient:"linear-gradient(135deg, #757575, #424242)",cssClass:"trigram-default",modernEmoji:"ğŸ¯",confidenceLevel:.5}}getAllScenariosVisualization(r,i=null){return r.map((r,e)=>({...r,visualization:this.getScenarioVisualization(r,i),displayOrder:e+1}))}applyScenariosColorsToDom(r){const i=document.documentElement;r.forEach((r,e)=>{const a=r.visualization;a&&(i.style.setProperty(`--scenario-${e+1}-color`,a.color),i.style.setProperty(`--scenario-${e+1}-light`,a.lightColor),i.style.setProperty(`--scenario-${e+1}-dark`,a.darkColor),i.style.setProperty(`--scenario-${e+1}-gradient`,a.gradient))}),console.log("ğŸ¨ ã‚·ãƒŠãƒªã‚ªè‰²ã‚’CSSå¤‰æ•°ã«é©ç”¨å®Œäº†")}getSystemInfo(){return{version:this.version,initialized:this.initialized,mappingCount:Object.keys(this.scenarioTrigramMapping).length,colorCount:Object.keys(this.trigramColors).length,availableApproaches:Object.keys(this.scenarioTrigramMapping)}}}"undefined"!=typeof window&&(window.DynamicScenarioColorSystem=DynamicScenarioColorSystem,window.haqeiColorSystem||(window.haqeiColorSystem=new DynamicScenarioColorSystem,console.log("ğŸ¨ HAQEIå‹•çš„è‰²ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–å®Œäº†"))),"undefined"!=typeof module&&module.exports&&(module.exports=DynamicScenarioColorSystem);