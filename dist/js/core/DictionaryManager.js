console.log("ðŸ“š DictionaryManager Loading with HaQei Philosophy..."),window.DictionaryManager={initialized:!1,engineOS:null,interfaceOS:null,safeMode:null,dictionaries:{haqei_philosophy:null,iching_terms:null,semantic_relations:null,emotional_lexicon:null,wisdom_patterns:null},async init(){console.log("ðŸš€ DictionaryManager initializing...");try{this.setupTripleOSArchitecture(),await this.loadHaQeiDictionaries(),await this.buildSemanticNetworks(),this.validateDictionaryIntegrity(),this.initialized=!0,console.log("âœ… DictionaryManager initialized with HaQei philosophy")}catch(i){console.error("âŒ DictionaryManager initialization failed:",i),this.activateSafeMode()}},setupTripleOSArchitecture(){console.log("ðŸ”§ Setting up Triple OS Architecture for Dictionary..."),this.engineOS={name:"Dictionary Engine OS",version:"1.0.0",philosophy:"haqei-dictionary",async lookupTerm(i,e={}){try{const e={term:i,definitions:[],semantic_relations:[],haqei_associations:[],usage_examples:[],emotional_connotations:[],wisdom_connections:[]};return e.definitions=this.findDefinitions(i),e.semantic_relations=this.findSemanticRelations(i),e.haqei_associations=this.findHaQeiAssociations(i),e.usage_examples=this.findUsageExamples(i),e.emotional_connotations=this.analyzeEmotionalConnotations(i),e.wisdom_connections=this.findWisdomConnections(i),{query:i,results:e,confidence:this.calculateLookupConfidence(e),philosophy:"haqei-enhanced"}}catch(n){return console.warn("âš ï¸ Dictionary lookup error:",n),this.createFallbackLookup(i)}},findDefinitions(i){const e=[];if(this.dictionaries.haqei_philosophy&&this.dictionaries.haqei_philosophy.has(i)){const n=this.dictionaries.haqei_philosophy.get(i);e.push({source:"haqei_philosophy",definition:n.definition,principles:n.principles,applications:n.applications})}if(this.dictionaries.iching_terms&&this.dictionaries.iching_terms.has(i)){const n=this.dictionaries.iching_terms.get(i);e.push({source:"iching_terms",definition:n.definition,hexagram:n.hexagram,trigram:n.trigram,classical_meaning:n.classical_meaning})}return 0===e.length&&e.push(this.generateBasicDefinition(i)),e},findSemanticRelations(i){const e=[];if(this.dictionaries.semantic_relations){const n=this.dictionaries.semantic_relations.get(i);n&&(e.push(...n.synonyms.map(i=>({type:"synonym",term:i,strength:.9}))),e.push(...n.antonyms.map(i=>({type:"antonym",term:i,strength:.8}))),e.push(...n.hypernyms.map(i=>({type:"hypernym",term:i,strength:.7}))),e.push(...n.hyponyms.map(i=>({type:"hyponym",term:i,strength:.7}))),e.push(...n.meronyms.map(i=>({type:"meronym",term:i,strength:.6}))),e.push(...n.holonyms.map(i=>({type:"holonym",term:i,strength:.6}))))}return e.sort((i,e)=>e.strength-i.strength)},findHaQeiAssociations(i){const e=[];["èª¿å’Œ","å¹³å’Œ","ãƒãƒ©ãƒ³ã‚¹","å”èª¿","çµ±åˆ"].some(e=>i.includes(e)||e.includes(i))&&e.push({principle:"harmony",connection:"direct",description:"èª¿å’Œã®åŽŸç†ã«ç›´æŽ¥é–¢é€£ã™ã‚‹æ¦‚å¿µã§ã™",practical_application:"å”åŠ›ã¨çµ±åˆã‚’ä¿ƒé€²ã™ã‚‹æ–‡è„ˆã§ä½¿ç”¨ã•ã‚Œã¾ã™"});["æ…ˆæ‚²","æ„›","æ€ã„ã‚„ã‚Š","å…±æ„Ÿ","ç†è§£","æ”¯æ´"].some(e=>i.includes(e)||e.includes(i))&&e.push({principle:"compassion",connection:"direct",description:"æ…ˆæ‚²ã®åŽŸç†ã«ç›´æŽ¥é–¢é€£ã™ã‚‹æ¦‚å¿µã§ã™",practical_application:"ä»–è€…ã¸ã®ç†è§£ã¨æ”¯æ´ã®æ–‡è„ˆã§ä½¿ç”¨ã•ã‚Œã¾ã™"});["æ™ºæ…§","çŸ¥æµ","å­¦ç¿’","æˆé•·","æ´žå¯Ÿ","ç†è§£"].some(e=>i.includes(e)||e.includes(i))&&e.push({principle:"wisdom",connection:"direct",description:"æ™ºæ…§ã®åŽŸç†ã«ç›´æŽ¥é–¢é€£ã™ã‚‹æ¦‚å¿µã§ã™",practical_application:"å­¦ç¿’ã¨æˆé•·ã®æ–‡è„ˆã§ä½¿ç”¨ã•ã‚Œã¾ã™"});return["çœŸå®Ÿ","èª å®Ÿ","æ­£ç›´","è‡ªç„¶","ç´”ç²‹"].some(e=>i.includes(e)||e.includes(i))&&e.push({principle:"authenticity",connection:"direct",description:"çœŸå®Ÿã®åŽŸç†ã«ç›´æŽ¥é–¢é€£ã™ã‚‹æ¦‚å¿µã§ã™",practical_application:"èª å®Ÿãªè¡¨ç¾ã¨è¡Œå‹•ã®æ–‡è„ˆã§ä½¿ç”¨ã•ã‚Œã¾ã™"}),e},findUsageExamples(i){const e=[],n={"èª¿å’Œ":["äººã€…ã®èª¿å’Œã‚’ä¿ƒé€²ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™","ã“ã®è§£æ±ºç­–ã¯å…¨ä½“ã®èª¿å’Œã‚’ä¿ã¡ã¾ã™","å†…é¢ã®èª¿å’ŒãŒå¤–é¢ã«åæ˜ ã•ã‚Œã¾ã™"],"æ…ˆæ‚²":["æ…ˆæ‚²æ·±ã„å¿ƒã§ä»–è€…ã«æŽ¥ã—ã¾ã™","ã“ã®è¡Œå‹•ã¯æ…ˆæ‚²ã®ç²¾ç¥žã‹ã‚‰ç”Ÿã¾ã‚Œã¾ã—ãŸ","æ…ˆæ‚²ã¯æ™ºæ…§ã¨å…±ã«æ­©ã¿ã¾ã™"],"æ™ºæ…§":["çµŒé¨“ã‹ã‚‰æ™ºæ…§ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™","ã“ã®æ™ºæ…§ã‚’æ—¥å¸¸ç”Ÿæ´»ã«æ´»ã‹ã—ã¾ã™","æ™ºæ…§ã¯å®Ÿè·µã«ã‚ˆã£ã¦æ·±ã¾ã‚Šã¾ã™"],"çœŸå®Ÿ":["çœŸå®Ÿã‚’èªžã‚‹ã“ã¨ã®å¤§åˆ‡ã•ã‚’å­¦ã³ã¾ã—ãŸ","ã“ã®çœŸå®Ÿã¯å¿ƒã®å¥¥æ·±ãã‹ã‚‰æ¹§ãä¸ŠãŒã‚Šã¾ã™","çœŸå®Ÿã¯æ™‚ã¨ã—ã¦åŽ³ã—ã„ã‚‚ã®ã§ã™"]};return n[i]&&e.push(...n[i].map(i=>({text:i,context:"haqei_philosophy",usage_type:"philosophical"}))),e},analyzeEmotionalConnotations(i){const e=[];if(this.dictionaries.emotional_lexicon){const n=this.dictionaries.emotional_lexicon.get(i);n&&e.push({valence:n.valence,arousal:n.arousal,dominance:n.dominance,primary_emotions:n.primary_emotions,secondary_emotions:n.secondary_emotions})}return e},findWisdomConnections(i){const e=[];if(this.dictionaries.wisdom_patterns){const n=this.dictionaries.wisdom_patterns.get(i);n&&e.push(...n.map(i=>({pattern_type:i.type,wisdom_tradition:i.tradition,teaching:i.teaching,application:i.application,relevance_score:i.relevance})))}return e.sort((i,e)=>e.relevance_score-i.relevance_score)},generateBasicDefinition:i=>({source:"generated",definition:`ã€Œ${i}ã€ã«é–¢é€£ã™ã‚‹æ¦‚å¿µ`,note:"HaQeiè¾žæ›¸ã«å®šç¾©ãŒè¦‹ã¤ã‹ã‚‰ãªã„ãŸã‚ã€åŸºæœ¬çš„ãªèª¬æ˜Žã‚’æä¾›ã—ã¦ã„ã¾ã™",suggestion:"ã‚ˆã‚Šè©³ç´°ãªå®šç¾©ã«ã¤ã„ã¦ã¯ã€HaQeiå“²å­¦ã®æ–‡è„ˆã§ã®ä½¿ç”¨ä¾‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„"}),calculateLookupConfidence(i){let e=0;return i.definitions.length>0&&(e+=.3),i.semantic_relations.length>0&&(e+=.2),i.haqei_associations.length>0&&(e+=.2),i.usage_examples.length>0&&(e+=.15),i.emotional_connotations.length>0&&(e+=.1),i.wisdom_connections.length>0&&(e+=.05),Math.min(e,1)},createFallbackLookup(i){return{query:i,results:{term:i,definitions:[this.generateBasicDefinition(i)],semantic_relations:[],haqei_associations:[],usage_examples:[],emotional_connotations:[],wisdom_connections:[]},confidence:.2,philosophy:"haqei-fallback"}}},this.interfaceOS={name:"Dictionary Interface OS",formatLookupResult(i){return{query:i.query,summary:{confidence:Math.round(100*i.confidence)+"%",definitions_found:i.results.definitions.length,relations_found:i.results.semantic_relations.length,haqei_relevance:i.results.haqei_associations.length>0?"high":"low"},definitions:this.formatDefinitions(i.results.definitions),relations:this.formatRelations(i.results.semantic_relations),haqei_insights:this.formatHaQeiInsights(i.results.haqei_associations),usage_guide:this.formatUsageGuide(i.results.usage_examples),emotional_profile:this.formatEmotionalProfile(i.results.emotional_connotations),wisdom_teachings:this.formatWisdomTeachings(i.results.wisdom_connections)}},formatDefinitions(i){return i.map(i=>({source:this.formatSourceName(i.source),definition:i.definition,additional_info:this.extractAdditionalInfo(i)}))},formatSourceName:i=>({haqei_philosophy:"ðŸ“š HaQeiå“²å­¦è¾žæ›¸",iching_terms:"â˜¯ï¸ æ˜“çµŒç”¨èªžè¾žæ›¸",emotional_lexicon:"ðŸ’­ æ„Ÿæƒ…èªžå½™è¾žæ›¸",generated:"ðŸ” è‡ªå‹•ç”Ÿæˆ"}[i]||`ðŸ“– ${i}`),extractAdditionalInfo(i){const e={};return i.principles&&(e.principles=i.principles),i.applications&&(e.applications=i.applications),i.hexagram&&(e.hexagram=i.hexagram),i.trigram&&(e.trigram=i.trigram),e},formatRelations(i){return i.slice(0,10).map(i=>({type:this.formatRelationType(i.type),term:i.term,strength:Math.round(100*i.strength)+"%"}))},formatRelationType:i=>({synonym:"ðŸ”„ åŒç¾©èªž",antonym:"â†”ï¸ å¯¾ç¾©èªž",hypernym:"â¬†ï¸ ä¸Šä½èªž",hyponym:"â¬‡ï¸ ä¸‹ä½èªž",meronym:"ðŸ§© éƒ¨åˆ†èªž",holonym:"ðŸ¢ å…¨ä½“èªž"}[i]||`ðŸ”— ${i}`),formatHaQeiInsights(i){return i.map(i=>({principle:this.formatPrincipleName(i.principle),connection:i.connection,description:i.description,application:i.practical_application}))},formatPrincipleName:i=>({harmony:"ðŸ¤ èª¿å’Œ",compassion:"ðŸ’– æ…ˆæ‚²",wisdom:"ðŸ§  æ™ºæ…§",authenticity:"âœ¨ çœŸå®Ÿ"}[i]||`ðŸ”· ${i}`),formatUsageGuide:i=>({total_examples:i.length,sample_usage:i.slice(0,3).map(i=>({text:i.text,context:i.context,type:i.usage_type}))}),formatEmotionalProfile(i){if(0===i.length)return null;const e=i[0];return{valence:e.valence,arousal:e.arousal,dominance:e.dominance,primary_emotions:e.primary_emotions||[],secondary_emotions:e.secondary_emotions||[]}},formatWisdomTeachings:i=>i.slice(0,3).map(i=>({tradition:i.wisdom_tradition,teaching:i.teaching,application:i.application,relevance:Math.round(100*i.relevance_score)+"%"}))},this.safeMode={name:"Dictionary Safe Mode OS",active:!1,activate(){return console.log("ðŸ›¡ï¸ DictionaryManager Safe Mode activated"),this.active=!0,{basic_lookup:!0,advanced_features:!1,philosophy:"haqei-safe"}},performSafeLookup:i=>({query:i,results:{term:i,definitions:[{source:"safe_mode",definition:`ã€Œ${i}ã€ã®åŸºæœ¬çš„ãªæ¦‚å¿µ`,note:"Safe Modeå®Ÿè¡Œä¸­ - è©³ç´°ãªè¾žæ›¸æ©Ÿèƒ½ã¯åˆ©ç”¨ã§ãã¾ã›ã‚“"}],semantic_relations:[],haqei_associations:[],usage_examples:[],emotional_connotations:[],wisdom_connections:[]},confidence:.1,philosophy:"haqei-safe"})},console.log("âœ… Triple OS Architecture setup complete")},async loadHaQeiDictionaries(){console.log("ðŸ“– Loading HaQei dictionaries..."),this.dictionaries.haqei_philosophy=new Map([["èª¿å’Œ",{definition:"ç•°ãªã‚‹è¦ç´ ãŒçµ±åˆã•ã‚Œã€ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸçŠ¶æ…‹",principles:["unity","balance","cooperation"],applications:["conflict_resolution","team_building","personal_growth"]}],["æ…ˆæ‚²",{definition:"ä»–è€…ã¸ã®ç„¡æ¡ä»¶ã®æ„›ã¨æ€ã„ã‚„ã‚Š",principles:["compassion","empathy","kindness"],applications:["healing","support","understanding"]}],["æ™ºæ…§",{definition:"æ·±ã„ç†è§£ã¨è³¢æ˜Žãªåˆ¤æ–­åŠ›",principles:["insight","discernment","understanding"],applications:["decision_making","learning","guidance"]}],["çœŸå®Ÿ",{definition:"å½ã‚Šã®ãªã„ç´”ç²‹ã§è‡ªç„¶ãªçŠ¶æ…‹",principles:["honesty","authenticity","purity"],applications:["communication","self_expression","integrity"]}]]),this.dictionaries.iching_terms=new Map([["ä¹¾",{definition:"å¤©ãƒ»å‰µé€ çš„ãªåŠ›ãƒ»çˆ¶æ€§åŽŸç†",hexagram:1,trigram:"ä¹¾",classical_meaning:"å¼·å¥ãƒ»å‰µé€ ãƒ»æŒ‡å°Ž"}],["å¤",{definition:"åœ°ãƒ»å—å®¹çš„ãªåŠ›ãƒ»æ¯æ€§åŽŸç†",hexagram:2,trigram:"å¤",classical_meaning:"æŸ”é †ãƒ»å—å®¹ãƒ»è‚²æˆ"}],["æ³°",{definition:"å¤©åœ°äº¤é€šãƒ»å¹³å’Œãƒ»èª¿å’Œ",hexagram:11,trigram:"å¤/ä¹¾",classical_meaning:"é€šæ³°ãƒ»ç¹æ „ãƒ»å”åŠ›"}]]),this.dictionaries.semantic_relations=new Map([["èª¿å’Œ",{synonyms:["å¹³å’Œ","ãƒãƒ©ãƒ³ã‚¹","çµ±åˆ","å”èª¿"],antonyms:["å¯¾ç«‹","æ··ä¹±","ä¸å’Œ","åˆ†è£‚"],hypernyms:["çŠ¶æ…‹","é–¢ä¿‚","æ¦‚å¿µ"],hyponyms:["å†…çš„èª¿å’Œ","å¤–çš„èª¿å’Œ","ç¤¾ä¼šçš„èª¿å’Œ"],meronyms:["ç›¸äº’ç†è§£","å”åŠ›","ãƒãƒ©ãƒ³ã‚¹"],holonyms:["å¹³å’Œ","å¹¸ç¦","æˆåŠŸ"]}],["æ„›",{synonyms:["æ…ˆæ‚²","æ€ã„ã‚„ã‚Š","æ„›æƒ…","æ…ˆæ„›"],antonyms:["æ†Žã—ã¿","ç„¡é–¢å¿ƒ","å†·æ·¡"],hypernyms:["æ„Ÿæƒ…","å¿ƒæƒ…","ç²¾ç¥žçŠ¶æ…‹"],hyponyms:["å®¶æ—æ„›","å‹æ„›","è‡ªæ„›","åšæ„›"],meronyms:["æ€ã„ã‚„ã‚Š","å…±æ„Ÿ","ç†è§£"],holonyms:["å¹¸ç¦","èª¿å’Œ","å¹³å’Œ"]}]]),this.dictionaries.emotional_lexicon=new Map([["èª¿å’Œ",{valence:"positive",arousal:"medium",dominance:"high",primary_emotions:["peace","satisfaction"],secondary_emotions:["balance","unity"]}],["æ…ˆæ‚²",{valence:"positive",arousal:"medium",dominance:"medium",primary_emotions:["love","compassion"],secondary_emotions:["kindness","empathy"]}]]),this.dictionaries.wisdom_patterns=new Map([["èª¿å’Œ",[{type:"balance_principle",tradition:"eastern_philosophy",teaching:"ä¸­åº¸ã®é“ã‚’æ­©ã‚€",application:"æ¥µç«¯ã‚’é¿ã‘ã€ãƒãƒ©ãƒ³ã‚¹ã‚’ä¿ã¤",relevance:.9},{type:"integration_wisdom",tradition:"haqei_philosophy",teaching:"å¯¾ç«‹ã‚’çµ±åˆã«å¤‰ãˆã‚‹",application:"ç•°ãªã‚‹è¦–ç‚¹ã‚’èª¿å’Œã•ã›ã‚‹",relevance:.95}]],["æ™ºæ…§",[{type:"learning_principle",tradition:"universal_wisdom",teaching:"çµŒé¨“ã‹ã‚‰å­¦ã¶",application:"å¤±æ•—ã‚’æˆé•·ã®æ©Ÿä¼šã¨ã™ã‚‹",relevance:.85}]]]),console.log("âœ… HaQei dictionaries loaded")},async buildSemanticNetworks(){console.log("ðŸ•¸ï¸ Building semantic networks..."),this.semanticNetwork={principle_relations:new Map([["èª¿å’Œ",["æ…ˆæ‚²","æ™ºæ…§","çœŸå®Ÿ"]],["æ…ˆæ‚²",["èª¿å’Œ","æ™ºæ…§","çœŸå®Ÿ"]],["æ™ºæ…§",["èª¿å’Œ","æ…ˆæ‚²","çœŸå®Ÿ"]],["çœŸå®Ÿ",["èª¿å’Œ","æ…ˆæ‚²","æ™ºæ…§"]]]),iching_relations:new Map([["èª¿å’Œ",["æ³°","è¬™","æ—¢æ¸ˆ"]],["å‰µé€ ",["ä¹¾","éœ‡","é›¢"]],["å—å®¹",["å¤","å·½","åŽ"]]])},console.log("âœ… Semantic networks built")},validateDictionaryIntegrity(){console.log("ðŸ” Validating dictionary integrity...");const i={haqei_philosophy:this.dictionaries.haqei_philosophy?.size||0,iching_terms:this.dictionaries.iching_terms?.size||0,semantic_relations:this.dictionaries.semantic_relations?.size||0,emotional_lexicon:this.dictionaries.emotional_lexicon?.size||0,wisdom_patterns:this.dictionaries.wisdom_patterns?.size||0};this.validationResults=i,console.log("âœ… Dictionary integrity validated:",i)},activateSafeMode(){console.log("ðŸ›¡ï¸ Activating Safe Mode..."),this.safeMode.activate(),this.initialized=!0},async lookupTerm(i,e={}){this.initialized||await this.init();try{if(this.safeMode.active)return this.safeMode.performSafeLookup(i);const n=await this.engineOS.lookupTerm(i,e);return this.interfaceOS.formatLookupResult(n)}catch(n){return console.error("âŒ Term lookup failed:",n),this.safeMode.activate(),this.safeMode.performSafeLookup(i)}},async lookupMultipleTerms(i,e={}){const n=[];for(const t of i){const i=await this.lookupTerm(t,e);n.push(i)}return{query_terms:i,results:n,total_found:n.filter(i=>"10%"!==i.summary.confidence).length}},async findSemanticRelations(i,e="all"){if(this.initialized||await this.init(),this.dictionaries.semantic_relations.has(i)){const n=this.dictionaries.semantic_relations.get(i);return"all"===e?n:n[e]||[]}return[]},async findHaQeiRelations(i){this.initialized||await this.init();const e=[];if(this.semanticNetwork?.principle_relations?.has(i)){const n=this.semanticNetwork.principle_relations.get(i);e.push(...n.map(i=>({type:"haqei_principle",term:i})))}return e},getStatus(){return{initialized:this.initialized,safe_mode_active:this.safeMode?.active||!1,dictionaries_loaded:Object.keys(this.dictionaries).length,total_entries:Object.values(this.dictionaries).reduce((i,e)=>i+(e?.size||0),0),validation_results:this.validationResults||{},philosophy:"haqei",architecture:"triple-os"}},getCapabilities(){const i=["basic_lookup"];return this.dictionaries.haqei_philosophy&&i.push("haqei_philosophy_lookup"),this.dictionaries.iching_terms&&i.push("iching_terms_lookup"),this.dictionaries.semantic_relations&&i.push("semantic_relations_search"),this.semanticNetwork&&i.push("semantic_network_analysis"),this.safeMode?.active||i.push("advanced_lookup","emotional_analysis","wisdom_connections"),i}},document.addEventListener("DOMContentLoaded",()=>{window.DictionaryManager.init()}),console.log("âœ… DictionaryManager loaded with HaQei Philosophy");