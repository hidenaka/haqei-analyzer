!async function(){try{console.log("🚀 v2.2.0 Module Loader 初期化開始");const{ConfigLoader:e}=await import("../config/config-loader-adapter.js");window.ConfigLoader=e,console.log("✅ ConfigLoader loaded");const{KingWenMapping:n}=await import("./iching/KingWenMapping.js");window.KingWenMapping=n,console.log("✅ KingWenMapping loaded");const[{LineSelector:i},{AdvanceProcessor:a},{MultiLineInterpreter:r}]=await Promise.all([import("./iching/LineSelector.js"),import("./iching/AdvanceProcessor.js"),import("./iching/MultiLineInterpreter.js")]);window.LineSelector=i,window.AdvanceProcessor=a,window.MultiLineInterpreter=r,console.log("✅ All v2.2.0 classes loaded successfully");const t=new CustomEvent("v22ModulesLoaded",{detail:{classes:["ConfigLoader","KingWenMapping","LineSelector","AdvanceProcessor","MultiLineInterpreter"],loadedAt:(new Date).toISOString()}});if(window.dispatchEvent(t),window.EightScenariosGenerator&&window.haqeiScenariosGenerator)try{await window.haqeiScenariosGenerator.initializeV22Components(),console.log("✅ EightScenariosGenerator v2.2.0 auto-initialization complete")}catch(o){console.warn("⚠️ EightScenariosGenerator auto-initialization failed:",o)}console.log("🎯 v2.2.0 Module Loader 初期化完了")}catch(o){console.error("❌ v2.2.0 Module Loader 初期化失敗:",o),console.log("🔄 Fallback: Attempting legacy script loading..."),window.v22ModulesLoadError=o}}();