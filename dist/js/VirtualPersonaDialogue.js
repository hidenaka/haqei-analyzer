console.log("ðŸŽ­ VirtualPersonaDialogue Loading..."),function(){"use strict";class VirtualPersonaDialogue{constructor(){this.name="VirtualPersonaDialogue",this.version="1.0.0",this.philosophy="haqei-persona-dialogue",this.dialogueScenarios=this.initializeDialogueScenarios(),this.personaVoices=this.initializePersonaVoices(),this.dialogueConfig={minStrengthForDialogue:10,maxMessagesPerPersona:3,strengthInfluenceWeight:.7},this.isInitialized=!1}async initialize(){console.log("ðŸ”§ VirtualPersonaDialogue initializing...");try{return await this.validateScenarios(),await this.setupPersonaVoices(),await this.integrateHaQeiPhilosophy(),this.isInitialized=!0,console.log("âœ… VirtualPersonaDialogue initialized successfully"),!0}catch(e){return console.error("âŒ VirtualPersonaDialogue initialization failed:",e),this.initializeSafeMode()}}initializeDialogueScenarios(){return{decision:{situation:"é‡è¦ãªæ±ºæ–­ã‚’è¿«ã‚‰ã‚ŒãŸæ™‚",context:"äººç”Ÿã®åˆ†å²ç‚¹ã€æ–°ã—ã„ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã€ãƒªã‚¹ã‚¯ã‚’ä¼´ã†é¸æŠž",description:"ã‚ãªãŸã®å¿ƒã®ä¸­ã§3ã¤ã®ä»®æƒ³äººæ ¼ãŒå¯¾è©±ã—ã¦ã„ã‚‹æ§˜å­ã‚’æƒ³åƒã—ã¦ã¿ã¦ãã ã•ã„",engineOS:["æ–°ã—ã„ãƒãƒ£ãƒ³ã‚¹ã ï¼æŒ‘æˆ¦ã—ã¦ã¿ã‚ˆã†ï¼","ã“ã‚Œã¾ã§ã«ãªã„å¯èƒ½æ€§ã‚’æŽ¢ã£ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ","é©æ–°çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§è¡Œãã¾ã—ã‚‡ã†ï¼","æœªçŸ¥ã®é ˜åŸŸã«é£›ã³è¾¼ã‚€ã¨ãã“ãæˆé•·ã§ãã‚‹ï¼","å‰µé€ çš„ãªè§£æ±ºç­–ã‚’è¦‹ã¤ã‘å‡ºã—ã¾ã—ã‚‡ã†ï¼"],interfaceOS:["å‘¨ã‚Šã®äººã¸ã®å½±éŸ¿ã‚‚è€ƒãˆã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ","ãƒãƒ¼ãƒ ã®ã¿ã‚“ãªã¨ç›¸è«‡ã—ã¦ã‹ã‚‰æ±ºã‚ã¾ã—ã‚‡ã†","å”åŠ›ã—ã¦ã‚‚ã‚‰ãˆã‚‹äººãŒã„ã‚‹ã‹ç¢ºèªã—ã¾ã›ã‚“ã‹ï¼Ÿ","ã¿ã‚“ãªãŒç´å¾—ã§ãã‚‹æ–¹å‘æ€§ã‚’æŽ¢ã—ã¾ã—ã‚‡ã†","èª¿å’Œã‚’ä¿ã¡ãªãŒã‚‰é€²ã‚ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ"],safeModeOS:["æ…Žé‡ã«...ãƒªã‚¹ã‚¯ã‚’ååˆ†æ¤œè¨Žã—ã¾ã—ã‚‡ã†","éŽåŽ»ã®çµŒé¨“ã‹ã‚‰å­¦ã‚“ã§åˆ¤æ–­ã—ã¾ã›ã‚“ã‹ï¼Ÿ","å®‰å…¨ãªé“ç­‹ã‚’ç¢ºä¿ã—ã¦ã‹ã‚‰é€²ã¿ã¾ã—ã‚‡ã†","worst caseã‚·ãƒŠãƒªã‚ªã‚‚è€ƒæ…®ã™ã¹ãã§ã™","æ®µéšŽçš„ã«é€²ã‚ã¦æ§˜å­ã‚’è¦‹ã¾ã›ã‚“ã‹ï¼Ÿ"]},challenge:{situation:"å›°é›£ãªå•é¡Œã«ç›´é¢ã—ãŸæ™‚",context:"æƒ³å®šå¤–ã®å•é¡Œã€è§£æ±ºå›°é›£ãªèª²é¡Œã€è¡Œãè©°ã¾ã‚ŠçŠ¶æ³",description:"å›°é›£ãªçŠ¶æ³ã§ç¾ã‚Œã‚‹ã‚ãªãŸã®å†…ãªã‚‹å£°ãŸã¡",engineOS:["ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ãªè§£æ±ºç­–ã‚’æŽ¢ã—ã¦ã¿ã‚ˆã†","ã“ã®å›°é›£ã‚’æˆé•·ã®ãƒãƒ£ãƒ³ã‚¹ã«å¤‰ãˆã¾ã—ã‚‡ã†ï¼","ä»Šã¾ã§ã¨ã¯é•ã†è§’åº¦ã‹ã‚‰è€ƒãˆã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ","é€†è»¢ã®ç™ºæƒ³ã§æ–°ã—ã„é“ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†ï¼","å›°é›£ã“ãé©æ–°ã®æ¯ã§ã™ï¼"],interfaceOS:["ãƒãƒ¼ãƒ ã§å”åŠ›ã™ã‚Œã°ä¹—ã‚Šè¶Šãˆã‚‰ã‚Œã‚‹","çµŒé¨“è±Šå¯Œãªäººã«ç›¸è«‡ã—ã¦ã¿ã¾ã—ã‚‡ã†","ã¿ã‚“ãªã®çŸ¥æµã‚’é›†ã‚ã¦è§£æ±ºç­–ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†","ãŠäº’ã„ã‚’æ”¯ãˆãªãŒã‚‰é€²ã¿ã¾ã›ã‚“ã‹ï¼Ÿ","å”åŠ›ä½“åˆ¶ã‚’ç¯‰ã„ã¦ç«‹ã¡å‘ã‹ã„ã¾ã—ã‚‡ã†"],safeModeOS:["ã¾ãšç¾çŠ¶ã‚’å†·é™ã«åˆ†æžã™ã‚‹ã“ã¨ãŒå¤§åˆ‡","ãƒªã‚¹ã‚¯ã‚’æœ€å°é™ã«æŠ‘ãˆã‚‹æ–¹æ³•ã‚’è€ƒãˆã¾ã—ã‚‡ã†","ç€å®Ÿã«ä¸€æ­©ãšã¤è§£æ±ºã—ã¦ã„ãã¾ã—ã‚‡ã†","æ ¹æœ¬åŽŸå› ã‚’ç‰¹å®šã—ã¦ã‹ã‚‰å¯¾å‡¦ã—ã¾ã›ã‚“ã‹ï¼Ÿ","ç¢ºå®Ÿãªæ–¹æ³•ã§å®‰å…¨ã«é€²ã‚ã¾ã—ã‚‡ã†"]},creation:{situation:"æ–°ã—ã„ã‚‚ã®ã‚’å‰µã‚Šå‡ºã™æ™‚",context:"ä¼ç”»ç«‹æ¡ˆã€ä½œå“åˆ¶ä½œã€ã‚¢ã‚¤ãƒ‡ã‚¢ç™ºæƒ³",description:"å‰µé€ æ´»å‹•ã«ãŠã‘ã‚‹å†…ãªã‚‹å¯¾è©±",engineOS:["èª°ã‚‚æ€ã„ã¤ã‹ãªã„ã‚ˆã†ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ï¼","æ—¢å­˜ã®æž ã‚’è¶…ãˆãŸç™ºæƒ³ã§è¡Œãã¾ã—ã‚‡ã†","é©å‘½çš„ãªä½•ã‹ã‚’ç”Ÿã¿å‡ºã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ","å¸¸è­˜ã‚’è¦†ã™ã‚ˆã†ãªä½œå“ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ï¼","ä¸–ç•Œã‚’å¤‰ãˆã‚‹ã‚¢ã‚¤ãƒ‡ã‚¢ãŒç”Ÿã¾ã‚Œã‚‹ã‹ã‚‚ï¼"],interfaceOS:["ã¿ã‚“ãªãŒå–œã¶ã‚‚ã®ã‚’ä½œã‚Šã¾ã—ã‚‡ã†","å”åŠ›ã—ã¦ç´ æ™´ã‚‰ã—ã„ã‚‚ã®ã‚’ä½œã‚Šä¸Šã’ã¾ã—ã‚‡ã†","äººã€…ã®å¿ƒã«éŸ¿ãã‚‚ã®ã‚’ç›®æŒ‡ã—ã¾ã›ã‚“ã‹ï¼Ÿ","å…±æ„Ÿã‚’å‘¼ã¶ä½œå“ã«ã—ã¦ã„ãã¾ã—ã‚‡ã†","ã¿ã‚“ãªã§ä½œã‚Šä¸Šã’ã‚‹å–œã³ã‚’å¤§åˆ‡ã«"],safeModeOS:["å®Ÿç¾å¯èƒ½æ€§ã‚’ã—ã£ã‹ã‚Šæ¤œè¨¼ã—ã¾ã—ã‚‡ã†","æ®µéšŽçš„ã«å½¢ã«ã—ã¦ã„ãã¾ã›ã‚“ã‹ï¼Ÿ","ãƒªã‚¹ã‚¯ã‚’è€ƒæ…®ã—ãŸè¨ˆç”»ã‚’ç«‹ã¦ã¾ã—ã‚‡ã†","æŠ€è¡“çš„åˆ¶ç´„ã‚‚è€ƒæ…®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™","ç¢ºå®Ÿã«å½¢ã«ã§ãã‚‹ç¯„å›²ã§é€²ã‚ã¾ã—ã‚‡ã†"]},relationship:{situation:"äººé–“é–¢ä¿‚ã§æ‚©ã‚“ã§ã„ã‚‹æ™‚",context:"å¯¾äººé–¢ä¿‚ã®å›°é›£ã€ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³å•é¡Œ",description:"äººã¨ã®ã¤ãªãŒã‚Šã«ã¤ã„ã¦è€ƒãˆã¦ã„ã‚‹æ™‚ã®å†…ãªã‚‹å£°",engineOS:["æ–°ã—ã„é–¢ä¿‚æ€§ã‚’ç¯‰ãæ©Ÿä¼šã‹ã‚‚ã—ã‚Œã¾ã›ã‚“","ã“ã‚Œã¾ã§ã¨ã¯é•ã†ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†","ç›¸æ‰‹ã®æ„å¤–ãªä¸€é¢ã‚’ç™ºè¦‹ã§ãã‚‹ãƒãƒ£ãƒ³ã‚¹ï¼","ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ãªè§£æ±ºç­–ã§é–¢ä¿‚æ”¹å–„ã‚’","æ–°ã—ã„è‡ªåˆ†ã‚’è¦‹ã›ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ"],interfaceOS:["ç›¸æ‰‹ã®æ°—æŒã¡ã«å¯„ã‚Šæ·»ã£ã¦ã¿ã¾ã—ã‚‡ã†","ãŠäº’ã„ã®ç†è§£ã‚’æ·±ã‚ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™","å”åŠ›ã—ã¦è§£æ±ºç­–ã‚’è¦‹ã¤ã‘ã¾ã›ã‚“ã‹ï¼Ÿ","å¯¾è©±ã‚’é€šã˜ã¦æ­©ã¿å¯„ã‚Šã¾ã—ã‚‡ã†","ã¿ã‚“ãªãŒå¹¸ã›ã«ãªã‚‹æ–¹æ³•ã‚’è€ƒãˆã¾ã—ã‚‡ã†"],safeModeOS:["ç›¸æ‰‹ã¨ã®è·é›¢æ„Ÿã‚’æ…Žé‡ã«èª¿æ•´ã—ã¾ã—ã‚‡ã†","æ„Ÿæƒ…çš„ã«ãªã‚‰ãšã«å†·é™ã«å¯¾å‡¦ã—ã¾ã›ã‚“ã‹ï¼Ÿ","å®‰å…¨ãªé–¢ä¿‚æ€§ã‚’ç¶­æŒã™ã‚‹ã“ã¨ã‚‚å¤§åˆ‡ã§ã™","ç„¡ç†ã‚’ã›ãšè‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§é€²ã¿ã¾ã—ã‚‡ã†","ãƒˆãƒ©ãƒ–ãƒ«ã‚’é¿ã‘ã‚‹æ–¹æ³•ã‚’è€ƒãˆã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ"]}}}initializePersonaVoices(){return{engine:{name:"å‰µé€ ã®æŽ¢æ¤œå®¶",symbol:"ðŸš€",tone:"ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ã§å‰å‘ã",keywords:["ãƒãƒ£ãƒ³ã‚¹","é©æ–°","å¯èƒ½æ€§","æŒ‘æˆ¦","å‰µé€ ","ã‚¢ã‚¤ãƒ‡ã‚¢","é©å‘½"],speechPattern:"ï¼ã§çµ‚ã‚ã‚‹æ–‡ãŒå¤šã„ã€ææ¡ˆå½¢ã€ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥",colors:{primary:"#6366f1",secondary:"#8b5cf6",background:"rgba(99, 102, 241, 0.1)"},emojis:["ðŸš€","âœ¨","ðŸ’¡","âš¡","ðŸŒŸ","ðŸŽ¯","ðŸ”¥"]},interface:{name:"èª¿å’Œã®æ©‹æ¸¡ã—",symbol:"ðŸ¤",tone:"å”èª¿çš„ã§æ€ã„ã‚„ã‚ŠãŒã‚ã‚‹",keywords:["ã¿ã‚“ãª","å”åŠ›","ãƒãƒ¼ãƒ ","ç›¸è«‡","èª¿å’Œ","å…±æ„Ÿ","æ”¯æ´"],speechPattern:"ã€Œã€œã—ã¾ã›ã‚“ã‹ï¼Ÿã€ã®ææ¡ˆå½¢ãŒå¤šã„ã€åŒ…å®¹åŠ›ã®ã‚ã‚‹è¡¨ç¾",colors:{primary:"#8b5cf6",secondary:"#a855f7",background:"rgba(139, 92, 246, 0.1)"},emojis:["ðŸ¤","ðŸ’«","ðŸŒ¸","ðŸŽˆ","ðŸŽŠ","ðŸ’•","ðŸŒ»"]},safemode:{name:"æ…Žé‡ãªå®ˆè­·è€…",symbol:"ðŸ›¡ï¸",tone:"æ…Žé‡ã§å†·é™",keywords:["æ…Žé‡","å®‰å…¨","ãƒªã‚¹ã‚¯","è¨ˆç”»","æ¤œè¨¼","åˆ†æž","ç¢ºå®Ÿ"],speechPattern:"ã€Œã€œã—ã¾ã—ã‚‡ã†ã€ã®ç¢ºå®Ÿãªææ¡ˆã€å†·é™ãªåˆ†æž",colors:{primary:"#10b981",secondary:"#059669",background:"rgba(16, 185, 129, 0.1)"},emojis:["ðŸ›¡ï¸","ðŸ”","ðŸ“‹","âš–ï¸","ðŸŽ¯","ðŸ”’","âš“"]}}}generateDialogue(e,i="decision"){if(!this.isInitialized)return console.warn("âš ï¸ VirtualPersonaDialogue not initialized"),this.getDefaultDialogue();const t=this.dialogueScenarios[i];if(!t)return console.warn(`âš ï¸ Unknown scenario type: ${i}`),this.getDefaultDialogue();try{return{scenario:{type:i,situation:t.situation,context:t.context,description:t.description},participants:[this.generatePersonaDialogue("engine",e.engine,t.engineOS),this.generatePersonaDialogue("interface",e.interface,t.interfaceOS),this.generatePersonaDialogue("safemode",e.safemode,t.safeModeOS)],metadata:{timestamp:(new Date).toISOString(),philosophy:"haqei-persona-dialogue",version:this.version}}}catch(a){return console.error("âŒ Dialogue generation failed:",a),this.getDefaultDialogue()}}generatePersonaDialogue(e,i,t){const a=this.personaVoices[e],n=this.extractStrength(i),o=this.selectMessageByStrength(t,n),s=this.adjustMessageIntensity(o,n,a);return{persona:{type:e,name:a.name,symbol:a.symbol,colors:a.colors},message:s,strength:n,reliability:this.calculateMessageReliability(n),metadata:{originalMessage:o,tone:a.tone,speechPattern:a.speechPattern}}}extractStrength(e){return e&&void 0!==e.percentage?Math.round(e.percentage):e&&void 0!==e.strength?Math.round(e.strength):50}selectMessageByStrength(e,i){return i>=80?e[0]:i>=60?e[Math.min(1,e.length-1)]:i>=40?e[Math.min(2,e.length-1)]:i>=20?e[Math.min(3,e.length-1)]:e[e.length-1]}adjustMessageIntensity(e,i,t){return i>=70?this.enhanceMessage(e,t):i<=30?this.softtenMessage(e,t):e}enhanceMessage(e,i){const t={engine:["ãœã²","ãã£ã¨","çµ¶å¯¾ã«","å¿…ãš"],interface:["ã¿ã‚“ãªã§","ä¸€ç·’ã«","å”åŠ›ã—ã¦","å¿ƒã‚’è¾¼ã‚ã¦"],safemode:["ã—ã£ã‹ã‚Šã¨","ç¢ºå®Ÿã«","æ…Žé‡ã«","å¿µå…¥ã‚Šã«"]}[i.name.includes("å‰µé€ ")?"engine":i.name.includes("èª¿å’Œ")?"interface":"safemode"];return`${t[Math.floor(Math.random()*t.length)]}${e}`}softtenMessage(e,i){const t={engine:["ã‚‚ã—ã‹ã™ã‚‹ã¨","ã²ã‚‡ã£ã¨ã™ã‚‹ã¨","ãŸã¶ã‚“"],interface:["ã‚‚ã—ã‚ˆã‚ã—ã‘ã‚Œã°","å¯èƒ½ã§ã‚ã‚Œã°","ãŠæ™‚é–“ãŒã‚ã‚‹ã¨ãã«"],safemode:["å¿µã®ãŸã‚","ä¸€å¿œ","å‚è€ƒã¾ã§ã«"]}[i.name.includes("å‰µé€ ")?"engine":i.name.includes("èª¿å’Œ")?"interface":"safemode"];return`${t[Math.floor(Math.random()*t.length)]}ã€${e}`}calculateMessageReliability(e){return e>=60?"high":e>=40?"medium":"low"}async integrateHaQeiPhilosophy(){this.philosophicalFramework={wisdom:"3ã¤ã®ä»®æƒ³äººæ ¼ã®èª¿å’Œã«ã‚ˆã‚‹æ™ºæ…§",balance:"Engineãƒ»Interfaceãƒ»SafeModeã®ãƒãƒ©ãƒ³ã‚¹",creativity:"å¯¾è©±ã‚’é€šã˜ãŸå‰µé€ çš„è‡ªå·±ç†è§£",authenticity:"æ˜“çµŒãƒ¡ã‚¿ãƒ•ã‚¡ãƒ¼ã«ã‚ˆã‚‹çœŸæ­£ãªè¡¨ç¾"}}getDefaultDialogue(){return{scenario:{type:"default",situation:"ã‚·ã‚¹ãƒ†ãƒ åˆæœŸçŠ¶æ…‹",context:"ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¯¾è©±",description:"åŸºæœ¬çš„ãª3ã¤ã®ä»®æƒ³äººæ ¼ã®ç´¹ä»‹"},participants:[{persona:{type:"engine",name:"å‰µé€ ã®æŽ¢æ¤œå®¶",symbol:"ðŸš€"},message:"æ–°ã—ã„å¯èƒ½æ€§ã‚’æŽ¢æ±‚ã—ã¾ã—ã‚‡ã†ï¼",strength:50,reliability:"medium"},{persona:{type:"interface",name:"èª¿å’Œã®æ©‹æ¸¡ã—",symbol:"ðŸ¤"},message:"å”åŠ›ã—ã¦ç´ æ™´ã‚‰ã—ã„ã‚‚ã®ã‚’ä½œã‚Šã¾ã—ã‚‡ã†",strength:50,reliability:"medium"},{persona:{type:"safemode",name:"æ…Žé‡ãªå®ˆè­·è€…",symbol:"ðŸ›¡ï¸"},message:"æ…Žé‡ã«è¨ˆç”»ã‚’ç«‹ã¦ã¦é€²ã‚ã¾ã—ã‚‡ã†",strength:50,reliability:"medium"}]}}async validateScenarios(){const e=Object.keys(this.dialogueScenarios);return console.log(`ðŸ“‹ Validating ${e.length} dialogue scenarios...`),!0}async setupPersonaVoices(){const e=Object.keys(this.personaVoices);return console.log(`ðŸŽ­ Setting up ${e.length} persona voices...`),!0}initializeSafeMode(){return console.log("âš ï¸ Initializing safe mode..."),this.isInitialized=!0,!0}getAvailableScenarios(){return Object.keys(this.dialogueScenarios).map(e=>({type:e,situation:this.dialogueScenarios[e].situation,context:this.dialogueScenarios[e].context}))}}"undefined"!=typeof window&&(window.VirtualPersonaDialogue=VirtualPersonaDialogue),"undefined"!=typeof module&&module.exports&&(module.exports=VirtualPersonaDialogue),console.log("âœ… VirtualPersonaDialogue loaded successfully with HaQei Philosophy")}("undefined"!=typeof window?window:global);