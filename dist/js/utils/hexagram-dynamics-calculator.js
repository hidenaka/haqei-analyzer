class HexagramDynamicsCalculator{constructor(){this.trigramProperties={1:{innovation:9,stability:7,cooperation:4,independence:10,intuition:6,resilience:8,adaptability:6,protection:9,support_seeking:2,introspection:4},2:{innovation:6,stability:5,cooperation:9,independence:4,intuition:8,resilience:5,adaptability:8,protection:4,support_seeking:8,introspection:6},3:{innovation:8,stability:4,cooperation:7,independence:7,intuition:9,resilience:6,adaptability:7,protection:5,support_seeking:6,introspection:8},4:{innovation:8,stability:3,cooperation:5,independence:8,intuition:7,resilience:7,adaptability:9,protection:6,support_seeking:4,introspection:5},5:{innovation:7,stability:6,cooperation:8,independence:5,intuition:8,resilience:6,adaptability:9,protection:4,support_seeking:7,introspection:7},6:{innovation:6,stability:8,cooperation:6,independence:6,intuition:10,resilience:9,adaptability:6,protection:8,support_seeking:5,introspection:9},7:{innovation:4,stability:10,cooperation:5,independence:8,intuition:6,resilience:8,adaptability:4,protection:9,support_seeking:3,introspection:8},8:{innovation:3,stability:9,cooperation:10,independence:2,intuition:5,resilience:7,adaptability:8,protection:6,support_seeking:9,introspection:6}}}calculateHexagramDynamics(i,e,t=null){const n=this.trigramProperties[i],o=this.trigramProperties[e];if(!n||!o)return console.warn(`‚ö†Ô∏è Invalid trigram IDs: upper=${i}, lower=${e}`),t?this.generateContextualFallback(i,e,t):this.getZeroScores();const r=.7,a=.3;return{innovation_score:this.normalizeScore(n.innovation*r+o.innovation*a),stability_score:this.normalizeScore(n.stability*r+o.stability*a),cooperation_score:this.normalizeScore(n.cooperation*r+o.cooperation*a),independence_score:this.normalizeScore(n.independence*r+o.independence*a),intuition_score:this.normalizeScore(n.intuition*r+o.intuition*a),resilience_score:this.normalizeScore(n.resilience*r+o.resilience*a),adaptability_score:this.normalizeScore(n.adaptability*r+o.adaptability*a),protection_score:this.normalizeScore(n.protection*r+o.protection*a),support_seeking_score:this.normalizeScore(n.support_seeking*r+o.support_seeking*a),introspection_score:this.normalizeScore(n.introspection*r+o.introspection*a)}}normalizeScore(i){const e=Math.max(0,Math.min(10,i));return Math.round(10*e)/10}getZeroScores(){return{innovation_score:0,stability_score:0,cooperation_score:0,independence_score:0,intuition_score:0,resilience_score:0,adaptability_score:0,protection_score:0,support_seeking_score:0,introspection_score:0}}generateAllHexagramDynamics(){const i={};for(let e=1;e<=8;e++)for(let t=1;t<=8;t++){i[8*(e-1)+t]=this.calculateHexagramDynamics(e,t)}return i}getHexagramDynamics(i){const e=Math.ceil(i/8),t=(i-1)%8+1;return this.calculateHexagramDynamics(e,t)}logCalculationDetails(i){const e=Math.ceil(i/8),t=(i-1)%8+8,n=this.getHexagramDynamics(i);return console.log(`üî¨ Hexagram ${i} Dynamics:`,{upperTrigram:e,lowerTrigram:t,dynamics:n}),n}generateContextualFallback(i,e,t){if(console.log(`üîß [HexagramDynamics] „Ç≥„É≥„ÉÜ„Ç≠„Çπ„ÉàÁµ±Âêà„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÁîüÊàê‰∏≠ (${i}-${e})`),t.userVector){const n={},o=t.userVector;return Object.keys(this.getZeroScores()).forEach(t=>{const r=o[t]||o[`dimension_${t}`];n[t]=void 0!==r?Math.round(10*r):this.estimateFromTrigramId(i,e,t)}),console.log("‚úÖ [HexagramDynamics] „É¶„Éº„Ç∂„Éº„Éô„ÇØ„Éà„É´Áµ±Âêà„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÂÆå‰∫Ü"),n}return t.triple_os_integrated?this.generateTripleOSIntegratedFallback(i,e):this.generateEstimatedFallback(i,e)}estimateFromTrigramId(i,e,t){const n={1:{innovation:8,stability:6,cooperation:4,independence:9,intuition:6,resilience:8,adaptability:6,protection:8,support_seeking:3,introspection:5},2:{innovation:6,stability:5,cooperation:9,independence:4,intuition:8,resilience:5,adaptability:8,protection:4,support_seeking:8,introspection:6},3:{innovation:8,stability:4,cooperation:7,independence:7,intuition:9,resilience:6,adaptability:7,protection:5,support_seeking:6,introspection:8},4:{innovation:8,stability:3,cooperation:5,independence:8,intuition:7,resilience:7,adaptability:9,protection:6,support_seeking:4,introspection:5},5:{innovation:7,stability:6,cooperation:8,independence:5,intuition:8,resilience:6,adaptability:9,protection:4,support_seeking:7,introspection:7},6:{innovation:6,stability:8,cooperation:6,independence:6,intuition:10,resilience:9,adaptability:6,protection:8,support_seeking:5,introspection:9},7:{innovation:4,stability:10,cooperation:5,independence:8,intuition:6,resilience:8,adaptability:4,protection:9,support_seeking:3,introspection:8},8:{innovation:3,stability:9,cooperation:10,independence:2,intuition:5,resilience:7,adaptability:8,protection:6,support_seeking:9,introspection:6}},o=n[i]||{},r=n[e]||{};return Math.round(.7*(o[t]||5)+.3*(r[t]||5))}generateTripleOSIntegratedFallback(i,e){console.log("üîß [HexagramDynamics] Triple OSÁµ±Âêà„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÁîüÊàê‰∏≠");const t={innovation:.2,adaptability:.3,cooperation:.15,introspection:.25},n=this.generateEstimatedFallback(i,e);return Object.keys(t).forEach(i=>{if(void 0!==n[i]){const e=t[i];n[i]=Math.min(10,Math.round(n[i]*(1+e)))}}),n}generateEstimatedFallback(i,e){const t={};return Object.keys(this.getZeroScores()).forEach(n=>{t[n]=this.estimateFromTrigramId(i,e,n)}),t}getZeroScores(){return{innovation:0,stability:0,cooperation:0,independence:0,intuition:0,resilience:0,adaptability:0,protection:0,support_seeking:0,introspection:0}}}"undefined"!=typeof window&&(window.HexagramDynamicsCalculator=HexagramDynamicsCalculator),"undefined"!=typeof module&&module.exports&&(module.exports=HexagramDynamicsCalculator);