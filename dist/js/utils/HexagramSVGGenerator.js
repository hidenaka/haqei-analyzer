class HexagramSVGGenerator{constructor(){this.hexagramStructures=this.initializeHexagramStructures()}initializeHexagramStructures(){return{1:{lines:["yang","yang","yang","yang","yang","yang"],name:"乾為天"},2:{lines:["yin","yin","yin","yin","yin","yin"],name:"坤為地"},3:{lines:["yang","yin","yin","yin","yang","yin"],name:"水雷屯"},4:{lines:["yin","yang","yin","yin","yin","yang"],name:"山水蒙"},5:{lines:["yang","yang","yin","yang","yang","yang"],name:"水天需"},6:{lines:["yang","yang","yang","yin","yang","yang"],name:"天水訟"},7:{lines:["yin","yang","yin","yin","yin","yin"],name:"地水師"},8:{lines:["yin","yin","yin","yin","yang","yin"],name:"水地比"},9:{lines:["yang","yang","yang","yang","yin","yang"],name:"風天小畜"},10:{lines:["yang","yang","yin","yang","yang","yang"],name:"天沢履"},11:{lines:["yang","yang","yang","yin","yin","yin"],name:"地天泰"},12:{lines:["yin","yin","yin","yang","yang","yang"],name:"天地否"},13:{lines:["yang","yin","yang","yang","yang","yang"],name:"天火同人"},14:{lines:["yang","yang","yang","yang","yin","yang"],name:"火天大有"},15:{lines:["yin","yin","yang","yin","yin","yin"],name:"地山謙"},16:{lines:["yin","yin","yin","yang","yin","yin"],name:"雷地豫"},17:{lines:["yang","yin","yin","yin","yin","yang"],name:"沢雷随"},18:{lines:["yang","yin","yin","yin","yin","yang"],name:"山風蠱"},19:{lines:["yang","yang","yin","yin","yin","yin"],name:"地沢臨"},20:{lines:["yin","yin","yin","yin","yang","yang"],name:"風地観"},21:{lines:["yang","yin","yin","yang","yin","yin"],name:"火雷噬嗑"},22:{lines:["yin","yin","yang","yin","yin","yang"],name:"山火賁"},23:{lines:["yin","yin","yin","yin","yin","yang"],name:"山地剥"},24:{lines:["yang","yin","yin","yin","yin","yin"],name:"地雷復"},25:{lines:["yang","yin","yin","yang","yang","yang"],name:"天雷無妄"},26:{lines:["yang","yang","yang","yang","yin","yin"],name:"山天大畜"},27:{lines:["yang","yin","yin","yin","yin","yang"],name:"山雷頤"},28:{lines:["yin","yang","yang","yang","yang","yin"],name:"沢風大過"},29:{lines:["yin","yang","yin","yin","yang","yin"],name:"坎為水"},30:{lines:["yang","yin","yang","yang","yin","yang"],name:"離為火"},31:{lines:["yin","yin","yang","yang","yin","yin"],name:"沢山咸"},32:{lines:["yin","yin","yang","yang","yin","yin"],name:"雷風恒"},33:{lines:["yin","yin","yang","yang","yang","yang"],name:"天山遯"},34:{lines:["yang","yang","yang","yang","yin","yin"],name:"雷天大壮"},35:{lines:["yin","yin","yin","yang","yin","yang"],name:"火地晋"},36:{lines:["yang","yin","yang","yin","yin","yin"],name:"地火明夷"},37:{lines:["yang","yin","yang","yang","yin","yang"],name:"風火家人"},38:{lines:["yang","yin","yang","yang","yin","yang"],name:"火沢睽"},39:{lines:["yin","yang","yin","yin","yin","yang"],name:"水山蹇"},40:{lines:["yang","yin","yin","yin","yang","yin"],name:"雷水解"},41:{lines:["yang","yang","yin","yin","yin","yang"],name:"山沢損"},42:{lines:["yang","yin","yin","yin","yang","yang"],name:"風雷益"},43:{lines:["yang","yang","yang","yang","yang","yin"],name:"沢天夬"},44:{lines:["yin","yang","yang","yang","yang","yang"],name:"天風姤"},45:{lines:["yin","yin","yin","yin","yin","yang"],name:"沢地萃"},46:{lines:["yang","yin","yin","yin","yin","yang"],name:"地風升"},47:{lines:["yin","yang","yin","yin","yin","yang"],name:"沢水困"},48:{lines:["yang","yin","yin","yin","yang","yin"],name:"水風井"},49:{lines:["yang","yin","yang","yin","yin","yang"],name:"沢火革"},50:{lines:["yang","yin","yin","yang","yin","yang"],name:"火風鼎"},51:{lines:["yang","yin","yin","yang","yin","yin"],name:"震為雷"},52:{lines:["yin","yin","yang","yin","yin","yang"],name:"艮為山"},53:{lines:["yang","yin","yin","yang","yin","yang"],name:"風山漸"},54:{lines:["yang","yin","yang","yin","yin","yang"],name:"雷沢帰妹"},55:{lines:["yang","yin","yang","yang","yin","yin"],name:"雷火豊"},56:{lines:["yin","yin","yang","yang","yin","yang"],name:"火山旅"},57:{lines:["yang","yin","yang","yang","yin","yang"],name:"巽為風"},58:{lines:["yang","yin","yin","yang","yin","yin"],name:"兌為沢"},59:{lines:["yang","yin","yang","yin","yang","yin"],name:"風水渙"},60:{lines:["yin","yang","yin","yin","yin","yang"],name:"水沢節"},61:{lines:["yang","yang","yin","yin","yang","yang"],name:"風沢中孚"},62:{lines:["yin","yin","yang","yang","yin","yin"],name:"雷山小過"},63:{lines:["yang","yin","yang","yin","yang","yin"],name:"水火既済"},64:{lines:["yin","yang","yin","yang","yin","yang"],name:"火水未済"}}}generateSVG(n,a={}){const{width:i=100,height:y=200,strokeWidth:e=3,lineSpacing:g=25,startY:t=30,className:s="hexagram-lines",animated:l=!0}=a,r=this.getHexagramStructure(n);if(!r)return console.warn(`Hexagram ${n} not found, using default`),this.generateDefaultSVG(a);const m=r.lines.map((n,a)=>this.generateLine(n,a,{width:i,strokeWidth:e,lineSpacing:g,startY:t,animated:l})).join("");return`\n      <svg viewBox="0 0 ${i} ${y}" class="${s}" data-hexagram-id="${n}">\n        <title>${r.name}</title>\n        <desc>卦象：${r.name} (第${n}卦)</desc>\n        ${m}\n      </svg>\n    `}generateLine(n,a,i={}){const{width:y=100,strokeWidth:e=3,lineSpacing:g=25,startY:t=30,animated:s=!0}=i,l=t+(5-a)*g,r=.2*y,m=r,o=y-r,d=y/2,h=.1*y,c=s?{"stroke-dasharray":"60","stroke-dashoffset":"60",class:`${n}-line animated-line`}:{class:`${n}-line`};return"yang"===n?`\n        <line \n          x1="${m}" \n          y1="${l}" \n          x2="${o}" \n          y2="${l}" \n          stroke="currentColor" \n          stroke-width="${e}"\n          stroke-linecap="round"\n          ${Object.entries(c).map(([n,a])=>`${n}="${a}"`).join(" ")}\n        />\n      `:`\n        <line \n          x1="${m}" \n          y1="${l}" \n          x2="${d-h/2}" \n          y2="${l}" \n          stroke="currentColor" \n          stroke-width="${e}"\n          stroke-linecap="round"\n          ${Object.entries(c).map(([n,a])=>`${n}="${a}"`).join(" ")}\n        />\n        <line \n          x1="${d+h/2}" \n          y1="${l}" \n          x2="${o}" \n          y2="${l}" \n          stroke="currentColor" \n          stroke-width="${e}"\n          stroke-linecap="round"\n          ${Object.entries(c).map(([n,a])=>`${n}="${a}"`).join(" ")}\n        />\n      `}generateDefaultSVG(n={}){const{width:a=100,height:i=200,className:y="hexagram-lines"}=n;return`\n      <svg viewBox="0 0 ${a} ${i}" class="${y}">\n        <title>デフォルト卦</title>\n        <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle" \n              fill="currentColor" font-size="12">卦</text>\n      </svg>\n    `}getHexagramStructure(n){return this.hexagramStructures[n]||null}generateBackgroundSVG(n,a={}){const{opacity:i=.1,size:y=300,className:e="hexagram-background"}=a;return this.generateSVG(n,{width:y,height:2*y,strokeWidth:4,lineSpacing:y/8,startY:y/6,className:e,animated:!0}).replace("<svg",`<svg style="opacity: ${i}"`)}generateCombinedSVG(n,a={}){const{spacing:i=120,containerWidth:y=n.length*i}=a;return`\n      <svg viewBox="0 0 ${y} 200" class="combined-hexagrams">\n        ${n.map((n,y)=>`<g transform="translate(${y*i}, 0)">${this.generateSVG(n,{...a,animated:!1}).replace(/<svg[^>]*>|<\/svg>/g,"")}</g>`).join("")}\n      </svg>\n    `}getHexagramName(n){const a=this.getHexagramStructure(n);return a?a.name:"未定義"}getAllHexagrams(){return Object.keys(this.hexagramStructures).map(n=>({id:parseInt(n),name:this.hexagramStructures[n].name,lines:this.hexagramStructures[n].lines}))}generateAnimationCSS(){return"\n      .animated-line {\n        animation: drawHexagramLine 1s ease-out forwards;\n      }\n      \n      .yang-line:nth-child(1) { animation-delay: 0s; }\n      .yang-line:nth-child(2) { animation-delay: 0.2s; }\n      .yang-line:nth-child(3) { animation-delay: 0.4s; }\n      .yang-line:nth-child(4) { animation-delay: 0.6s; }\n      .yang-line:nth-child(5) { animation-delay: 0.8s; }\n      .yang-line:nth-child(6) { animation-delay: 1s; }\n      \n      .yin-line:nth-child(1) { animation-delay: 0s; }\n      .yin-line:nth-child(2) { animation-delay: 0.1s; }\n      .yin-line:nth-child(3) { animation-delay: 0.2s; }\n      .yin-line:nth-child(4) { animation-delay: 0.3s; }\n      .yin-line:nth-child(5) { animation-delay: 0.4s; }\n      .yin-line:nth-child(6) { animation-delay: 0.5s; }\n      \n      @keyframes drawHexagramLine {\n        to {\n          stroke-dashoffset: 0;\n        }\n      }\n      \n      .hexagram-background {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: -1;\n        pointer-events: none;\n      }\n    "}}"undefined"!=typeof window&&(window.HexagramSVGGenerator=HexagramSVGGenerator);