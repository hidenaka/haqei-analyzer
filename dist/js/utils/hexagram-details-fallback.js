class HexagramDetailsFallback{constructor(){this.trigramCharacteristics={1:{engineStrengths:["ÂâµÈÄ†ÊÄß„Å®Èù©Êñ∞Âäõ","Âº∑„ÅÑ„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó","‰∏çÂ±à„ÅÆÁ≤æÁ•ûÂäõ"],engineWeaknesses:["ÂÆåÁíß‰∏ªÁæ©„ÅÆÂÇæÂêë","‰ªñËÄÖ„Å∏„ÅÆÈÖçÊÖÆ‰∏çË∂≥","ÈÅéÂ∫¶„Å™„Éó„É¨„ÉÉ„Ç∑„É£„Éº"],interfaceBehaviors:["Á©çÊ•µÁöÑ„Å™ÊÑèË¶ãË°®Êòé","Âõ∞Èõ£„Å™„Çø„Çπ„ÇØ„Å∏„ÅÆÁéáÂÖàÂØæÂøú","„Éì„Ç∏„Éß„É≥„ÅÆÊòéÁ¢∫„Å™ÊèêÁ§∫"],safeModePatterns:["Áã¨Êñ≠ÁöÑ„Å™Ê±∫ÂÆö","‰ªñËÄÖ„ÅÆ‰ªãÂÖ•ÊãíÁµ∂","Â≠§Á´ãÂÇæÂêë"]},2:{engineStrengths:["ÂÑ™„Çå„Åü„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥ËÉΩÂäõ","Á§æ‰∫§ÊÄß„Å®Ë¶™„Åó„Åø„ÇÑ„Åô„Åï","Ê•ΩË¶≥ÁöÑ„Å™Áô∫ÊÉ≥Âäõ"],engineWeaknesses:["‰∏ÄË≤´ÊÄß„ÅÆÊ¨†Â¶Ç","Ë°®Èù¢ÁöÑ„Å™Èñ¢‰øÇÊÄß","ËªΩÁéá„Å™Âà§Êñ≠"],interfaceBehaviors:["Êòé„Çã„ÅÑÈõ∞Âõ≤Ê∞ó‰Ωú„Çä","Á©çÊ•µÁöÑ„Å™ÂØæË©±","‰∫∫ÈñìÈñ¢‰øÇ„ÅÆÊ©ãÊ∏°„Åó"],safeModePatterns:["ÈÅéÂ∫¶„Å™ÊÑõÊÉ≥Á¨ë„ÅÑ","Êú¨ÂøÉ„ÅÆÈö†ËîΩ","ÂÖ´ÊñπÁæé‰∫∫ÁöÑË°åÂãï"]},3:{engineStrengths:["Èã≠„ÅÑÊ¥ûÂØüÂäõ","ÊÉÖÁÜ±ÁöÑ„Å™Ë°®ÁèæÂäõ","ÁæéÁöÑ„Çª„É≥„Çπ"],engineWeaknesses:["ÊÑüÊÉÖ„ÅÆËµ∑‰ºè","‰æùÂ≠òÁöÑÂÇæÂêë","„Éó„É©„Ç§„Éâ„ÅÆÈ´ò„Åï"],interfaceBehaviors:["Áü•ÁöÑ„Å™Ë≠∞Ë´ñ","ÂâµÈÄ†ÁöÑ„Å™ÊèêÊ°à","ÊÑüÊÉÖË±ä„Åã„Å™Ë°®Áèæ"],safeModePatterns:["Ê≥®ÁõÆ„ÇíÊ±Ç„ÇÅ„ÇãË°åÂãï","ÊÑüÊÉÖÁöÑ„Å™ÂèçÂøú","ËèØ„ÇÑ„Åã„Åï„Å∏„ÅÆÂõ∫Âü∑"]},4:{engineStrengths:["Áû¨Áô∫Âäõ„Å®Ë°åÂãïÂäõ","Â§âÂåñ„Å∏„ÅÆÈÅ©ÂøúÂäõ","Âõ∞Èõ£Á™ÅÁ†¥Âäõ"],engineWeaknesses:["Ë°ùÂãïÊÄß","Ë®àÁîªÊÄß„ÅÆ‰∏çË∂≥","ÊåÅÁ∂öÂäõ„ÅÆÊ¨†Â¶Ç"],interfaceBehaviors:["„Ç®„Éç„É´„ÇÆ„ÉÉ„Ç∑„É•„Å™Ë°åÂãï","ËøÖÈÄü„Å™Ê±∫Êñ≠","Â§âÂåñ„ÅÆÂÖàÂ∞é"],safeModePatterns:["Áü≠Ê∞ó„Å™ÂèçÂøú","Ë®àÁîª„Å™„Åó„ÅÆË°åÂãï","Ê∑∑‰π±ÊôÇ„ÅÆ„Éë„Éã„ÉÉ„ÇØ"]},5:{engineStrengths:["ÊüîËªüÊÄß„Å®ÈÅ©ÂøúÂäõ","ÂçîË™øÊÄß","Á∂ôÁ∂öÁöÑ„Å™Âä™Âäõ"],engineWeaknesses:["ÂÑ™Êüî‰∏çÊñ≠","Ëá™Â∑±‰∏ªÂºµ„ÅÆÂº±„Åï","ÊµÅ„Åï„Çå„ÇÑ„Åô„Åï"],interfaceBehaviors:["Á©è„ÇÑ„Åã„Å™Ë™øÊï¥","‰∫∫„Å´Âêà„Çè„Åõ„ÇãÂßøÂã¢","Èùô„Åã„Å™ÂΩ±ÈüøÂäõ"],safeModePatterns:["Ê±∫Êñ≠ÂõûÈÅø","Ë≤¨‰ªªËª¢Â´Å","ÊõñÊòß„Å™ÊÖãÂ∫¶"]},6:{engineStrengths:["Ê∑±„ÅÑÊÄùËÄÉÂäõ","Êé¢Á©∂ÂøÉ","Âõ∞Èõ£„Å∏„ÅÆËÄêÊÄß"],engineWeaknesses:["ÊÇ≤Ë¶≥ÁöÑÊÄùËÄÉ","Â≠§Á´ãÂÇæÂêë","„É™„Çπ„ÇØÂõûÈÅø"],interfaceBehaviors:["ÊÖéÈáç„Å™Áô∫Ë®Ä","Ê∑±„ÅÑÊ¥ûÂØü„ÅÆÊèê‰æõ","ÂïèÈ°å„ÅÆÊú¨Ë≥™ËøΩÊ±Ç"],safeModePatterns:["ÊÇ≤Ë¶≥ÁöÑ„Å™‰∫àÊ∏¨","Âºï„Åç„Åì„ÇÇ„Çä","ÈÅéÂ∫¶„Å™ÂøÉÈÖç"]},7:{engineStrengths:["ÂÆâÂÆöÊÄß„Å®‰ø°È†ºÊÄß","ÊÖéÈáç„Å™Âà§Êñ≠Âäõ","ÂøçËÄêÂäõ"],engineWeaknesses:["È†ëÂõ∫„Åï","Â§âÂåñ„Å∏„ÅÆÊäµÊäó","‰øùÂÆàÁöÑÊÄùËÄÉ"],interfaceBehaviors:["ÂÆâÂÆö„Åó„ÅüÂØæÂøú","ÊÖéÈáç„Å™ÊÑèË¶ã","Á¢∫ÂÆü„Å™ÂÆüË°å"],safeModePatterns:["È†ëÂõ∫„Å™ÊÖãÂ∫¶","Â§âÂåñÊãíÁµ∂","Â≠§Á´ãÂåñ"]},8:{engineStrengths:["ÂåÖÂÆπÂäõ","ÊîØÊè¥ËÉΩÂäõ","ÊåÅÁ∂öÁöÑ„Å™Âä™Âäõ"],engineWeaknesses:["Ëá™Â∑±‰∏ªÂºµ„ÅÆÂº±„Åï","ÈÅéÂ∫¶„Å™ÁåÆË∫´","Â¢ÉÁïåÁ∑ö„ÅÆÊõñÊòß„Åï"],interfaceBehaviors:["ÊîØÊè¥ÁöÑ„Å™Ë°åÂãï","Ë™øÂíå„ÇíÈáçË¶ñ„Åó„ÅüÂØæÂøú","ÂèóÂÆπÁöÑ„Å™ÊÖãÂ∫¶"],safeModePatterns:["Ëá™Â∑±Áä†Áâ≤","Â¢ÉÁïåÁ∑ö„ÅÆÂñ™Â§±","ÈÅéÂ∫¶„Å™ÊàëÊÖ¢"]}},this.coreDrivePatterns={pure:{1:"ÂâµÈÄ†„Å®Èù©Êñ∞„ÇíÈÄö„Åò„Å¶‰∏ñÁïå„Å´ÂΩ±Èüø„Çí‰∏é„Åà„Çã„Åì„Å®",2:"‰∫∫„ÄÖ„Å®„ÅÆ‰∫§ÊµÅ„Å®Âñú„Å≥„ÅÆÂÖ±Êúâ",3:"Áü•ÊÄß„Å®Áæé„ÇíÈÄö„Åò„ÅüËá™Â∑±Ë°®Áèæ",4:"Â§âÂåñ„Å®ÊåëÊà¶„ÇíÈÄö„Åò„ÅüÊàêÈï∑",5:"Ë™øÂíå„Å®ÂçîÂäõ„Å´„Çà„Çã‰æ°ÂÄ§ÂâµÈÄ†",6:"Ê∑±„ÅÑÊé¢Ê±Ç„Å´„Çà„ÇãÁúüÁêÜ„ÅÆÁô∫Ë¶ã",7:"ÂÆâÂÆö„Å®Á∂ôÁ∂ö„Å´„Çà„Çã‰æ°ÂÄ§„ÅÆ‰øùÂÖ®",8:"ÊîØÊè¥„Å®ËÇ≤Êàê„Å´„Çà„Çã‰ªñËÄÖ„ÅÆÊàêÈï∑‰øÉÈÄ≤"},opposite:{"1-8":"ÂâµÈÄ†Âäõ„Å®ÂèóÂÆπÊÄß„ÅÆË™øÂíå„Å´„Çà„ÇãÂåÖÊã¨ÁöÑ„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó","2-7":"Á§æ‰∫§ÊÄß„Å®ÂÆâÂÆöÊÄß„ÅÆÁµÑ„ÅøÂêà„Çè„Åõ„Å´„Çà„Çã‰ø°È†ºÈñ¢‰øÇÊßãÁØâ","3-6":"Ê¥ûÂØüÂäõ„Å®Êé¢Ê±ÇÂøÉ„ÅÆËûçÂêà„Å´„Çà„ÇãÊ∑±„ÅÑÁêÜËß£Âäõ","4-5":"Ë°åÂãïÂäõ„Å®ÂçîË™øÊÄß„ÅÆ„Éê„É©„É≥„Çπ„Å´„Çà„ÇãÂäπÊûúÁöÑ„Å™Â§âÈù©"},mixed:"Ë§áÊï∞„ÅÆ‰æ°ÂÄ§Ë¶≥„ÅÆÁµ±Âêà„Å´„Çà„ÇãÁã¨Ëá™„ÅÆ‰∏ñÁïåË¶≥„ÅÆÊßãÁØâ"}}generateHexagramDetails(e,n,t=null){try{if(window.HEXAGRAM_DETAILS&&window.HEXAGRAM_DETAILS[e])return window.HEXAGRAM_DETAILS[e];const r=this.integrateOSAnalysisContext(t,e),a=n.upper_trigram_id,s=n.lower_trigram_id;return this.generateFallbackDetails(e,n,a,s,r)}catch(r){return console.warn(`‚ö†Ô∏è „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÁîüÊàê„Ç®„É©„Éº (Âç¶${e}):`,r),this.generateBasicFallback(e,n,t)}}integrateOSAnalysisContext(e,n){if(!e)return null;try{let t=e;if("string"==typeof e&&(t=JSON.parse(e)),t&&(t.engineOS||t.interfaceOS||t.safeModeOS))return console.log(`üîó [HexagramDetailsFallback] OSÂàÜÊûêÁµêÊûú„ÇíÁµ±Âêà (Âç¶${n})`),{engineOS:t.engineOS,interfaceOS:t.interfaceOS,safeModeOS:t.safeModeOS,userVector:t.userVector,integrated:!0};if(window.storageManager){const e=window.storageManager.getAnalysisResult();if(e&&e.engineOS)return console.log(`üîÑ [HexagramDetailsFallback] StorageManager„Åã„ÇâÂàÜÊûêÁµêÊûú„ÇíÂèñÂæó (Âç¶${n})`),{engineOS:e.engineOS,interfaceOS:e.interfaceOS,safeModeOS:e.safeModeOS,userVector:e.userVector,integrated:!0}}return null}catch(t){return console.warn("‚ö†Ô∏è [HexagramDetailsFallback] OSÂàÜÊûêÁµêÊûúÁµ±Âêà„Ç®„É©„Éº:",t),null}}generateFallbackDetails(e,n,t,r,a=null){const s=this.trigramCharacteristics[t],i=this.trigramCharacteristics[r];let o=null,l=null,c=null;a&&a.integrated&&(console.log(`üéØ [HexagramDetailsFallback] „Éë„Éº„ÇΩ„Éä„É©„Ç§„Ç∫ÁîüÊàêÈñãÂßã (Âç¶${e})`),o=this.generatePersonalizedEngine(a,s,i),l=this.generatePersonalizedInterface(a,s,i),c=this.generatePersonalizedSafeMode(a,s,i));const g=o||{strength_meter:this.calculateStrengthMeter(t,r),core_drive:this.generateCoreDrive(t,r),potential_strengths:this.combineStrengths(s,i),potential_weaknesses:this.combineWeaknesses(s,i)},h=l||{how_it_appears:this.generateAppearance(t,r),behavioral_patterns:this.combineBehaviors(s,i),impression_on_others:this.generateImpression(t,r)},d=c||{trigger_situations:this.generateTriggers(t,r),defensive_patterns:this.combineDefensivePatterns(s,i),internal_state:this.generateInternalState(t,r)},p={upper:this.getTrigramInfo(t),lower:this.getTrigramInfo(r)},m=a?this.generateTripleOSCatchphrase(a,n,t,r):n.catchphrase||"Ê∑±„ÅÑÊô∫ÊÖß„ÇíÊåÅ„Å§‰∫∫";return{name_jp:n.name_jp||`Á¨¨${e}Âç¶`,catchphrase:m,description:n.description||`${n.name_jp}„ÅÆÂç¶„ÅØ„ÄÅÁã¨Áâπ„Å™‰æ°ÂÄ§Ë¶≥„Å®Ê∑±„ÅÑÊ¥ûÂØüÂäõ„ÇíÊåÅ„Å§Â≠òÂú®„Åß„Åô„ÄÇ`,keywords:n.keywords?n.keywords.split(","):["ÊàêÈï∑","Â§âÂåñ","Ë™øÂíå"],engine:g,interface:h,safe_mode:d,trigrams:p,triple_os_enhanced:!!a,generation_quality:a?.9:.7}}generatePersonalizedEngine(e,n,t){const r=e.userVector||{},a=e.engineOS||{},s=this.extractPersonalizedStrengths(r,n,t),i=Math.round(1.2*(a.compatibilityScore||75));return{strength_meter:Math.min(i,100),core_drive:this.generatePersonalizedCoreDrive(e),potential_strengths:s,potential_weaknesses:this.generatePersonalizedWeaknesses(r,n,t),personalized:!0}}generatePersonalizedInterface(e,n,t){e.interfaceOS;return{how_it_appears:this.generatePersonalizedAppearance(e),behavioral_patterns:this.generatePersonalizedBehaviors(e,n,t),impression_on_others:this.generatePersonalizedImpression(e),personalized:!0}}generatePersonalizedSafeMode(e,n,t){e.safeModeOS;return{trigger_situations:this.generatePersonalizedTriggers(e),defensive_patterns:this.generatePersonalizedDefensivePatterns(e,n,t),internal_state:this.generatePersonalizedInternalState(e),personalized:!0}}extractPersonalizedStrengths(e,n,t){const r=[];return Object.entries(e).sort(([,e],[,n])=>n-e).slice(0,3).forEach(([e,n])=>{if(n>.6){const n={innovation:"Èù©Êñ∞ÁöÑ„Å™Áô∫ÊÉ≥Âäõ",stability:"ÂÆâÂÆö„Åó„ÅüÁ∂ôÁ∂öÂäõ",cooperation:"ÂÑ™„Çå„ÅüÂçîË™øÊÄß",independence:"Ëá™Á´ã„Åó„ÅüË°åÂãïÂäõ",intuition:"Èã≠„ÅÑÁõ¥ÊÑüÂäõ",resilience:"Âõ∞Èõ£„Å∏„ÅÆËÄê‰πÖÂäõ",adaptability:"ÊüîËªü„Å™ÈÅ©ÂøúÂäõ",protection:"‰ªñËÄÖ„ÇíÂÆà„ÇãÂäõ"},t=n[e.split("_")[1]]||n[e];t&&r.push(t)}}),n&&n.engineStrengths&&r.push(...n.engineStrengths.slice(0,1)),r.length>0?r.slice(0,3):["Áã¨Áâπ„Å™Ë¶ñÁÇπ","Ê∑±„ÅÑÊÄùËÄÉÂäõ","‰æ°ÂÄ§Ë¶≥„Å∏„ÅÆÂø†ÂÆü„Åï"]}generateTripleOSCatchphrase(e,n,t,r){const a=e.engineOS?.osName||"",s=e.interfaceOS?.osName||"",i=(e.safeModeOS,{"ÂâµÈÄ†":"Êñ∞„Åó„ÅÑÂèØËÉΩÊÄß„ÇíÂàá„ÇäÊãì„ÅèÈù©Êñ∞ËÄÖ","Áõ¥ÊÑü":"Ê∑±„ÅÑÊ¥ûÂØü„ÅßÁúüÁêÜ„ÇíË¶ãÊäú„ÅèË≥¢ËÄÖ","Ë°åÂãï":"Ëø∑„ÅÑ„Å™„ÅèÂâçÈÄ≤„Åô„ÇãÂÆüË∑µËÄÖ","Ë™øÂíå":"‰∫∫„ÄÖ„ÇíÁµê„Å∂Êû∂„ÅëÊ©ã„Å®„Å™„ÇãÂ≠òÂú®","ÊîØÊè¥":"‰ªñËÄÖ„ÅÆÊàêÈï∑„ÇíÊîØ„Åà„ÇãËÇ≤ÊàêËÄÖ","ÂèóÂÆπ":"ÂåÖÂÆπÂäõ„ÅßÂÆâÂøÉ„Çí‰∏é„Åà„ÇãÁôí„ÅóÊâã","ÂÆâÂÆö":"Á¢∫Âõ∫„Åü„Çã‰ø°Âøµ„ÇíÊåÅ„Å§Â†ÖÂÆüËÄÖ","Á∂ôÁ∂ö":"Âú∞ÈÅì„Å™Âä™Âäõ„Åß‰æ°ÂÄ§„ÇíÁØâ„ÅèÂª∫Ë®≠ËÄÖ","‰øùË≠∑":"Â§ßÂàá„Å™„ÇÇ„ÅÆ„ÇíÂÆà„ÇäÊäú„ÅèÂÆàË≠∑ËÄÖ"});let o=n.catchphrase||"Ê∑±„ÅÑÊô∫ÊÖß„ÇíÊåÅ„Å§‰∫∫";for(const[l,c]of Object.entries(i))if(a.includes(l)||s.includes(l)){o=c;break}return o}generatePersonalizedCoreDrive(e){return`${e.engineOS?.osName||""}„ÇíÈÄö„Åò„Å¶Ëá™ÂàÜ„Çâ„Åó„ÅÑ‰æ°ÂÄ§„Çí‰∏ñÁïå„Å´Ë°®Áèæ„Åô„Çã„Åì„Å®`}generatePersonalizedWeaknesses(e,n,t){const r=Object.entries(e||{}).filter(([,e])=>e<.4).slice(0,2),a={innovation:"Êñ∞„Åó„ÅÑÂ§âÂåñ„Å∏„ÅÆË∫äË∫á",stability:"Á∂ôÁ∂öÁöÑ„Å™Âèñ„ÇäÁµÑ„Åø„ÅÆÂõ∞Èõ£",cooperation:"‰ªñËÄÖ„Å®„ÅÆÂçîÂÉç„ÅÆÈõ£„Åó„Åï",independence:"Ëá™Á´ã„Åó„ÅüÊ±∫Êñ≠„Å∏„ÅÆ‰∏çÂÆâ"},s=r.map(([e])=>a[e.split("_")[1]]||a[e]).filter(Boolean);return s.length>0?s:["ÁêÜÊÉ≥„Å®ÁèæÂÆü„ÅÆ„ÇÆ„É£„ÉÉ„Éó","‰ªñËÄÖ„Å®„ÅÆ‰æ°ÂÄ§Ë¶≥„ÅÆÈÅï„ÅÑ"]}generatePersonalizedAppearance(e){return`${e.interfaceOS?.osName||""}„ÅÆÁâπÊÄß„ÇíÊ¥ª„Åã„Åó„ÅüËá™ÁÑ∂„Å™Â≠òÂú®ÊÑü`}generatePersonalizedBehaviors(e,n,t){const r=[`${e.interfaceOS?.osName||""}„Å´Âü∫„Å•„Åè‰∏ÄË≤´„Åó„ÅüË°åÂãï`];return n&&n.interfaceBehaviors&&r.push(...n.interfaceBehaviors.slice(0,2)),r}generatePersonalizedImpression(e){return`${e.interfaceOS?.osName||""}„Çâ„Åó„ÅÑÂç∞Ë±°„Çí‰∏é„Åà„Çã„ÄÅ‰ø°È†º„Åß„Åç„Çã‰∫∫Áâ©`}generatePersonalizedTriggers(e){return[`${e.safeModeOS?.osName||""}„ÅÆÁâπÊÄß„ÅåËÑÖ„Åã„Åï„Çå„ÇãÁä∂Ê≥Å`,"‰æ°ÂÄ§Ë¶≥„ÅåÁêÜËß£„Åï„Çå„Å™„ÅÑÊôÇ","ÈÅéÂ∫¶„Å™„Éó„É¨„ÉÉ„Ç∑„É£„Éº„ÇíÊÑü„Åò„ÅüÊôÇ"]}generatePersonalizedDefensivePatterns(e,n,t){const r=[`${e.safeModeOS?.osName||""}„Å´„Çà„ÇãËá™Â∑±Èò≤Âæ°Ë°åÂãï`];return n&&n.safeModePatterns&&r.push(...n.safeModePatterns.slice(0,2)),r}generatePersonalizedInternalState(e){return`${e.safeModeOS?.osName||""}„ÅåÂÉç„ÅÑ„Å¶„ÅÑ„ÇãÊôÇ„ÅÆÂÜÖ„Å™„ÇãËëõËó§„Å®Ëá™Â∑±‰øùË≠∑„ÅÆÈ°ò„ÅÑ`}generateBasicFallback(e,n,t=null){return{name_jp:n?.name_jp||`Á¨¨${e}Âç¶`,catchphrase:n?.catchphrase||"Ê∑±„ÅÑÊô∫ÊÖß„ÇíÊåÅ„Å§‰∫∫",description:n?.description||`Á¨¨${e}Âç¶„ÅÆÊ∑±„ÅÑÊô∫ÊÖß„ÇíÊåÅ„Å§„ÅÇ„Å™„Åü„ÅØ„ÄÅÁã¨Ëá™„ÅÆ‰æ°ÂÄ§Ë¶≥„Åß‰∏ñÁïå„ÇíÊçâ„Åà„ÇãÁâπÂà•„Å™Â≠òÂú®„Åß„Åô„ÄÇ`,keywords:["ÊàêÈï∑","Â§âÂåñ","Ë™øÂíå"],engine:{strength_meter:75,core_drive:"Ëá™Â∑±ÂÆüÁèæ„Å®‰ªñËÄÖ„Å∏„ÅÆË≤¢ÁåÆ„ÅÆË™øÂíå",potential_strengths:["Áã¨Áâπ„Å™Ë¶ñÁÇπ","Ê∑±„ÅÑÊÄùËÄÉÂäõ","‰æ°ÂÄ§Ë¶≥„Å∏„ÅÆÂø†ÂÆü„Åï"],potential_weaknesses:["ÁêÜÊÉ≥„Å®ÁèæÂÆü„ÅÆ„ÇÆ„É£„ÉÉ„Éó","‰ªñËÄÖ„Å®„ÅÆ‰æ°ÂÄ§Ë¶≥„ÅÆÁõ∏ÈÅï","Â§âÂåñ„Å∏„ÅÆÈÅ©Âøú"]},interface:{how_it_appears:"Èùô„Åã„ÅßÊÄùÊÖÆÊ∑±„ÅÑÂ≠òÂú®ÊÑü",behavioral_patterns:["ÊÖéÈáç„Å™Áô∫Ë®Ä","Ê∑±„ÅÑÊ¥ûÂØü„ÅÆÊèê‰æõ","‰æ°ÂÄ§Ë¶≥„Å´Âü∫„Å•„ÅèË°åÂãï"],impression_on_others:"‰ø°È†º„Åß„Åç„Çã„ÅåÂ∞ë„ÅóË™≠„Åø„Å´„Åè„ÅÑ‰∫∫"},safe_mode:{trigger_situations:["‰æ°ÂÄ§Ë¶≥„ÅåËÑÖ„Åã„Åï„Çå„ÅüÊôÇ","ÁêÜËß£„Åï„Çå„Å™„ÅÑÁä∂Ê≥Å","ÈÅéÂ∫¶„Å™„Éó„É¨„ÉÉ„Ç∑„É£„Éº"],defensive_patterns:["ÂÜÖÂêëÁöÑ„Å´„Å™„Çã","Ëá™ÂàÜ„ÅÆ‰∏ñÁïå„Å´Èñâ„Åò„Åì„ÇÇ„Çã","È†ëÂõ∫„Å™ÊÖãÂ∫¶"],internal_state:"„ÄåËá™ÂàÜ„ÅÆÈÅì„ÇíË≤´„Åì„ÅÜ„Äç„Å®„ÅÑ„ÅÜÊÑèÂøó„Å®„ÄåÁêÜËß£„Åï„Çå„Åü„ÅÑ„Äç„Å®„ÅÑ„ÅÜÈ°ò„ÅÑ"},trigrams:{upper:{name:"‰∏äÂç¶",symbol:"‚ò∞",description:"Â§ñÂêëÁöÑ„Å™ÁâπÊÄß"},lower:{name:"‰∏ãÂç¶",symbol:"‚ò∑",description:"ÂÜÖÂêëÁöÑ„Å™ÁâπÊÄß"}}}}calculateStrengthMeter(e,n){const t={1:95,2:70,3:85,4:80,5:75,6:78,7:82,8:72},r=t[e]||75,a=t[n]||75;return Math.round(.6*r+.4*a)}generateCoreDrive(e,n){if(e===n)return this.coreDrivePatterns.pure[e]||this.coreDrivePatterns.mixed;const t=`${Math.min(e,n)}-${Math.max(e,n)}`;return this.coreDrivePatterns.opposite[t]||this.coreDrivePatterns.mixed}combineStrengths(e,n){if(!e||!n)return["ÂâµÈÄ†ÊÄß","Ê¥ûÂØüÂäõ","‰æ°ÂÄ§Ë¶≥„Å∏„ÅÆÂø†ÂÆü„Åï"];const t=[...e.engineStrengths.slice(0,2),...n.engineStrengths.slice(0,1)];return t.length>0?t:["ÂâµÈÄ†ÊÄß","Ê¥ûÂØüÂäõ","‰æ°ÂÄ§Ë¶≥„Å∏„ÅÆÂø†ÂÆü„Åï"]}combineWeaknesses(e,n){if(!e||!n)return["ÁêÜÊÉ≥‰∏ªÁæ©ÁöÑÂÇæÂêë","‰ªñËÄÖ„Å®„ÅÆ‰æ°ÂÄ§Ë¶≥„ÅÆÈÅï„ÅÑ","Â§âÂåñ„Å∏„ÅÆÊäµÊäó"];const t=[...e.engineWeaknesses.slice(0,2),...n.engineWeaknesses.slice(0,1)];return t.length>0?t:["ÁêÜÊÉ≥‰∏ªÁæ©ÁöÑÂÇæÂêë","‰ªñËÄÖ„Å®„ÅÆ‰æ°ÂÄ§Ë¶≥„ÅÆÈÅï„ÅÑ","Â§âÂåñ„Å∏„ÅÆÊäµÊäó"]}combineBehaviors(e,n){if(!e||!n)return["ÊÖéÈáç„Å™Áô∫Ë®Ä","Ê∑±„ÅÑÊ¥ûÂØü„ÅÆÊèê‰æõ","‰æ°ÂÄ§Ë¶≥„Å´Âü∫„Å•„ÅèË°åÂãï"];const t=[...e.interfaceBehaviors.slice(0,2),...n.interfaceBehaviors.slice(0,1)];return t.length>0?t:["ÊÖéÈáç„Å™Áô∫Ë®Ä","Ê∑±„ÅÑÊ¥ûÂØü„ÅÆÊèê‰æõ","‰æ°ÂÄ§Ë¶≥„Å´Âü∫„Å•„ÅèË°åÂãï"]}combineDefensivePatterns(e,n){if(!e||!n)return["ÂÜÖÂêëÁöÑ„Å´„Å™„Çã","Ëá™ÂàÜ„ÅÆ‰∏ñÁïå„Å´Èñâ„Åò„Åì„ÇÇ„Çã","È†ëÂõ∫„Å™ÊÖãÂ∫¶"];const t=[...e.safeModePatterns.slice(0,2),...n.safeModePatterns.slice(0,1)];return t.length>0?t:["ÂÜÖÂêëÁöÑ„Å´„Å™„Çã","Ëá™ÂàÜ„ÅÆ‰∏ñÁïå„Å´Èñâ„Åò„Åì„ÇÇ„Çã","È†ëÂõ∫„Å™ÊÖãÂ∫¶"]}generateAppearance(e,n){return{1:"Ëá™‰ø°„Å´Ê∫Ä„Å°„ÅüÂ†Ç„ÄÖ„Å®„Åó„ÅüÊåØ„ÇãËàû„ÅÑ",2:"Êòé„Çã„ÅèË¶™„Åó„Åø„ÇÑ„Åô„ÅÑÈõ∞Âõ≤Ê∞ó",3:"Áü•ÁöÑ„ÅßËèØ„ÇÑ„Åã„Å™Â≠òÂú®ÊÑü",4:"„Ç®„Éç„É´„ÇÆ„ÉÉ„Ç∑„É•„ÅßÊ¥ªÂãïÁöÑ„Å™ÊßòÂ≠ê",5:"Á©è„ÇÑ„Åã„ÅßÂçîË™øÁöÑ„Å™ÊÖãÂ∫¶",6:"ÊÖéÈáç„ÅßÊÄùÊÖÆÊ∑±„ÅÑÂßøÂã¢",7:"ÂÆâÂÆöÊÑü„ÅÆ„ÅÇ„ÇãËêΩ„Å°ÁùÄ„ÅÑ„ÅüÊßòÂ≠ê",8:"Ê∏©Âíå„ÅßÊîØÊè¥ÁöÑ„Å™Èõ∞Âõ≤Ê∞ó"}[e]||"Áã¨Áâπ„Å™Â≠òÂú®ÊÑü„ÇíÊåÅ„Å§‰∫∫"}generateImpression(e,n){return"‰ø°È†º„Åß„Åç„Çã„Åå„ÄÅ„Åù„ÅÆÊ∑±„ÅÑÊÄùËÄÉ„ÅØÊôÇ„Å´ÁêÜËß£„Åô„Çã„ÅÆ„ÅåÈõ£„Åó„ÅÑ„ÄÇÁã¨Ëá™„ÅÆË¶ñÁÇπ„ÇíÊåÅ„Å§ËààÂë≥Ê∑±„ÅÑ‰∫∫Áâ©„ÄÇ"}generateTriggers(e,n){return["Ëá™ÂàÜ„ÅÆ‰æ°ÂÄ§Ë¶≥„ÅåÂê¶ÂÆö„Åï„Çå„ÅüÊôÇ","ÁêÜ‰∏çÂ∞Ω„Å™Áä∂Ê≥Å„Å´Áõ¥Èù¢„Åó„ÅüÊôÇ","Èï∑ÊúüÈñì„ÅÆ„Çπ„Éà„É¨„Çπ„Å´„Åï„Çâ„Åï„Çå„ÅüÊôÇ"]}generateInternalState(e,n){return"„ÄåËá™ÂàÜ„Çâ„Åó„Åè„ÅÇ„Çä„Åü„ÅÑ„Äç„Å®„ÅÑ„ÅÜÈ°ò„ÅÑ„Å®„ÄåÂë®Âõ≤„Å®„ÅÆË™øÂíå„ÇÇÂ§ßÂàá„Äç„Å®„ÅÑ„ÅÜÊÄù„ÅÑ„ÅÆÈñì„Åß„ÅÆËëõËó§„ÄÇ"}getTrigramInfo(e){return{1:{name:"‰πæ",symbol:"‚ò∞",description:"Â§©„ÄÅÂâµÈÄ†ÊÄß„ÄÅ„É™„Éº„ÉÄ„Éº„Ç∑„ÉÉ„Éó"},2:{name:"ÂÖå",symbol:"‚ò±",description:"Ê≤¢„ÄÅÂñú„Å≥„ÄÅ„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥"},3:{name:"Èõ¢",symbol:"‚ò≤",description:"ÁÅ´„ÄÅÁü•ÊÄß„ÄÅÁæé"},4:{name:"Èúá",symbol:"‚ò≥",description:"Èõ∑„ÄÅË°åÂãï„ÄÅÂ§âÂåñ"},5:{name:"Â∑Ω",symbol:"‚ò¥",description:"È¢®„ÄÅÊüîËªüÊÄß„ÄÅÊµ∏ÈÄè"},6:{name:"Âùé",symbol:"‚òµ",description:"Ê∞¥„ÄÅÁü•ÊÅµ„ÄÅÂõ∞Èõ£"},7:{name:"ËâÆ",symbol:"‚ò∂",description:"Â±±„ÄÅÂÆâÂÆö„ÄÅÈùôÊ≠¢"},8:{name:"Âù§",symbol:"‚ò∑",description:"Âú∞„ÄÅÂèóÂÆπ„ÄÅËÇ≤Êàê"}}[e]||{name:"‰∏çÊòé",symbol:"‚ò∞",description:"Âü∫Êú¨ÁöÑ„Å™ÁâπÊÄß"}}getHexagramDetails(e,n=null){const t=window.hexagrams_master?.find(n=>n.hexagram_id===e);return t?this.generateHexagramDetails(e,t,n):(console.warn(`‚ö†Ô∏è Âç¶${e}„ÅÆ„Éá„Éº„Çø„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì`),this.generateBasicFallback(e,null,n))}assessFallbackQuality(e){let n=0;return e.triple_os_enhanced&&(n+=30),e.engine?.personalized&&(n+=25),e.interface?.personalized&&(n+=25),e.safe_mode?.personalized&&(n+=20),Math.min(n,100)}}"undefined"!=typeof window&&(window.HexagramDetailsFallback=HexagramDetailsFallback,window.hexagramDetailsFallback=new HexagramDetailsFallback,console.log("‚úÖ HexagramDetailsFallback loaded and ready")),"undefined"!=typeof module&&module.exports&&(module.exports=HexagramDetailsFallback);