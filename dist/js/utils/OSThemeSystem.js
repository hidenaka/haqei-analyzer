class OSThemeSystem{constructor(){this.currentTheme=null,this.themeMap=this.initializeThemeMap()}initializeThemeMap(){return{1:{primary:"#FF6B35",secondary:"#F7931E",name:"keniten",label:"乾為天"},14:{primary:"#FF4500",secondary:"#FF6347",name:"daiyuu",label:"大有"},34:{primary:"#FF2D00",secondary:"#FF5733",name:"daiso",label:"大壮"},43:{primary:"#FF1744",secondary:"#E91E63",name:"ketsu",label:"夬"},2:{primary:"#8B4513",secondary:"#D2691E",name:"konichi",label:"坤為地"},7:{primary:"#A0522D",secondary:"#CD853F",name:"shi",label:"師"},15:{primary:"#654321",secondary:"#8B7355",name:"ken",label:"謙"},16:{primary:"#8B6914",secondary:"#DAA520",name:"yo",label:"豫"},3:{primary:"#1E90FF",secondary:"#00BFFF",name:"chun",label:"水雷屯"},17:{primary:"#4169E1",secondary:"#6495ED",name:"zui",label:"沢雷随"},21:{primary:"#0000CD",secondary:"#4169E1",name:"shiko",label:"火雷噬嗑"},51:{primary:"#1E3A8A",secondary:"#3B82F6",name:"shin",label:"震為雷"},4:{primary:"#32CD32",secondary:"#98FB98",name:"mou",label:"山水蒙"},18:{primary:"#228B22",secondary:"#90EE90",name:"ko",label:"山風盅"},26:{primary:"#006400",secondary:"#7CFC00",name:"daikiku",label:"山天大畜"},41:{primary:"#2E7D32",secondary:"#66BB6A",name:"son",label:"山沢損"},5:{primary:"#87CEEB",secondary:"#ADD8E6",name:"ju",label:"水天需"},9:{primary:"#4682B4",secondary:"#B0C4DE",name:"shochiku",label:"風天小畜"},26:{primary:"#5F9EA0",secondary:"#AFEEEE",name:"daikiku",label:"山天大畜"},11:{primary:"#00CED1",secondary:"#48D1CC",name:"tai",label:"地天泰"},6:{primary:"#DC143C",secondary:"#F08080",name:"sho",label:"天水訟"},10:{primary:"#B22222",secondary:"#CD5C5C",name:"ri",label:"天沢履"},25:{primary:"#8B0000",secondary:"#A52A2A",name:"mubou",label:"天雷無妄"},44:{primary:"#DC143C",secondary:"#FF6B6B",name:"kou",label:"天風姤"},7:{primary:"#2F4F4F",secondary:"#708090",name:"shi",label:"地水師"},46:{primary:"#556B2F",secondary:"#8FBC8F",name:"sho",label:"地風升"},24:{primary:"#191970",secondary:"#6A5ACD",name:"fuku",label:"地雷復"},19:{primary:"#483D8B",secondary:"#9370DB",name:"rin",label:"地沢臨"},8:{primary:"#4169E1",secondary:"#7B68EE",name:"hi",label:"水地比"},20:{primary:"#6A5ACD",secondary:"#9932CC",name:"kan",label:"風地観"},23:{primary:"#8B008B",secondary:"#DA70D6",name:"hakusan",label:"山地剥"},35:{primary:"#9400D3",secondary:"#BA55D3",name:"shin",label:"火地晋"},9:{primary:"#20B2AA",secondary:"#48D1CC",name:"shochiku",label:"風天小畜"},37:{primary:"#008B8B",secondary:"#40E0D0",name:"kaji",label:"風火家人"},42:{primary:"#5F9EA0",secondary:"#B0E0E6",name:"eki",label:"風雷益"},57:{primary:"#4682B4",secondary:"#87CEEB",name:"son",label:"巽為風"},12:{primary:"#696969",secondary:"#A9A9A9",name:"hi",label:"天地否"},13:{primary:"#FF69B4",secondary:"#FFB6C1",name:"dougen",label:"天火同人"},22:{primary:"#FF1493",secondary:"#FF69B4",name:"hi",label:"山火賁"},27:{primary:"#32CD32",secondary:"#7FFF00",name:"igan",label:"山雷頤"},28:{primary:"#FFD700",secondary:"#FFFF00",name:"taikakako",label:"沢風大過"},29:{primary:"#00008B",secondary:"#0000FF",name:"kan",label:"坎為水"},30:{primary:"#FF4500",secondary:"#FF6347",name:"ri",label:"離為火"},31:{primary:"#DDA0DD",secondary:"#EE82EE",name:"kan",label:"沢山咸"},32:{primary:"#7FFF00",secondary:"#ADFF2F",name:"kou",label:"雷風恒"},33:{primary:"#D2691E",secondary:"#F4A460",name:"ton",label:"天山遯"},36:{primary:"#8B0000",secondary:"#DC143C",name:"meii",label:"地火明夷"},38:{primary:"#FF6347",secondary:"#FFA07A",name:"kei",label:"火沢睽"},39:{primary:"#4169E1",secondary:"#6495ED",name:"ken",label:"水山蹇"},40:{primary:"#32CD32",secondary:"#98FB98",name:"kai",label:"雷水解"},45:{primary:"#9370DB",secondary:"#BA55D3",name:"sui",label:"沢地萃"},47:{primary:"#2F4F4F",secondary:"#696969",name:"kon",label:"沢水困"},48:{primary:"#008B8B",secondary:"#20B2AA",name:"sei",label:"水風井"},49:{primary:"#FF4500",secondary:"#FF8C00",name:"kakumei",label:"沢火革"},50:{primary:"#8B4513",secondary:"#D2691E",name:"tei",label:"火風鼎"},52:{primary:"#2E8B57",secondary:"#3CB371",name:"kon",label:"艮為山"},53:{primary:"#228B22",secondary:"#32CD32",name:"zen",label:"風山漸"},54:{primary:"#FF1493",secondary:"#FF69B4",name:"kibo",label:"雷沢帰妹"},55:{primary:"#FFD700",secondary:"#FFA500",name:"raifuu",label:"雷火豊"},56:{primary:"#FF4500",secondary:"#FF6347",name:"ryozan",label:"火山旅"},58:{primary:"#DA70D6",secondary:"#EE82EE",name:"da",label:"兌為沢"},59:{primary:"#1E90FF",secondary:"#87CEFA",name:"kan",label:"風水渙"},60:{primary:"#4682B4",secondary:"#5F9EA0",name:"setsu",label:"水沢節"},61:{primary:"#FF69B4",secondary:"#FFB6C1",name:"chujutsu",label:"風沢中孚"},62:{primary:"#2E8B57",secondary:"#90EE90",name:"shouka",label:"雷山小過"},63:{primary:"#B22222",secondary:"#CD5C5C",name:"kisai",label:"水火既済"},64:{primary:"#FF6347",secondary:"#FFA07A",name:"misai",label:"火水未済"}}}getThemeForOS(e){const a=this.themeMap[e];return a||(console.warn(`Theme not found for hexagram ${e}, using default`),{primary:"#6366F1",secondary:"#8B5CF6",name:"default",label:"未定義"})}applyTheme(e){const a=this.getThemeForOS(e);this.currentTheme=a,document.body.setAttribute("data-theme",a.name),document.documentElement.style.setProperty("--theme-primary",a.primary),document.documentElement.style.setProperty("--theme-secondary",a.secondary),document.documentElement.style.setProperty("--theme-primary-rgb",this.hexToRgb(a.primary)),document.documentElement.style.setProperty("--theme-secondary-rgb",this.hexToRgb(a.secondary));const r=this.getBrightness(a.primary)>128?"#000000":"#FFFFFF";return document.documentElement.style.setProperty("--theme-text",r),console.log(`Applied theme: ${a.name} (${a.label}) - Primary: ${a.primary}`),a}getCurrentTheme(){return this.currentTheme}getThemeGradient(e,a="135deg"){const r=this.getThemeForOS(e);return`linear-gradient(${a}, ${r.primary}, ${r.secondary})`}getThemeVariations(e){const a=this.getThemeForOS(e);return{light:this.lightenColor(a.primary,20),dark:this.darkenColor(a.primary,20),alpha50:this.addAlpha(a.primary,.5),alpha20:this.addAlpha(a.primary,.2),alpha10:this.addAlpha(a.primary,.1)}}hexToRgb(e){const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a?`${parseInt(a[1],16)}, ${parseInt(a[2],16)}, ${parseInt(a[3],16)}`:"0, 0, 0"}getBrightness(e){const a=this.hexToRgb(e).split(", ").map(Number);return(299*a[0]+587*a[1]+114*a[2])/1e3}lightenColor(e,a){const r=parseInt(e.replace("#",""),16),n=Math.round(2.55*a),m=(r>>16)+n,l=(r>>8&255)+n,y=(255&r)+n;return"#"+(16777216+65536*(m<255?m<1?0:m:255)+256*(l<255?l<1?0:l:255)+(y<255?y<1?0:y:255)).toString(16).slice(1)}darkenColor(e,a){const r=parseInt(e.replace("#",""),16),n=Math.round(2.55*a),m=(r>>16)-n,l=(r>>8&255)-n,y=(255&r)-n;return"#"+(16777216+65536*(m>255?255:m<0?0:m)+256*(l>255?255:l<0?0:l)+(y>255?255:y<0?0:y)).toString(16).slice(1)}addAlpha(e,a){return`rgba(${this.hexToRgb(e)}, ${a})`}getAllThemes(){return this.themeMap}resetTheme(){document.body.removeAttribute("data-theme");["--theme-primary","--theme-secondary","--theme-primary-rgb","--theme-secondary-rgb","--theme-text"].forEach(e=>{document.documentElement.style.removeProperty(e)}),this.currentTheme=null}}"undefined"!=typeof window&&(window.OSThemeSystem=OSThemeSystem);