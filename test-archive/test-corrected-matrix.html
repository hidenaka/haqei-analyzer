<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>64å¦ãƒãƒˆãƒªã‚¯ã‚¹ä¿®æ­£ç‰ˆãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background: #1e1e1e;
            color: #d4d4d4;
        }
        h1 {
            color: #4ec9b0;
            text-align: center;
        }
        pre {
            background: #2d2d2d;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            line-height: 1.5;
        }
        .success { color: #4ec9b0; }
        .error { color: #f48771; }
        .info { color: #9cdcfe; }
        button {
            background: #007acc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
        }
        button:hover {
            background: #005a9e;
        }
        .controls {
            text-align: center;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ 64å¦ãƒãƒˆãƒªã‚¯ã‚¹ä¿®æ­£ç‰ˆãƒ†ã‚¹ãƒˆ</h1>
    
    <div class="controls">
        <button onclick="runTests()">ğŸš€ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
        <button onclick="clearOutput()">ğŸ—‘ï¸ ã‚¯ãƒªã‚¢</button>
    </div>
    
    <pre id="output">ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­...</pre>

    <script src="hexagram-matrix-corrected.js"></script>
    <script>
        const outputElement = document.getElementById('output');
        
        // ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£
        const originalLog = console.log;
        let capturedOutput = '';
        
        console.log = function(...args) {
            const message = args.join(' ');
            capturedOutput += message + '\n';
            
            // è‰²ä»˜ã‘
            let formatted = message;
            formatted = formatted.replace(/âœ…/g, '<span class="success">âœ…</span>');
            formatted = formatted.replace(/âŒ/g, '<span class="error">âŒ</span>');
            formatted = formatted.replace(/===/g, '<span class="info">===</span>');
            formatted = formatted.replace(/â•”â•+â•—/g, '<span class="info">$&</span>');
            formatted = formatted.replace(/â•‘.+â•‘/g, '<span class="info">$&</span>');
            formatted = formatted.replace(/â•šâ•+â•/g, '<span class="info">$&</span>');
            
            outputElement.innerHTML = capturedOutput.split('\n').map(line => {
                if (line.includes('âœ…')) return `<span class="success">${line}</span>`;
                if (line.includes('âŒ')) return `<span class="error">${line}</span>`;
                if (line.includes('===') || line.includes('â•')) return `<span class="info">${line}</span>`;
                return line;
            }).join('\n');
            
            originalLog.apply(console, args);
        };
        
        function runTests() {
            capturedOutput = '';
            outputElement.innerHTML = 'ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...\n\n';
            
            const matrix = new HexagramMatrixCorrected();
            const result = matrix.runFullTestSuite();
            
            // çµæœã«å¿œã˜ã¦æœ€çµ‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿½åŠ 
            if (result) {
                capturedOutput += '\nğŸ‰ ãƒãƒˆãƒªã‚¯ã‚¹ä¿®æ­£å®Œäº†ï¼å°‚é–€å®¶ã®æŒ‡æ‘˜äº‹é …ãŒè§£æ±ºã•ã‚Œã¾ã—ãŸã€‚';
            } else {
                capturedOutput += '\nâš ï¸ ã¾ã ä¿®æ­£ãŒå¿…è¦ã§ã™ã€‚';
            }
            
            outputElement.innerHTML = capturedOutput.split('\n').map(line => {
                if (line.includes('âœ…') || line.includes('ğŸ‰')) return `<span class="success">${line}</span>`;
                if (line.includes('âŒ') || line.includes('âš ï¸')) return `<span class="error">${line}</span>`;
                if (line.includes('===') || line.includes('â•')) return `<span class="info">${line}</span>`;
                return line;
            }).join('\n');
        }
        
        function clearOutput() {
            capturedOutput = '';
            outputElement.innerHTML = 'ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­...';
        }
        
        // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«è‡ªå‹•å®Ÿè¡Œ
        window.onload = () => {
            setTimeout(runTests, 500);
        };
    </script>
</body>
</html>