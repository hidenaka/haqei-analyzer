<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ”¹å–„è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯æ¤œè¨¼</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .improvement-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #667eea;
        }
        .test-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .test-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
        }
        .test-title {
            font-size: 18px;
            font-weight: bold;
            color: #495057;
            margin-bottom: 15px;
        }
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
        }
        button:hover {
            transform: translateY(-2px);
        }
        .result-box {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }
        .success { color: #28a745; font-weight: bold; }
        .error { color: #dc3545; font-weight: bold; }
        .warning { color: #ffc107; font-weight: bold; }
        .info { color: #17a2b8; font-weight: bold; }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .comparison-table th,
        .comparison-table td {
            border: 1px solid #dee2e6;
            padding: 10px;
            text-align: left;
        }
        .comparison-table th {
            background: #f8f9fa;
            font-weight: bold;
        }
        .improved { background: #d4edda; }
        .issue { background: #f8d7da; }
        
        .pure-hexagram-badge {
            display: inline-block;
            background: #ffc107;
            color: #000;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            margin-left: 5px;
        }
        
        .confidence-meter {
            display: inline-block;
            width: 100px;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin-left: 10px;
        }
        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #dc3545, #ffc107, #28a745);
            transition: width 0.3s;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ æ”¹å–„è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯æ¤œè¨¼ãƒ„ãƒ¼ãƒ«</h1>
        
        <div class="improvement-card">
            <h2>ğŸ“Š ä¸»ãªæ”¹å–„ç‚¹</h2>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>é …ç›®</th>
                        <th>æ”¹å–„å‰</th>
                        <th>æ”¹å–„å¾Œ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ç”¨èª</td>
                        <td class="issue">ã€Œä¸‰çˆ»ã€ï¼ˆèª¤ç”¨ï¼‰</td>
                        <td class="improved">ã€Œå…«å¦ã€ï¼ˆæ­£ã—ã„ï¼‰</td>
                    </tr>
                    <tr>
                        <td>ç´”å¦ã®æ‰±ã„</td>
                        <td class="issue">æ’é™¤ï¼ˆ8å¦ãŒå‡ºç¾ä¸å¯ï¼‰</td>
                        <td class="improved">è¨±å®¹ï¼ˆå…¨64å¦å‡ºç¾å¯èƒ½ï¼‰</td>
                    </tr>
                    <tr>
                        <td>8æ¬¡å…ƒçµ±ä¸€</td>
                        <td class="issue">OSæ¯ã«ç•°ãªã‚‹æ¬¡å…ƒ</td>
                        <td class="improved">å…¨OSå…«å¦æ¬¡å…ƒã«çµ±ä¸€</td>
                    </tr>
                    <tr>
                        <td>æ­£è¦åŒ–</td>
                        <td class="issue">ä¸é€æ˜ãªå‡¦ç†</td>
                        <td class="improved">Z-scoreâ†’ReLUâ†’L1æ­£è¦åŒ–</td>
                    </tr>
                    <tr>
                        <td>ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰</td>
                        <td class="issue">ä¾¡å€¤åˆ¤æ–­ã‚ã‚Š</td>
                        <td class="improved">ä¸­ç«‹çš„ã‚«ãƒ†ã‚´ãƒª</td>
                    </tr>
                    <tr>
                        <td>ç¢ºä¿¡åº¦</td>
                        <td class="issue">ãªã—</td>
                        <td class="improved">3æ®µéšè©•ä¾¡å®Ÿè£…</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="test-section">
            <!-- ç´”å¦ãƒ†ã‚¹ãƒˆ -->
            <div class="test-card">
                <div class="test-title">ğŸ¯ ç´”å¦å‡ºç¾ãƒ†ã‚¹ãƒˆ</div>
                <button onclick="testPureHexagrams()">ç´”å¦ã‚’ãƒ†ã‚¹ãƒˆ</button>
                <div id="pure-result" class="result-box">ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­...</div>
            </div>
            
            <!-- å…¨64å¦ç¶²ç¾…æ€§ãƒ†ã‚¹ãƒˆ -->
            <div class="test-card">
                <div class="test-title">ğŸ“Š 64å¦ç¶²ç¾…æ€§ãƒ†ã‚¹ãƒˆ</div>
                <button onclick="testCoverage()">ç¶²ç¾…æ€§ã‚’ãƒ†ã‚¹ãƒˆ</button>
                <div id="coverage-result" class="result-box">ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­...</div>
            </div>
            
            <!-- å…«å¦æ¬¡å…ƒçµ±ä¸€ãƒ†ã‚¹ãƒˆ -->
            <div class="test-card">
                <div class="test-title">ğŸ”„ å…«å¦æ¬¡å…ƒå¤‰æ›ãƒ†ã‚¹ãƒˆ</div>
                <button onclick="testDimensionConversion()">å¤‰æ›ã‚’ãƒ†ã‚¹ãƒˆ</button>
                <div id="dimension-result" class="result-box">ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­...</div>
            </div>
            
            <!-- æ­£è¦åŒ–ãƒ—ãƒ­ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ -->
            <div class="test-card">
                <div class="test-title">ğŸ“ˆ æ­£è¦åŒ–ãƒ—ãƒ­ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ</div>
                <button onclick="testNormalization()">æ­£è¦åŒ–ã‚’ãƒ†ã‚¹ãƒˆ</button>
                <div id="normalization-result" class="result-box">ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­...</div>
            </div>
            
            <!-- ç¢ºä¿¡åº¦ãƒ†ã‚¹ãƒˆ -->
            <div class="test-card">
                <div class="test-title">ğŸ’¯ ç¢ºä¿¡åº¦è©•ä¾¡ãƒ†ã‚¹ãƒˆ</div>
                <button onclick="testConfidence()">ç¢ºä¿¡åº¦ã‚’ãƒ†ã‚¹ãƒˆ</button>
                <div id="confidence-result" class="result-box">ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­...</div>
            </div>
            
            <!-- ä¸€è²«æ€§ãƒ†ã‚¹ãƒˆ -->
            <div class="test-card">
                <div class="test-title">ğŸ”’ æ±ºå®šè«–çš„ä¸€è²«æ€§ãƒ†ã‚¹ãƒˆ</div>
                <button onclick="testConsistency()">ä¸€è²«æ€§ã‚’ãƒ†ã‚¹ãƒˆ</button>
                <div id="consistency-result" class="result-box">ãƒ†ã‚¹ãƒˆå¾…æ©Ÿä¸­...</div>
            </div>
        </div>
        
        <div class="improvement-card">
            <h2>ğŸš€ çµ±åˆè¨ºæ–­ãƒ‡ãƒ¢</h2>
            <button onclick="runFullDiagnosis()" style="font-size: 16px; padding: 15px 40px;">
                å®Œå…¨è¨ºæ–­ã‚’å®Ÿè¡Œ
            </button>
            <div id="diagnosis-result" class="result-box" style="min-height: 200px;">
                è¨ºæ–­å¾…æ©Ÿä¸­...
            </div>
        </div>
    </div>
    
    <script src="improved-diagnosis-logic.js"></script>
    <script>
        // æ”¹å–„ãƒ­ã‚¸ãƒƒã‚¯ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–
        const logic = new ImprovedDiagnosisLogic();
        const validator = new DiagnosisValidator(logic);
        
        // ç´”å¦ãƒ†ã‚¹ãƒˆ
        function testPureHexagrams() {
            const resultDiv = document.getElementById('pure-result');
            resultDiv.innerHTML = '<span class="info">ç´”å¦ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</span>\n\n';
            
            const pureHexagrams = [
                { name: "ä¹¾ç‚ºå¤©", upper: "ä¹¾", lower: "ä¹¾", id: 1 },
                { name: "å¤ç‚ºåœ°", upper: "å¤", lower: "å¤", id: 2 },
                { name: "åç‚ºæ°´", upper: "å", lower: "å", id: 29 },
                { name: "é›¢ç‚ºç«", upper: "é›¢", lower: "é›¢", id: 30 },
                { name: "éœ‡ç‚ºé›·", upper: "éœ‡", lower: "éœ‡", id: 51 },
                { name: "è‰®ç‚ºå±±", upper: "è‰®", lower: "è‰®", id: 52 },
                { name: "å·½ç‚ºé¢¨", upper: "å·½", lower: "å·½", id: 57 },
                { name: "å…Œç‚ºæ²¢", upper: "å…Œ", lower: "å…Œ", id: 58 }
            ];
            
            let result = 'ç´”å¦ç”Ÿæˆãƒ†ã‚¹ãƒˆ:\n';
            result += 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n';
            
            pureHexagrams.forEach(pure => {
                const hexagram = logic.determineHexagram(pure.upper, pure.lower);
                const correct = hexagram.id === pure.id;
                result += `${pure.name} (#${pure.id}): `;
                result += correct ? 
                    `<span class="success">âœ… æ­£å¸¸ç”Ÿæˆ</span>\n` : 
                    `<span class="error">âŒ ã‚¨ãƒ©ãƒ¼ (got #${hexagram.id})</span>\n`;
            });
            
            // ãƒ©ãƒ³ãƒ€ãƒ ãƒ™ã‚¯ãƒˆãƒ«ã§ã®ç´”å¦å‡ºç¾ãƒ†ã‚¹ãƒˆ
            result += '\nç´”å¦è‡ªç„¶å‡ºç¾ãƒ†ã‚¹ãƒˆ (100å›):\n';
            const pureAppeared = new Set();
            
            for (let i = 0; i < 100; i++) {
                // ä¸€ã¤ã®å…«å¦ã‚’å¼·ãã™ã‚‹
                const strongBagua = logic.BAGUA_ORDER[Math.floor(Math.random() * 8)];
                const vector = {};
                logic.BAGUA_ORDER.forEach(bagua => {
                    vector[bagua] = bagua === strongBagua ? 1.0 : Math.random() * 0.1;
                });
                
                const selection = logic.selectTopBagua(vector, true);
                if (selection.isPure) {
                    const hexagram = logic.determineHexagram(selection.upper, selection.lower);
                    pureAppeared.add(hexagram.id);
                }
            }
            
            result += `å‡ºç¾ã—ãŸç´”å¦: ${pureAppeared.size}/8\n`;
            result += pureAppeared.size > 0 ? 
                '<span class="success">âœ… ç´”å¦ãŒè‡ªç„¶ã«å‡ºç¾</span>' : 
                '<span class="warning">âš ï¸ ç´”å¦ãŒå‡ºç¾ã—ã«ãã„</span>';
            
            resultDiv.innerHTML = result;
        }
        
        // ç¶²ç¾…æ€§ãƒ†ã‚¹ãƒˆ
        function testCoverage() {
            const resultDiv = document.getElementById('coverage-result');
            resultDiv.innerHTML = '<span class="info">ç¶²ç¾…æ€§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</span>\n\n';
            
            const coverage = validator.testCoverage(1000);
            
            let result = '64å¦ç¶²ç¾…æ€§ãƒ†ã‚¹ãƒˆ (1000å›):\n';
            result += 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n';
            result += `å‡ºç¾å¦æ•°: ${coverage.totalAppeared}/64\n`;
            result += `ã‚«ãƒãƒ¼ç‡: ${(coverage.coverage * 100).toFixed(1)}%\n`;
            result += `ç´”å¦ã‚«ãƒãƒ¼ç‡: ${(coverage.pureHexagramsCoverage * 100).toFixed(1)}%\n\n`;
            
            if (coverage.missing.length > 0) {
                result += `<span class="warning">æœªå‡ºç¾ã®å¦: ${coverage.missing.join(', ')}</span>\n`;
            } else {
                result += '<span class="success">âœ… å…¨64å¦ãŒå‡ºç¾å¯èƒ½</span>\n';
            }
            
            result += '\nç´”å¦å‡ºç¾çŠ¶æ³:\n';
            coverage.pureHexagramsAppeared.forEach(id => {
                result += `  å¦#${id}: ${coverage.distribution[id]}å›\n`;
            });
            
            resultDiv.innerHTML = result;
        }
        
        // æ¬¡å…ƒå¤‰æ›ãƒ†ã‚¹ãƒˆ
        function testDimensionConversion() {
            const resultDiv = document.getElementById('dimension-result');
            resultDiv.innerHTML = '<span class="info">æ¬¡å…ƒå¤‰æ›ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</span>\n\n';
            
            // Interface OSå¤‰æ›ãƒ†ã‚¹ãƒˆ
            const interfaceVector = {
                "å¤–å‘_ä¸»å°æ€§": 1.0,
                "å¤–å‘_èª¿å’Œæ€§": 0.8,
                "å¤–å‘_è¡¨ç¾æ€§": 0.6,
                "å¤–å‘_è¡Œå‹•æ€§": 0.4,
                "å†…å‘_é©å¿œæ€§": 0.3,
                "å†…å‘_åˆ†ææ€§": 0.5,
                "å†…å‘_å®‰å®šæ€§": 0.7,
                "å†…å‘_æ”¯æ´æ€§": 0.9
            };
            
            const baguaVector = logic.convertInterfaceToBagua(interfaceVector);
            
            let result = 'Interface OS â†’ å…«å¦å¤‰æ›:\n';
            result += 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n';
            Object.entries(baguaVector).forEach(([bagua, value]) => {
                result += `  ${bagua}: ${value.toFixed(3)}\n`;
            });
            
            // Safe Mode OSå¤‰æ›ãƒ†ã‚¹ãƒˆ
            const safemodeVector = {
                "é˜²å¾¡_å¯¾æŠ—æ€§": 0.8,
                "é˜²å¾¡_èª¿å’Œæ€§": 0.6,
                "é˜²å¾¡_å¤‰å®¹æ€§": 0.4,
                "é˜²å¾¡_å …å›ºæ€§": 0.7,
                "é˜²å¾¡_å›é¿æ€§": 0.5,
                "é˜²å¾¡_æŒä¹…æ€§": 0.9,
                "é˜²å¾¡_å¢ƒç•Œæ€§": 0.3,
                "é˜²å¾¡_æ’¤é€€æ€§": 0.2
            };
            
            const safeBaguaVector = logic.convertSafeModeToBagua(safemodeVector);
            
            result += '\nSafe Mode OS â†’ å…«å¦å¤‰æ›:\n';
            result += 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n';
            Object.entries(safeBaguaVector).forEach(([bagua, value]) => {
                result += `  ${bagua}: ${value.toFixed(3)}\n`;
            });
            
            result += '\n<span class="success">âœ… å…¨OSãŒå…«å¦æ¬¡å…ƒã«çµ±ä¸€</span>';
            
            resultDiv.innerHTML = result;
        }
        
        // æ­£è¦åŒ–ãƒ†ã‚¹ãƒˆ
        function testNormalization() {
            const resultDiv = document.getElementById('normalization-result');
            resultDiv.innerHTML = '<span class="info">æ­£è¦åŒ–ãƒ—ãƒ­ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ...</span>\n\n';
            
            const rawVector = {
                "ä¹¾": 10,
                "å…Œ": 5,
                "é›¢": 8,
                "éœ‡": 3,
                "å·½": 6,
                "å": 7,
                "è‰®": 4,
                "å¤": 2
            };
            
            const normalized = logic.normalizeVector(rawVector, 'engine');
            
            let result = 'æ­£è¦åŒ–ãƒ—ãƒ­ã‚»ã‚¹:\n';
            result += 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n';
            result += 'å…¥åŠ›ãƒ™ã‚¯ãƒˆãƒ«:\n';
            Object.entries(rawVector).forEach(([k, v]) => {
                result += `  ${k}: ${v}\n`;
            });
            
            result += '\næ­£è¦åŒ–å¾Œï¼ˆZ-scoreâ†’ReLUâ†’L1ï¼‰:\n';
            let sum = 0;
            Object.entries(normalized).forEach(([k, v]) => {
                result += `  ${k}: ${v.toFixed(3)}\n`;
                sum += v;
            });
            
            result += `\nåˆè¨ˆ: ${sum.toFixed(3)}`;
            result += Math.abs(sum - 1.0) < 0.001 ? 
                ' <span class="success">âœ… æ­£è¦åŒ–æˆåŠŸ</span>' :
                ' <span class="error">âŒ æ­£è¦åŒ–ã‚¨ãƒ©ãƒ¼</span>';
            
            resultDiv.innerHTML = result;
        }
        
        // ç¢ºä¿¡åº¦ãƒ†ã‚¹ãƒˆ
        function testConfidence() {
            const resultDiv = document.getElementById('confidence-result');
            resultDiv.innerHTML = '<span class="info">ç¢ºä¿¡åº¦è©•ä¾¡ãƒ†ã‚¹ãƒˆ...</span>\n\n';
            
            const distribution = validator.testConfidenceDistribution(1000);
            
            let result = 'ç¢ºä¿¡åº¦åˆ†å¸ƒ (1000å›):\n';
            result += 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n';
            result += `é«˜ç¢ºä¿¡åº¦: ${(distribution.high * 100).toFixed(1)}%\n`;
            result += `ä¸­ç¢ºä¿¡åº¦: ${(distribution.medium * 100).toFixed(1)}%\n`;
            result += `ä½ç¢ºä¿¡åº¦: ${(distribution.low * 100).toFixed(1)}%\n\n`;
            
            // å…·ä½“ä¾‹
            const examples = [
                { vector: {"ä¹¾": 1.0, "å…Œ": 0.1, "é›¢": 0.1, "éœ‡": 0.1, "å·½": 0.1, "å": 0.1, "è‰®": 0.1, "å¤": 0.1}, label: "æ˜ç¢ºãªå‚¾å‘" },
                { vector: {"ä¹¾": 0.5, "å…Œ": 0.4, "é›¢": 0.3, "éœ‡": 0.2, "å·½": 0.1, "å": 0.1, "è‰®": 0.1, "å¤": 0.1}, label: "ã‚„ã‚„æ˜ç¢º" },
                { vector: {"ä¹¾": 0.3, "å…Œ": 0.29, "é›¢": 0.28, "éœ‡": 0.27, "å·½": 0.26, "å": 0.25, "è‰®": 0.24, "å¤": 0.23}, label: "åƒ…å·®" }
            ];
            
            result += 'å…·ä½“ä¾‹:\n';
            examples.forEach(ex => {
                const normalized = logic.normalizeVector(ex.vector, 'engine');
                const selection = logic.selectTopBagua(normalized, true);
                result += `${ex.label}: ${selection.confidence.level} (${selection.confidence.score.toFixed(3)})\n`;
            });
            
            resultDiv.innerHTML = result;
        }
        
        // ä¸€è²«æ€§ãƒ†ã‚¹ãƒˆ
        function testConsistency() {
            const resultDiv = document.getElementById('consistency-result');
            resultDiv.innerHTML = '<span class="info">ä¸€è²«æ€§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</span>\n\n';
            
            const consistency = validator.testConsistency(100);
            
            let result = 'æ±ºå®šè«–çš„ä¸€è²«æ€§ãƒ†ã‚¹ãƒˆ:\n';
            result += 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n';
            result += `ä¸€è²«æ€§: ${(consistency.consistency * 100).toFixed(1)}%\n`;
            result += consistency.consistency === 1.0 ? 
                '<span class="success">âœ… å®Œå…¨ãªæ±ºå®šè«–çš„å‹•ä½œ</span>' :
                '<span class="error">âŒ éæ±ºå®šè«–çš„ãªè¦ç´ ã‚ã‚Š</span>';
            
            resultDiv.innerHTML = result;
        }
        
        // çµ±åˆè¨ºæ–­ãƒ‡ãƒ¢
        function runFullDiagnosis() {
            const resultDiv = document.getElementById('diagnosis-result');
            resultDiv.innerHTML = '<span class="info">å®Œå…¨è¨ºæ–­å®Ÿè¡Œä¸­...</span>\n\n';
            
            let result = 'ğŸ” æ”¹å–„ãƒ­ã‚¸ãƒƒã‚¯ã«ã‚ˆã‚‹è¨ºæ–­çµæœ\n';
            result += 'â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n';
            
            // 3ã¤ã®OSã‚’è¨ºæ–­
            ['engine', 'interface', 'safemode'].forEach(osType => {
                const diagnosis = logic.diagnoseOS([], osType);
                
                result += `ğŸ“Š ${osType.toUpperCase()} OS:\n`;
                result += `  å¦ç•ªå·: #${diagnosis.hexagramId}\n`;
                result += `  ä¸Šå¦: ${diagnosis.upperBagua}\n`;
                result += `  ä¸‹å¦: ${diagnosis.lowerBagua}\n`;
                
                if (diagnosis.isPureHexagram) {
                    result += '  <span class="warning">ç´”å¦</span>\n';
                }
                
                result += `  ç¢ºä¿¡åº¦: ${diagnosis.confidence.level} (${diagnosis.confidence.score.toFixed(2)})\n`;
                result += `  ${diagnosis.confidence.description}\n\n`;
            });
            
            result += '<span class="success">âœ… è¨ºæ–­å®Œäº†</span>';
            
            resultDiv.innerHTML = result;
        }
    </script>
</body>
</html>